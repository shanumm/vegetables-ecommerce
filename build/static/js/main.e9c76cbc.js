/*! For license information please see main.e9c76cbc.js.LICENSE.txt */
!function(){var e={7757:function(e,t,n){e.exports=n(9727)},6920:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,{FirebaseError:function(){return Ge},SDK_VERSION:function(){return qt},_DEFAULT_ENTRY_NAME:function(){return It},_addComponent:function(){return Pt},_addOrOverwriteComponent:function(){return Dt},_apps:function(){return Nt},_clearComponents:function(){return Lt},_components:function(){return At},_getProvider:function(){return Rt},_registerComponent:function(){return Ot},_removeServiceInstance:function(){return jt},deleteApp:function(){return Yt},getApp:function(){return Wt},getApps:function(){return Ht},initializeApp:function(){return zt},onLog:function(){return Qt},registerVersion:function(){return Kt},setLogLevel:function(){return Jt}});var i=n(2791),a=n(4164);function o(e){if(Array.isArray(e))return e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||u(e,t)||c()}var f="https://js.stripe.com/v3",h=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,d="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",p=null,v=function(e){return null!==p||(p=new Promise((function(t,n){if("undefined"!==typeof window)if(window.Stripe&&e&&console.warn(d),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(f,'"]')),t=0;t<e.length;t++){var n=e[t];if(h.test(n.src))return n}return null}();r&&e?console.warn(d):r||(r=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(f).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n}(e)),r.addEventListener("load",(function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))})),r.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(i){return void n(i)}else t(null)}))),p},m=function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.22.0",startTime:t})}(r,n),r},y=Promise.resolve().then((function(){return v(null)})),g=!1;y.catch((function(e){g||console.warn(e)}));var k=n(5764);function w(){return w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(this,arguments)}var b,x=b||(b={});x.Pop="POP",x.Push="PUSH",x.Replace="REPLACE";var _=function(e){return e};function S(e){e.preventDefault(),e.returnValue=""}function E(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function T(){return Math.random().toString(36).substr(2,8)}function I(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function C(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function N(e,t){if(!e)throw new Error(t)}var A=(0,i.createContext)(null);var P=(0,i.createContext)(null);var D=(0,i.createContext)({outlet:null,matches:[]});function O(e){return function(e){var t=(0,i.useContext)(D).outlet;if(t)return(0,i.createElement)(B.Provider,{value:e},t);return t}(e.context)}function R(e){N(!1)}function j(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,a=void 0===r?null:r,o=e.location,s=e.navigationType,u=void 0===s?b.Pop:s,c=e.navigator,l=e.static,f=void 0!==l&&l;F()&&N(!1);var h=ee(n),d=(0,i.useMemo)((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=C(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,k=p.hash,w=void 0===k?"":k,x=p.state,_=void 0===x?null:x,S=p.key,E=void 0===S?"default":S,T=(0,i.useMemo)((function(){var e=$(m,h);return null==e?null:{pathname:e,search:g,hash:w,state:_,key:E}}),[h,m,g,w,_,E]);return null==T?null:(0,i.createElement)(A.Provider,{value:d},(0,i.createElement)(P.Provider,{children:a,value:{location:T,navigationType:u}}))}function L(e){var t=e.children,n=e.location;return function(e,t){F()||N(!1);var n=(0,i.useContext)(D).matches,r=n[n.length-1],a=r?r.params:{},o=(r&&r.pathname,r?r.pathnameBase:"/");r&&r.route;0;var s,u=U();if(t){var c,l="string"===typeof t?C(t):t;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||N(!1),s=l}else s=u;var f=s.pathname||"/",h="/"===o?f:f.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=$(("string"===typeof t?C(t):t).pathname||"/",n);if(null==r)return null;var i=W(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=K(i[o],r);return a}(e,{pathname:h});0;return Q(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:Z([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:Z([o,e.pathnameBase])})})),n)}(z(t),n)}function M(e){F()||N(!1);var t=(0,i.useContext)(A),n=t.basename,r=t.navigator,a=q(e),o=a.hash,s=a.pathname,u=a.search,c=s;if("/"!==n){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?C(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===s?n+(f?"/":""):Z([n,s])}return r.createHref({pathname:c,search:u,hash:o})}function F(){return null!=(0,i.useContext)(P)}function U(){return F()||N(!1),(0,i.useContext)(P).location}function V(){F()||N(!1);var e=(0,i.useContext)(A),t=e.basename,n=e.navigator,r=(0,i.useContext)(D).matches,a=U().pathname,o=JSON.stringify(r.map((function(e){return e.pathnameBase}))),s=(0,i.useRef)(!1);(0,i.useEffect)((function(){s.current=!0}));var u=(0,i.useCallback)((function(e,r){if(void 0===r&&(r={}),s.current)if("number"!==typeof e){var i=X(e,JSON.parse(o),a);"/"!==t&&(i.pathname=Z([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return u}var B=(0,i.createContext)(null);function q(e){var t=(0,i.useContext)(D).matches,n=U().pathname,r=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,i.useMemo)((function(){return X(e,JSON.parse(r),n)}),[e,r,n])}function z(e){var t=[];return i.Children.forEach(e,(function(e){if((0,i.isValidElement)(e))if(e.type!==i.Fragment){e.type!==R&&N(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=z(e.props.children)),t.push(n)}else t.push.apply(t,z(e.props.children))})),t}function W(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||N(!1),a.relativePath=a.relativePath.slice(r.length));var o=Z([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&N(!1),W(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:G(o,e.index),routesMeta:s})})),t}var H=/^:\w+$/,Y=function(e){return"*"===e};function G(e,t){var n=e.split("/"),r=n.length;return n.some(Y)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!Y(e)})).reduce((function(e,t){return e+(H.test(t)?3:""===t?1:10)}),r)}function K(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=J({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:Z([i,l.pathname]),pathnameBase:Z([i,l.pathnameBase]),route:f}),"/"!==l.pathnameBase&&(i=Z([i,l.pathnameBase]))}return a}function Q(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,r,a){return(0,i.createElement)(D.Provider,{children:void 0!==r.route.element?r.route.element:(0,i.createElement)(O,null),value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function J(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function X(e,t,n){var r,i="string"===typeof e?C(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?C(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:te(a),hash:ne(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function $(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var Z=function(e){return e.join("/").replace(/\/\/+/g,"/")},ee=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},te=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ne=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function re(){return re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},re.apply(this,arguments)}function ie(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var ae=["onClick","reloadDocument","replace","state","target","to"];function oe(e){var t=e.basename,n=e.children,r=e.window,a=(0,i.useRef)();null==a.current&&(a.current=function(e){function t(){var e=o.location,t=s.state||{};return[t.idx,_({pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"})]}function n(e){return"string"===typeof e?e:I(e)}function r(e,t){return void 0===t&&(t=null),_(w({pathname:f.pathname,hash:"",search:""},"string"===typeof e?C(e):e,{state:t,key:T()}))}function i(e){c=e,e=t(),l=e[0],f=e[1],h.call({action:c,location:f})}function a(e){s.go(e)}void 0===e&&(e={});var o=void 0===(e=e.window)?document.defaultView:e,s=o.history,u=null;o.addEventListener("popstate",(function(){if(u)d.call(u),u=null;else{var e=b.Pop,n=t(),r=n[0];if(n=n[1],d.length){if(null!=r){var o=l-r;o&&(u={action:e,location:n,retry:function(){a(-1*o)}},a(o))}}else i(e)}}));var c=b.Pop,l=(e=t())[0],f=e[1],h=E(),d=E();return null==l&&(l=0,s.replaceState(w({},s.state,{idx:l}),"")),{get action(){return c},get location(){return f},createHref:n,push:function e(t,a){var u=b.Push,c=r(t,a);if(!d.length||(d.call({action:u,location:c,retry:function(){e(t,a)}}),0)){var f=[{usr:c.state,key:c.key,idx:l+1},n(c)];c=f[0],f=f[1];try{s.pushState(c,"",f)}catch(Mo){o.location.assign(f)}i(u)}},replace:function e(t,a){var o=b.Replace,u=r(t,a);d.length&&(d.call({action:o,location:u,retry:function(){e(t,a)}}),1)||(u=[{usr:u.state,key:u.key,idx:l},n(u)],s.replaceState(u[0],"",u[1]),i(o))},go:a,back:function(){a(-1)},forward:function(){a(1)},listen:function(e){return h.push(e)},block:function(e){var t=d.push(e);return 1===d.length&&o.addEventListener("beforeunload",S),function(){t(),d.length||o.removeEventListener("beforeunload",S)}}}}({window:r}));var o=a.current,s=l((0,i.useState)({action:o.action,location:o.location}),2),u=s[0],c=s[1];return(0,i.useLayoutEffect)((function(){return o.listen(c)}),[o]),(0,i.createElement)(j,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:o})}var se=(0,i.forwardRef)((function(e,t){var n=e.onClick,r=e.reloadDocument,a=e.replace,o=void 0!==a&&a,s=e.state,u=e.target,c=e.to,l=ie(e,ae),f=M(c),h=function(e,t){var n=void 0===t?{}:t,r=n.target,a=n.replace,o=n.state,s=V(),u=U(),c=q(e);return(0,i.useCallback)((function(t){if(0===t.button&&(!r||"_self"===r)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||I(u)===I(c);s(e,{replace:n,state:o})}}),[u,s,c,a,o,r,e])}(c,{replace:o,state:s,target:u});return(0,i.createElement)("a",re({},l,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||r||h(e)},ref:t,target:u}))}));function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function he(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function de(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){he(a,r,i,o,s,"next",e)}function s(e){he(a,r,i,o,s,"throw",e)}o(void 0)}))}}var pe=n(7757),ve=n.n(pe),me=n(184),ye=(0,i.createContext)(),ge=function(e){var t=e.reducer,n=e.initialState,r=e.children;return(0,me.jsx)(ye.Provider,{value:(0,i.useReducer)(t,n),children:r})},ke=function(){return(0,i.useContext)(ye)};function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xe(e,t,n){return t&&be(e.prototype,t),n&&be(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Se(e,t){return Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Se(e,t)}function Ee(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Se(e,t)}function Te(e){return Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Te(e)}function Ie(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ce(e){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(e)}function Ne(e,t){if(t&&("object"===Ce(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _e(e)}function Ae(e){var t=Ie();return function(){var n,r=Te(e);if(t){var i=Te(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne(this,n)}}function Pe(e,t,n){return Pe=Ie()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Se(i,n.prototype),i},Pe.apply(null,arguments)}function De(e){var t="function"===typeof Map?new Map:void 0;return De=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Pe(e,arguments,Te(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Se(n,e)},De(e)}var Oe=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Oe(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},je=function(e){return function(e){var t=Oe(e);return Re.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Le=function(e){try{return Re.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Me(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Me(e[n],t[n]));return e}var Fe=function(){function e(){var t=this;we(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return xe(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Ue(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[je(JSON.stringify({alg:"none",type:"JWT"})),je(JSON.stringify(a)),""].join(".")}function Ve(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Be(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function qe(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function ze(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function We(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function He(){var e=Ve();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ye(){return"object"===typeof indexedDB}var Ge=function(e){Ee(n,e);var t=Ae(n);function n(e,r,i){var a;return we(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(_e(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(_e(a),Ke.prototype.create),a}return xe(n)}(De(Error)),Ke=function(){function e(t,n,r){we(this,e),this.service=t,this.serviceName=n,this.errors=r}return xe(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Qe(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Ge(n,a,t);return o}}]),e}();function Qe(e,t){return e.replace(Je,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Je=/\{\$([^}]+)}/g;function Xe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $e(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Ze(s)&&Ze(u)){if(!$e(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Ze(e){return null!==e&&"object"===typeof e}function et(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function tt(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function nt(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function rt(e,t){var n=new it(e,t);return n.subscribe.bind(n)}var it=function(){function e(t,n){var r=this;we(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return xe(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=fe(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=at),void 0===r.error&&(r.error=at),void 0===r.complete&&(r.complete=at);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function at(){}function ot(e){return e&&e._delegate?e._delegate:e}function st(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ut(e){return function(e){if(Array.isArray(e))return s(e)}(e)||st(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ct=function(){function e(t,n,r){we(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return xe(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),lt="[DEFAULT]",ft=function(){function e(t,n){we(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return xe(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Fe;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:lt})}catch(u){}var t,n=fe(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=de(pe.mark((function e(){var t;return pe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(ut(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),ut(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=fe(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=l(i.value,2),u=s[0],c=s[1],f=this.normalizeInstanceIdentifier(u);r===f&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=fe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Ep){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===lt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Ep){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt;return this.component?this.component.multipleInstances?e:lt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var ht,dt,pt=function(){function e(t){we(this,e),this.name=t,this.providers=new Map}return xe(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ft(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),vt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(dt||(dt={}));var mt,yt,gt={debug:dt.DEBUG,verbose:dt.VERBOSE,info:dt.INFO,warn:dt.WARN,error:dt.ERROR,silent:dt.SILENT},kt=dt.INFO,wt=(ue(ht={},dt.DEBUG,"log"),ue(ht,dt.VERBOSE,"log"),ue(ht,dt.INFO,"info"),ue(ht,dt.WARN,"warn"),ue(ht,dt.ERROR,"error"),ht),bt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=wt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},xt=function(){function e(t){we(this,e),this.name=t,this._logLevel=kt,this._logHandler=bt,this._userLogHandler=null,vt.push(this)}return xe(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in dt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?gt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,dt.DEBUG].concat(t)),this._logHandler.apply(this,[this,dt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,dt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,dt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,dt.INFO].concat(t)),this._logHandler.apply(this,[this,dt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,dt.WARN].concat(t)),this._logHandler.apply(this,[this,dt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,dt.ERROR].concat(t)),this._logHandler.apply(this,[this,dt.ERROR].concat(t))}}]),e}();var _t=function(){function e(t){we(this,e),this.container=t}return xe(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var St="@firebase/app",Et="0.7.11",Tt=new xt("@firebase/app"),It="[DEFAULT]",Ct=(ue(mt={},St,"fire-core"),ue(mt,"@firebase/app-compat","fire-core-compat"),ue(mt,"@firebase/analytics","fire-analytics"),ue(mt,"@firebase/analytics-compat","fire-analytics-compat"),ue(mt,"@firebase/app-check","fire-app-check"),ue(mt,"@firebase/app-check-compat","fire-app-check-compat"),ue(mt,"@firebase/auth","fire-auth"),ue(mt,"@firebase/auth-compat","fire-auth-compat"),ue(mt,"@firebase/database","fire-rtdb"),ue(mt,"@firebase/database-compat","fire-rtdb-compat"),ue(mt,"@firebase/functions","fire-fn"),ue(mt,"@firebase/functions-compat","fire-fn-compat"),ue(mt,"@firebase/installations","fire-iid"),ue(mt,"@firebase/installations-compat","fire-iid-compat"),ue(mt,"@firebase/messaging","fire-fcm"),ue(mt,"@firebase/messaging-compat","fire-fcm-compat"),ue(mt,"@firebase/performance","fire-perf"),ue(mt,"@firebase/performance-compat","fire-perf-compat"),ue(mt,"@firebase/remote-config","fire-rc"),ue(mt,"@firebase/remote-config-compat","fire-rc-compat"),ue(mt,"@firebase/storage","fire-gcs"),ue(mt,"@firebase/storage-compat","fire-gcs-compat"),ue(mt,"@firebase/firestore","fire-fst"),ue(mt,"@firebase/firestore-compat","fire-fst-compat"),ue(mt,"fire-js","fire-js"),ue(mt,"firebase","fire-js-all"),mt),Nt=new Map,At=new Map;function Pt(e,t){try{e.container.addComponent(t)}catch(n){Tt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Dt(e,t){e.container.addOrOverwriteComponent(t)}function Ot(e){var t=e.name;if(At.has(t))return Tt.debug("There were multiple attempts to register component ".concat(t,".")),!1;At.set(t,e);var n,r=fe(Nt.values());try{for(r.s();!(n=r.n()).done;){Pt(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Rt(e,t){return e.container.getProvider(t)}function jt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:It;Rt(e,t).clearInstance(n)}function Lt(){At.clear()}var Mt,Ft,Ut=(ue(yt={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ue(yt,"bad-app-name","Illegal App name: '{$appName}"),ue(yt,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ue(yt,"app-deleted","Firebase App named '{$appName}' already deleted"),ue(yt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ue(yt,"invalid-log-argument","First argument to `onLog` must be null or a function."),yt),Vt=new Ke("app","Firebase",Ut),Bt=function(){function e(t,n,r){var i=this;we(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ct("app",(function(){return i}),"PUBLIC"))}return xe(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Vt.create("app-deleted",{appName:this._name})}}]),e}(),qt="9.6.1";function zt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:It,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Vt.create("bad-app-name",{appName:String(i)});var a=Nt.get(i);if(a){if($e(e,a.options)&&$e(r,a.config))return a;throw Vt.create("duplicate-app",{appName:i})}var o,s=new pt(i),u=fe(At.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Bt(e,r,s);return Nt.set(i,l),l}function Wt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=Nt.get(e);if(!t)throw Vt.create("no-app",{appName:e});return t}function Ht(){return Array.from(Nt.values())}function Yt(e){return Gt.apply(this,arguments)}function Gt(){return(Gt=de(pe.mark((function e(t){var n;return pe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Nt.has(n)){e.next=6;break}return Nt.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kt(e,t,n){var r,i=null!==(r=Ct[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Tt.warn(s.join(" "))}Ot(new ct("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Qt(e,t){if(null!==e&&"function"!==typeof e)throw Vt.create("invalid-log-argument");!function(e,t){var n,r=fe(vt);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=gt[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:dt[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Jt(e){var t;t=e,vt.forEach((function(e){e.setLogLevel(t)}))}Mt="",Ot(new ct("platform-logger",(function(e){return new _t(e)}),"PRIVATE")),Kt(St,Et,Mt),Kt(St,Et,"esm2017"),Kt("fire-js","");var Xt=function(){function e(t,n){var r=this;we(this,e),this._delegate=t,this.firebase=n,Pt(t,new ct("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return xe(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Yt(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:It;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:It;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Pt(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Dt(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),$t=(ue(Ft={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ue(Ft,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ft),Zt=new Ke("app-compat","Firebase",$t);var en=function e(){var t=function(e){var t={},n={__esModule:!0,initializeApp:function(r){var i=zt(r,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Xe(t,i.name))return t[i.name];var a=new e(i,n);return t[i.name]=a,a},app:i,registerVersion:Kt,setLogLevel:Jt,onLog:Qt,apps:null,SDK_VERSION:qt,INTERNAL:{registerComponent:function(t){var r=t.name,a=r.replace("-compat","");if(Ot(t)&&"PUBLIC"===t.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Zt.create("invalid-app-argument",{appName:r});return e[a]()};void 0!==t.serviceProps&&Me(o,t.serviceProps),n[a]=o,e.prototype[a]=function(){for(var e=this._getService.bind(this,r),n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e.apply(this,t.multipleInstances?i:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:r}};function i(e){if(!Xe(t,e=e||It))throw Zt.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,n}(Xt);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Me(t,e)},createSubscribe:rt,ErrorFactory:Ke,deepExtend:Me}),t}(),tn=new xt("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){tn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var nn=self.firebase.SDK_VERSION;nn&&nn.indexOf("LITE")>=0&&tn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var rn=en;!function(e){Kt("@firebase/app-compat","0.1.12",e)}();function an(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Te(e)););return e}function on(){return on="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=an(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},on.apply(this,arguments)}rn.registerVersion("firebase","9.6.1","app-compat");var sn,un="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},cn={},ln=ln||{},fn=un||self;function hn(){}function dn(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function pn(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var vn="closure_uid_"+(1e9*Math.random()>>>0),mn=0;function yn(e,t,n){return e.call.apply(e.bind,arguments)}function gn(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function kn(e,t,n){return(kn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yn:gn).apply(null,arguments)}function wn(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function bn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function xn(){this.s=this.s,this.o=this.o}var _n={};xn.prototype.s=!1,xn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,vn)&&e[vn]||(e[vn]=++mn)}(this);delete _n[e]}},xn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Sn=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},En=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Tn(e){return Array.prototype.concat.apply([],arguments)}function In(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Cn(e){return/^[\s\xa0]*$/.test(e)}var Nn,An=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Pn(e,t){return-1!=e.indexOf(t)}function Dn(e,t){return e<t?-1:e>t?1:0}e:{var On=fn.navigator;if(On){var Rn=On.userAgent;if(Rn){Nn=Rn;break e}}Nn=""}function jn(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ln(e){var t={};for(var n in e)t[n]=e[n];return t}var Mn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fn(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Mn.length;a++)n=Mn[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Un(e){return Un[" "](e),e}Un[" "]=hn;var Vn,Bn=Pn(Nn,"Opera"),qn=Pn(Nn,"Trident")||Pn(Nn,"MSIE"),zn=Pn(Nn,"Edge"),Wn=zn||qn,Hn=Pn(Nn,"Gecko")&&!(Pn(Nn.toLowerCase(),"webkit")&&!Pn(Nn,"Edge"))&&!(Pn(Nn,"Trident")||Pn(Nn,"MSIE"))&&!Pn(Nn,"Edge"),Yn=Pn(Nn.toLowerCase(),"webkit")&&!Pn(Nn,"Edge");function Gn(){var e=fn.document;return e?e.documentMode:void 0}e:{var Kn="",Qn=function(){var e=Nn;return Hn?/rv:([^\);]+)(\)|;)/.exec(e):zn?/Edge\/([\d\.]+)/.exec(e):qn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Yn?/WebKit\/(\S+)/.exec(e):Bn?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Qn&&(Kn=Qn?Qn[1]:""),qn){var Jn=Gn();if(null!=Jn&&Jn>parseFloat(Kn)){Vn=String(Jn);break e}}Vn=Kn}var Xn,$n={};function Zn(){return function(e){var t=$n;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=An(String(Vn)).split("."),n=An("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Dn(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Dn(0==a[2].length,0==o[2].length)||Dn(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(fn.document&&qn){var er=Gn();Xn=er||(parseInt(Vn,10)||void 0)}else Xn=void 0;var tr=Xn,nr=function(){if(!fn.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{fn.addEventListener("test",hn,t),fn.removeEventListener("test",hn,t)}catch(n){}return e}();function rr(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function ir(e,t){if(rr.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Hn){e:{try{Un(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ar[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ir.Z.h.call(this)}}rr.prototype.h=function(){this.defaultPrevented=!0},bn(ir,rr);var ar={2:"touch",3:"pen",4:"mouse"};ir.prototype.h=function(){ir.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var or="closure_listenable_"+(1e6*Math.random()|0),sr=0;function ur(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++sr,this.ca=this.fa=!1}function cr(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function lr(e){this.src=e,this.g={},this.h=0}function fr(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Sn(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(cr(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function hr(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}lr.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=hr(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new ur(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var dr="closure_lm_"+(1e6*Math.random()|0),pr={};function vr(e,t,n,r,i){if(r&&r.once)return yr(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)vr(e,t[a],n,r,i);return null}return n=Sr(n),e&&e[or]?e.N(t,n,pn(r)?!!r.capture:!!r,i):mr(e,t,n,!1,r,i)}function mr(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=pn(i)?!!i.capture:!!i,s=xr(e);if(s||(e[dr]=s=new lr(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=br;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)nr||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(wr(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function yr(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)yr(e,t[a],n,r,i);return null}return n=Sr(n),e&&e[or]?e.O(t,n,pn(r)?!!r.capture:!!r,i):mr(e,t,n,!0,r,i)}function gr(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)gr(e,t[a],n,r,i);else r=pn(r)?!!r.capture:!!r,n=Sr(n),e&&e[or]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=hr(a=e.g[t],n,r,i))&&(cr(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=xr(e))&&(t=e.g[t.toString()],e=-1,t&&(e=hr(t,n,r,i)),(n=-1<e?t[e]:null)&&kr(n))}function kr(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[or])fr(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(wr(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=xr(t))?(fr(n,e),0==n.h&&(n.src=null,t[dr]=null)):cr(e)}}}function wr(e){return e in pr?pr[e]:pr[e]="on"+e}function br(e,t){if(e.ca)e=!0;else{t=new ir(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&kr(e),e=n.call(r,t)}return e}function xr(e){return(e=e[dr])instanceof lr?e:null}var _r="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sr(e){return"function"===typeof e?e:(e[_r]||(e[_r]=function(t){return e.handleEvent(t)}),e[_r])}function Er(){xn.call(this),this.i=new lr(this),this.P=this,this.I=null}function Tr(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new rr(t,e);else if(t instanceof rr)t.target=t.target||e;else{var i=t;Fn(t=new rr(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ir(o,r,!0,t)&&i}if(i=Ir(o=t.g=e,r,!0,t)&&i,i=Ir(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ir(o=t.g=n[a],r,!1,t)&&i}function Ir(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&fr(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}bn(Er,xn),Er.prototype[or]=!0,Er.prototype.removeEventListener=function(e,t,n,r){gr(this,e,t,n,r)},Er.prototype.M=function(){if(Er.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)cr(n[r]);delete t.g[e],t.h--}}this.I=null},Er.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Er.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Cr=fn.JSON.stringify;function Nr(){var e=Mr,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ar,Pr=function(){function e(){we(this,e),this.h=this.g=null}return xe(e,[{key:"add",value:function(e,t){var n=Dr.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Dr=new(function(){function e(t,n){we(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return xe(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Or}),(function(e){return e.reset()})),Or=function(){function e(){we(this,e),this.next=this.g=this.h=null}return xe(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Rr(e){fn.setTimeout((function(){throw e}),0)}function jr(e,t){Ar||function(){var e=fn.Promise.resolve(void 0);Ar=function(){e.then(Fr)}}(),Lr||(Ar(),Lr=!0),Mr.add(e,t)}var Lr=!1,Mr=new Pr;function Fr(){for(var e;e=Nr();){try{e.h.call(e.g)}catch(n){Rr(n)}var t=Dr;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Lr=!1}function Ur(e,t){Er.call(this),this.h=e||1,this.g=t||fn,this.j=kn(this.kb,this),this.l=Date.now()}function Vr(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Br(e,t,n){if("function"===typeof e)n&&(e=kn(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=kn(e.handleEvent,e)}return 2147483647<Number(t)?-1:fn.setTimeout(e,t||0)}function qr(e){e.g=Br((function(){e.g=null,e.i&&(e.i=!1,qr(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}bn(Ur,Er),(sn=Ur.prototype).da=!1,sn.S=null,sn.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Tr(this,"tick"),this.da&&(Vr(this),this.start()))}},sn.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},sn.M=function(){Ur.Z.M.call(this),Vr(this),delete this.g};var zr=function(e){Ee(n,e);var t=Ae(n);function n(e,r){var i;return we(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return xe(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:qr(this)}},{key:"M",value:function(){on(Te(n.prototype),"M",this).call(this),this.g&&(fn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(xn);function Wr(e){xn.call(this),this.h=e,this.g={}}bn(Wr,xn);var Hr=[];function Yr(e,t,n,r){Array.isArray(n)||(n&&(Hr[0]=n.toString()),n=Hr);for(var i=0;i<n.length;i++){var a=vr(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Gr(e){jn(e.g,(function(e,t){this.g.hasOwnProperty(t)&&kr(e)}),e),e.g={}}function Kr(){this.g=!0}function Qr(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Cr(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Wr.prototype.M=function(){Wr.Z.M.call(this),Gr(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Kr.prototype.Aa=function(){this.g=!1},Kr.prototype.info=function(){};var Jr={},Xr=null;function $r(){return Xr=Xr||new Er}function Zr(e){rr.call(this,Jr.Ma,e)}function ei(e){var t=$r();Tr(t,new Zr(t,e))}function ti(e,t){rr.call(this,Jr.STAT_EVENT,e),this.stat=t}function ni(e){var t=$r();Tr(t,new ti(t,e))}function ri(e,t){rr.call(this,Jr.Na,e),this.size=t}function ii(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return fn.setTimeout((function(){e()}),t)}Jr.Ma="serverreachability",bn(Zr,rr),Jr.STAT_EVENT="statevent",bn(ti,rr),Jr.Na="timingevent",bn(ri,rr);var ai={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},oi={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function si(){}function ui(e){return e.h||(e.h=e.i())}function ci(){}si.prototype.h=null;var li,fi={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function hi(){rr.call(this,"d")}function di(){rr.call(this,"c")}function pi(){}function vi(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Wr(this),this.P=yi,e=Wn?125:void 0,this.W=new Ur(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new mi}function mi(){this.i=null,this.g="",this.h=!1}bn(hi,rr),bn(di,rr),bn(pi,si),pi.prototype.g=function(){return new XMLHttpRequest},pi.prototype.i=function(){return{}},li=new pi;var yi=45e3,gi={},ki={};function wi(e,t,n){e.K=1,e.v=zi(Mi(t)),e.s=n,e.U=!0,bi(e,null)}function bi(e,t){e.F=Date.now(),Ei(e),e.A=Mi(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),na(n.h,"t",r),e.C=0,n=e.l.H,e.h=new mi,e.g=io(e.l,n?t:null,!e.s),0<e.O&&(e.L=new zr(kn(e.Ia,e,e.g),e.O)),Yr(e.V,e.g,"readystatechange",e.gb),t=e.H?Ln(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ei(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function xi(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function _i(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Si(e,n))==ki){4==t&&(e.o=4,ni(14),i=!1),Qr(e.j,e.m,null,"[Incomplete Response]");break}if(r==gi){e.o=4,ni(15),Qr(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Qr(e.j,e.m,r,null),Ai(e,r)}xi(e)&&r!=ki&&r!=gi&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ni(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ja(t),t.L=!0,ni(11))):(Qr(e.j,e.m,n,"[Invalid Chunked Response]"),Ni(e),Ci(e))}function Si(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ki:(n=Number(t.substring(n,r)),isNaN(n)?gi:(r+=1)+n>t.length?ki:(t=t.substr(r,n),e.C=r+n,t))}function Ei(e){e.Y=Date.now()+e.P,Ti(e,e.P)}function Ti(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ii(kn(e.eb,e),t)}function Ii(e){e.B&&(fn.clearTimeout(e.B),e.B=null)}function Ci(e){0==e.l.G||e.I||Za(e.l,e)}function Ni(e){Ii(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Vr(e.W),Gr(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ai(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||la(n.i,e)))if(n.I=e.N,!e.J&&la(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;$a(n),Ba(n)}Qa(n),ni(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ii(kn(n.ab,n),6e3));if(1>=ca(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else to(n,11)}else if((e.J||n.g==e)&&$a(n),!Cn(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Pn(l,"spdy")||Pn(l,"quic")||Pn(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(fa(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,qi(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=ro(r,r.H?r.la:null,r.W),d.J){ha(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Ii(p),Ei(p)),r.g=d}else Ka(r);0<n.l.length&&Wa(n)}else"stop"!=a[0]&&"close"!=a[0]||to(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?to(n,7):Va(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}ei(4)}catch(a){}}function Pi(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(dn(e)||"string"===typeof e)En(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(dn(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(dn(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Di(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Di)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Oi(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Ri(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Ri(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Ri(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(sn=vi.prototype).setTimeout=function(e){this.P=e},sn.gb=function(e){e=e.target;var t=this.L;t&&3==ja(e)?t.l():this.Ia(e)},sn.Ia=function(e){try{if(e==this.g)e:{var t=ja(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Wn||this.g&&(this.h.h||this.g.ga()||La(this.g)))){this.I||4!=t||7==n||ei(8==n||0>=r?3:2),Ii(this);var i=this.g.ba();this.N=i;t:if(xi(this)){var a=La(this.g);e="";var o=a.length,s=4==ja(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ni(this),Ci(this);var u="";break t}this.h.i=new fn.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cn(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,ni(12),Ni(this),Ci(this);break e}Qr(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ai(this,i)}this.U?(_i(this,t,u),Wn&&this.i&&3==t&&(Yr(this.V,this.W,"tick",this.fb),this.W.start())):(Qr(this.j,this.m,u,null),Ai(this,u)),4==t&&Ni(this),this.i&&!this.I&&(4==t?Za(this.l,this):(this.i=!1,Ei(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,ni(12)):(this.o=0,ni(13)),Ni(this),Ci(this)}}}catch(t){}},sn.fb=function(){if(this.g){var e=ja(this.g),t=this.g.ga();this.C<t.length&&(Ii(this),_i(this,e,t),this.i&&4!=e&&Ei(this))}},sn.cancel=function(){this.I=!0,Ni(this)},sn.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(ei(3),ni(17)),Ni(this),this.o=2,Ci(this)):Ti(this,this.Y-e)},(sn=Di.prototype).R=function(){Oi(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},sn.T=function(){return Oi(this),this.g.concat()},sn.get=function(e,t){return Ri(this.h,e)?this.h[e]:t},sn.set=function(e,t){Ri(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},sn.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var ji=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Li(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Li){this.g=void 0!==t?t:e.g,Fi(this,e.j),this.s=e.s,Ui(this,e.i),Vi(this,e.m),this.l=e.l,t=e.h;var n=new $i;n.i=t.i,t.g&&(n.g=new Di(t.g),n.h=t.h),Bi(this,n),this.o=e.o}else e&&(n=String(e).match(ji))?(this.g=!!t,Fi(this,n[1]||"",!0),this.s=Wi(n[2]||""),Ui(this,n[3]||"",!0),Vi(this,n[4]),this.l=Wi(n[5]||"",!0),Bi(this,n[6]||"",!0),this.o=Wi(n[7]||"")):(this.g=!!t,this.h=new $i(null,this.g))}function Mi(e){return new Li(e)}function Fi(e,t,n){e.j=n?Wi(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ui(e,t,n){e.i=n?Wi(t,!0):t}function Vi(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Bi(e,t,n){t instanceof $i?(e.h=t,function(e,t){t&&!e.j&&(Zi(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ea(this,t),na(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Hi(t,Ji)),e.h=new $i(t,e.g))}function qi(e,t,n){e.h.set(t,n)}function zi(e){return qi(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Wi(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Hi(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Yi),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Yi(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Li.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Hi(t,Gi,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Hi(t,Gi,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Hi(n,"/"==n.charAt(0)?Qi:Ki,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Hi(n,Xi)),e.join("")};var Gi=/[#\/\?@]/g,Ki=/[#\?:]/g,Qi=/[#\?]/g,Ji=/[#\?@]/g,Xi=/#/g;function $i(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Zi(e){e.g||(e.g=new Di,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ea(e,t){Zi(e),t=ra(e,t),Ri(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Ri((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Oi(e)))}function ta(e,t){return Zi(e),t=ra(e,t),Ri(e.g.h,t)}function na(e,t,n){ea(e,t),0<n.length&&(e.i=null,e.g.set(ra(e,t),In(n)),e.h+=n.length)}function ra(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(sn=$i.prototype).add=function(e,t){Zi(this),this.i=null,e=ra(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},sn.forEach=function(e,t){Zi(this),this.g.forEach((function(n,r){En(n,(function(n){e.call(t,n,r,this)}),this)}),this)},sn.T=function(){Zi(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},sn.R=function(e){Zi(this);var t=[];if("string"===typeof e)ta(this,e)&&(t=Tn(t,this.g.get(ra(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Tn(t,e[n])}return t},sn.set=function(e,t){return Zi(this),this.i=null,ta(this,e=ra(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},sn.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},sn.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var ia=xe((function e(t,n){we(this,e),this.h=t,this.g=n}));function aa(e){this.l=e||sa,fn.PerformanceNavigationTiming?e=0<(e=fn.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(fn.g&&fn.g.Ea&&fn.g.Ea()&&fn.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var oa,sa=10;function ua(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ca(e){return e.h?1:e.g?e.g.size:0}function la(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function fa(e,t){e.g?e.g.add(t):e.h=t}function ha(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function da(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=fe(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return In(e.i)}function pa(){}function va(){this.g=new pa}function ma(e,t,n){var r=n||"";try{Pi(e,(function(e,n){var i=e;pn(e)&&(i=Cr(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ya(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function ga(e){this.l=e.$b||null,this.j=e.ib||!1}function ka(e,t){Er.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=wa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}aa.prototype.cancel=function(){if(this.i=da(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=fe(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},pa.prototype.stringify=function(e){return fn.JSON.stringify(e,void 0)},pa.prototype.parse=function(e){return fn.JSON.parse(e,void 0)},bn(ga,si),ga.prototype.g=function(){return new ka(this.l,this.j)},ga.prototype.i=(oa={},function(){return oa}),bn(ka,Er);var wa=0;function ba(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function xa(e){e.readyState=4,e.l=null,e.j=null,e.A=null,_a(e)}function _a(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(sn=ka.prototype).open=function(e,t){if(this.readyState!=wa)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,_a(this)},sn.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||fn).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},sn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,xa(this)),this.readyState=wa},sn.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,_a(this)),this.g&&(this.readyState=3,_a(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof fn.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ba(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},sn.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?xa(this):_a(this),3==this.readyState&&ba(this)}},sn.Ua=function(e){this.g&&(this.response=this.responseText=e,xa(this))},sn.Ta=function(e){this.g&&(this.response=e,xa(this))},sn.ha=function(){this.g&&xa(this)},sn.setRequestHeader=function(e,t){this.v.append(e,t)},sn.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},sn.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ka.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Sa=fn.JSON.parse;function Ea(e){Er.call(this),this.headers=new Di,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ta,this.K=this.L=!1}bn(Ea,Er);var Ta="",Ia=/^https?$/i,Ca=["POST","PUT"];function Na(e){return"content-type"==e.toLowerCase()}function Aa(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Pa(e),Oa(e)}function Pa(e){e.D||(e.D=!0,Tr(e,"complete"),Tr(e,"error"))}function Da(e){if(e.h&&"undefined"!=typeof ln&&(!e.C[1]||4!=ja(e)||2!=e.ba()))if(e.v&&4==ja(e))Br(e.Fa,0,e);else if(Tr(e,"readystatechange"),4==ja(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(ji)[1]||null;if(!a&&fn.self&&fn.self.location){var o=fn.self.location.protocol;a=o.substr(0,o.length-1)}i=!Ia.test(a?a.toLowerCase():"")}t=i}if(t)Tr(e,"complete"),Tr(e,"success");else{e.m=6;try{var s=2<ja(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Pa(e)}}finally{Oa(e)}}}function Oa(e,t){if(e.g){Ra(e);var n=e.g,r=e.C[0]?hn:null;e.g=null,e.C=null,t||Tr(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Ra(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(fn.clearTimeout(e.A),e.A=null)}function ja(e){return e.g?e.g.readyState:0}function La(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Ta:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ma(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return jn(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):qi(e,t,n))}function Fa(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ua(e){this.za=0,this.l=[],this.h=new Kr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Fa("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Fa("baseRetryDelayMs",5e3,e),this.$a=Fa("retryDelaySeedMs",1e4,e),this.Ya=Fa("forwardChannelMaxRetries",2,e),this.ra=Fa("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new aa(e&&e.concurrentRequestLimit),this.Ca=new va,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Va(e){if(qa(e),3==e.G){var t=e.V++,n=Mi(e.F);qi(n,"SID",e.J),qi(n,"RID",t),qi(n,"TYPE","terminate"),Ya(e,n),(t=new vi(e,e.h,t,void 0)).K=2,t.v=zi(Mi(n)),n=!1,fn.navigator&&fn.navigator.sendBeacon&&(n=fn.navigator.sendBeacon(t.v.toString(),"")),!n&&fn.Image&&((new Image).src=t.v,n=!0),n||(t.g=io(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ei(t)}no(e)}function Ba(e){e.g&&(Ja(e),e.g.cancel(),e.g=null)}function qa(e){Ba(e),e.u&&(fn.clearTimeout(e.u),e.u=null),$a(e),e.i.cancel(),e.m&&("number"===typeof e.m&&fn.clearTimeout(e.m),e.m=null)}function za(e,t){e.l.push(new ia(e.Za++,t)),3==e.G&&Wa(e)}function Wa(e){ua(e.i)||e.m||(e.m=!0,jr(e.Ha,e),e.C=0)}function Ha(e,t){var n;n=t?t.m:e.V++;var r=Mi(e.F);qi(r,"SID",e.J),qi(r,"RID",n),qi(r,"AID",e.U),Ya(e,r),e.o&&e.s&&Ma(r,e.o,e.s),n=new vi(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Ga(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),fa(e.i,n),wi(n,r,t)}function Ya(e,t){e.j&&Pi({},(function(e,n){qi(t,n,e)}))}function Ga(e,t,n){n=Math.min(e.l.length,n);var r=e.j?kn(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{ma(l,o,"req"+c+"_")}catch(Mo){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Ka(e){e.g||e.u||(e.Y=1,jr(e.Ga,e),e.A=0)}function Qa(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=ii(kn(e.Ga,e),eo(e,e.A)),e.A++,!0)}function Ja(e){null!=e.B&&(fn.clearTimeout(e.B),e.B=null)}function Xa(e){e.g=new vi(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Mi(e.oa);qi(t,"RID","rpc"),qi(t,"SID",e.J),qi(t,"CI",e.N?"0":"1"),qi(t,"AID",e.U),Ya(e,t),qi(t,"TYPE","xmlhttp"),e.o&&e.s&&Ma(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=zi(Mi(t)),n.s=null,n.U=!0,bi(n,e)}function $a(e){null!=e.v&&(fn.clearTimeout(e.v),e.v=null)}function Za(e,t){var n=null;if(e.g==t){$a(e),Ja(e),e.g=null;var r=2}else{if(!la(e.i,t))return;n=t.D,ha(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Tr(r=$r(),new ri(r,n,t,i)),Wa(e)}else Ka(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(ca(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=ii(kn(e.Ha,e,t),eo(e,e.C)),e.C++,!0))}(e,t)||2==r&&Qa(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:to(e,5);break;case 4:to(e,10);break;case 3:to(e,6);break;default:to(e,2)}}function eo(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function to(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=kn(e.jb,e);n||(n=new Li("//www.google.com/images/cleardot.gif"),fn.location&&"http"==fn.location.protocol||Fi(n,"https"),zi(n)),function(e,t){var n=new Kr;if(fn.Image){var r=new Image;r.onload=wn(ya,n,r,"TestLoadImage: loaded",!0,t),r.onerror=wn(ya,n,r,"TestLoadImage: error",!1,t),r.onabort=wn(ya,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=wn(ya,n,r,"TestLoadImage: timeout",!1,t),fn.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ni(2);e.G=0,e.j&&e.j.va(t),no(e),qa(e)}function no(e){e.G=0,e.I=-1,e.j&&(0==da(e.i).length&&0==e.l.length||(e.i.i.length=0,In(e.l),e.l.length=0),e.j.ua())}function ro(e,t,n){var r=function(e){return e instanceof Li?Mi(e):new Li(e,void 0)}(n);if(""!=r.i)t&&Ui(r,t+"."+r.i),Vi(r,r.m);else{var i=fn.location;r=function(e,t,n,r){var i=new Li(null,void 0);return e&&Fi(i,e),t&&Ui(i,t),n&&Vi(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&jn(e.aa,(function(e,t){qi(r,t,e)})),t=e.D,n=e.sa,t&&n&&qi(r,t,n),qi(r,"VER",e.ma),Ya(e,r),r}function io(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Ea(new ga({ib:!0})):new Ea(e.qa)).L=e.H,t}function ao(){}function oo(){if(qn&&!(10<=Number(tr)))throw Error("Environmental error: no available transport.")}function so(e,t){Er.call(this),this.g=new Ua(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Cn(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Cn(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new lo(this)}function uo(e){hi.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function co(){di.call(this),this.status=1}function lo(e){this.g=e}(sn=Ea.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():li.g(),this.C=this.u?ui(this.u):ui(li),this.g.onreadystatechange=kn(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Aa(this,a)}e=n||"";var i=new Di(this.headers);r&&Pi(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Na,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=fn.FormData&&e instanceof fn.FormData,!(0<=Sn(Ca,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ra(this),0<this.B&&((this.K=function(e){return qn&&Zn()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=kn(this.pa,this)):this.A=Br(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Aa(this,a)}},sn.pa=function(){"undefined"!=typeof ln&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tr(this,"timeout"),this.abort(8))},sn.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Tr(this,"complete"),Tr(this,"abort"),Oa(this))},sn.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Oa(this,!0)),Ea.Z.M.call(this)},sn.Fa=function(){this.s||(this.F||this.v||this.l?Da(this):this.cb())},sn.cb=function(){Da(this)},sn.ba=function(){try{return 2<ja(this)?this.g.status:-1}catch(oa){return-1}},sn.ga=function(){try{return this.g?this.g.responseText:""}catch(oa){return""}},sn.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Sa(t)}},sn.Da=function(){return this.m},sn.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(sn=Ua.prototype).ma=8,sn.G=1,sn.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},sn.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new vi(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Fn(n=Ln(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Ga(this,t,r),qi(i=Mi(this.F),"RID",e),qi(i,"CVER",22),this.D&&qi(i,"X-HTTP-Session-Id",this.D),Ya(this,i),this.o&&n&&Ma(i,this.o,n),fa(this.i,t),this.Ra&&qi(i,"TYPE","init"),this.ja?(qi(i,"$req",r),qi(i,"SID","null"),t.$=!0,wi(t,i,null)):wi(t,i,r),this.G=2}}else 3==this.G&&(e?Ha(this,e):0==this.l.length||ua(this.i)||Ha(this))},sn.Ga=function(){if(this.u=null,Xa(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ii(kn(this.bb,this),e)}},sn.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ni(10),Ba(this),Xa(this))},sn.ab=function(){null!=this.v&&(this.v=null,Ba(this),Qa(this),ni(19))},sn.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ni(2)):(this.h.info("Failed to ping google.com"),ni(1))},(sn=ao.prototype).xa=function(){},sn.wa=function(){},sn.va=function(){},sn.ua=function(){},sn.Oa=function(){},oo.prototype.g=function(e,t){return new so(e,t)},bn(so,Er),so.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),jr(kn(e.hb,e,t))),ni(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=ro(e,null,e.W),Wa(e)},so.prototype.close=function(){Va(this.g)},so.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,za(this.g,t)}else this.v?((t={}).__data__=Cr(e),za(this.g,t)):za(this.g,e)},so.prototype.M=function(){this.g.j=null,delete this.j,Va(this.g),delete this.g,so.Z.M.call(this)},bn(uo,hi),bn(co,di),bn(lo,ao),lo.prototype.xa=function(){Tr(this.g,"a")},lo.prototype.wa=function(e){Tr(this.g,new uo(e))},lo.prototype.va=function(e){Tr(this.g,new co(e))},lo.prototype.ua=function(){Tr(this.g,"b")},oo.prototype.createWebChannel=oo.prototype.g,so.prototype.send=so.prototype.u,so.prototype.open=so.prototype.m,so.prototype.close=so.prototype.close,ai.NO_ERROR=0,ai.TIMEOUT=8,ai.HTTP_ERROR=6,oi.COMPLETE="complete",ci.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",Er.prototype.listen=Er.prototype.N,Ea.prototype.listenOnce=Ea.prototype.O,Ea.prototype.getLastError=Ea.prototype.La,Ea.prototype.getLastErrorCode=Ea.prototype.Da,Ea.prototype.getStatus=Ea.prototype.ba,Ea.prototype.getResponseJson=Ea.prototype.Qa,Ea.prototype.getResponseText=Ea.prototype.ga,Ea.prototype.send=Ea.prototype.ea;var fo=cn.createWebChannelTransport=function(){return new oo},ho=cn.getStatEventTarget=function(){return $r()},po=cn.ErrorCode=ai,vo=cn.EventType=oi,mo=cn.Event=Jr,yo=cn.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},go=cn.FetchXmlHttpFactory=ga,ko=cn.WebChannel=ci,wo=cn.XhrIo=Ea,bo="@firebase/firestore",xo=function(){function e(t){we(this,e),this.uid=t}return xe(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();xo.UNAUTHENTICATED=new xo(null),xo.GOOGLE_CREDENTIALS=new xo("google-credentials-uid"),xo.FIRST_PARTY=new xo("first-party-uid"),xo.MOCK_USER=new xo("mock-user");var _o="9.6.1",So=new xt("@firebase/firestore");function Eo(){return So.logLevel}function To(e){if(So.logLevel<=dt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(No);So.debug.apply(So,["Firestore (".concat(_o,"): ").concat(e)].concat(ut(i)))}}function Io(e){if(So.logLevel<=dt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(No);So.error.apply(So,["Firestore (".concat(_o,"): ").concat(e)].concat(ut(i)))}}function Co(e){if(So.logLevel<=dt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(No);So.warn.apply(So,["Firestore (".concat(_o,"): ").concat(e)].concat(ut(i)))}}function No(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ao(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(_o,") INTERNAL ASSERTION FAILED: ")+e;throw Io(t),new Error(t)}function Po(e,t){e||Ao()}function Do(e,t){return e}var Oo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ro=function(e){Ee(n,e);var t=Ae(n);function n(e,r){var i;return we(this,n),(i=t.call(this,r)).code=e,i.message=r,i.name="FirebaseError",i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return xe(n)}(De(Error)),jo=xe((function e(){var t=this;we(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Lo=xe((function e(t,n){we(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Mo=function(){function e(){we(this,e)}return xe(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(xo.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Fo=function(){function e(t){we(this,e),this.token=t,this.changeListener=null}return xe(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Uo=function(){function e(t){we(this,e),this.t=t,this.currentUser=xo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return xe(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new jo;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new jo,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(de(ve().mark((function e(){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){To("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(To("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new jo)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(To("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Po("string"==typeof n.accessToken),new Lo(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Po(null===e||"string"==typeof e),new xo(e)}}]),e}(),Vo=xe((function e(t,n,r){we(this,e),this.type="FirstParty",this.user=xo.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Bo=function(){function e(t,n,r){we(this,e),this.h=t,this.l=n,this.m=r}return xe(e,[{key:"getToken",value:function(){return Promise.resolve(new Vo(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(xo.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),qo=xe((function e(t){we(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),zo=function(){function e(t){we(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return xe(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&To("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){To("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):To("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(Po("string"==typeof e.token),new qo(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Wo=function(){function e(t,n){var r=this;we(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return xe(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Ho(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Wo.I=-1;var Yo=function(){function e(){we(this,e)}return xe(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ho(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Go(e,t){return e<t?-1:e>t?1:0}function Ko(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Qo(e){return e+"\0"}var Jo=function(){function e(t,n){if(we(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Ro(Oo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ro(Oo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Ro(Oo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ro(Oo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return xe(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Go(this.nanoseconds,e.nanoseconds):Go(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Xo=function(){function e(t){we(this,e),this.timestamp=t}return xe(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Jo(0,0))}}]),e}();function $o(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Zo(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function es(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ts=function(){function e(t,n,r){we(this,e),void 0===n?n=0:n>t.length&&Ao(),void 0===r?r=t.length-n:r>t.length-n&&Ao(),this.segments=t,this.offset=n,this.len=r}return xe(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),ns=function(e){Ee(n,e);var t=Ae(n);function n(){return we(this,n),t.apply(this,arguments)}return xe(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Ro(Oo.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,ut(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ts),rs=/^[_a-zA-Z][_a-zA-Z0-9]*$/,is=function(e){Ee(n,e);var t=Ae(n);function n(){return we(this,n),t.apply(this,arguments)}return xe(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return rs.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Ro(Oo.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Ro(Oo.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ro(Oo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Ro(Oo.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ts),as=function(){function e(t){we(this,e),this.fields=t,t.sort(is.comparator)}return xe(e,[{key:"covers",value:function(e){var t,n=fe(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Ko(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var os=function(){function e(t){we(this,e),this.binaryString=t}return xe(e,[{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Go(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(atob(t))}},{key:"fromUint8Array",value:function(t){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t);return new e(n)}}]),e}();os.EMPTY_BYTE_STRING=new os("");var ss=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function us(e){if(Po(!!e),"string"==typeof e){var t=0,n=ss.exec(e);if(Po(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:cs(e.seconds),nanos:cs(e.nanos)}}function cs(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ls(e){return"string"==typeof e?os.fromBase64String(e):os.fromUint8Array(e)}function fs(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function hs(e){var t=e.mapValue.fields.__previous_value__;return fs(t)?hs(t):t}function ds(e){var t=us(e.mapValue.fields.__local_write_time__.timestampValue);return new Jo(t.seconds,t.nanos)}function ps(e){return null==e}function vs(e){return 0===e&&1/e==-1/0}function ms(e){return"number"==typeof e&&Number.isInteger(e)&&!vs(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var ys=function(){function e(t){we(this,e),this.path=t}return xe(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===ns.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(ns.fromString(t))}},{key:"fromName",value:function(t){return new e(ns.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return ns.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new ns(t.slice()))}}]),e}();function gs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?fs(e)?4:10:Ao()}function ks(e,t){var n=gs(e);if(n!==gs(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ds(e).isEqual(ds(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=us(e.timestampValue),r=us(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ls(e.bytesValue).isEqual(ls(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return cs(e.geoPointValue.latitude)===cs(t.geoPointValue.latitude)&&cs(e.geoPointValue.longitude)===cs(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return cs(e.integerValue)===cs(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=cs(e.doubleValue),r=cs(t.doubleValue);return n===r?vs(n)===vs(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ko(e.arrayValue.values||[],t.arrayValue.values||[],ks);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if($o(n)!==$o(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ks(n[i],r[i])))return!1;return!0}(e,t);default:return Ao()}}function ws(e,t){return void 0!==(e.values||[]).find((function(e){return ks(e,t)}))}function bs(e,t){var n=gs(e),r=gs(t);if(n!==r)return Go(n,r);switch(n){case 0:return 0;case 1:return Go(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=cs(e.integerValue||e.doubleValue),r=cs(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return xs(e.timestampValue,t.timestampValue);case 4:return xs(ds(e),ds(t));case 5:return Go(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ls(e),r=ls(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Go(n[i],r[i]);if(0!==a)return a}return Go(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Go(cs(e.latitude),cs(t.latitude));return 0!==n?n:Go(cs(e.longitude),cs(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=bs(n[i],r[i]);if(a)return a}return Go(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Go(r[o],a[o]);if(0!==s)return s;var u=bs(n[r[o]],i[a[o]]);if(0!==u)return u}return Go(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Ao()}}function xs(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Go(e,t);var n=us(e),r=us(t),i=Go(n.seconds,r.seconds);return 0!==i?i:Go(n.nanos,r.nanos)}function _s(e){return Ss(e)}function Ss(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=us(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ls(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ys.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=fe(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Ss(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=fe(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Ss(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Ao();var t,n}function Es(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ts(e){return!!e&&"integerValue"in e}function Is(e){return!!e&&"arrayValue"in e}function Cs(e){return!!e&&"nullValue"in e}function Ns(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function As(e){return!!e&&"mapValue"in e}function Ps(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Zo(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ps(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ps(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Ds=function(){function e(t){we(this,e),this.value=t}return xe(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!As(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ps(t)}},{key:"setAll",value:function(e){var t=this,n=is.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Ps(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());As(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return ks(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];As(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Zo(t,(function(t,n){return e[t]=n}));var r,i=fe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ps(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Os(e){var t=[];return Zo(e.fields,(function(e,n){var r=new is([e]);if(As(n)){var i=Os(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=fe(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new as(t)}var Rs=function(){function e(t,n,r,i,a){we(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return xe(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Ds.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Ds.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"clone",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Xo.min(),Ds.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Ds.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Ds.empty(),2)}}]),e}(),js=xe((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;we(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.R=null}));function Ls(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new js(e,t,n,r,i,a,o)}function Ms(e){var t=Do(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+_s(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ps(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Js(t.startAt)),t.endAt&&(n+="|ub:",n+=Js(t.endAt)),t.R=n}return t.R}function Fs(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!$s(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!ks(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!eu(e.startAt,t.startAt)&&eu(e.endAt,t.endAt)}function Us(e){return ys.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Vs=function(e){Ee(n,e);var t=Ae(n);function n(e,r,i){var a;return we(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return xe(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(bs(t,this.value)):null!==t&&gs(this.value)===gs(t)&&this.v(bs(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ao()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new Bs(e,t,r):"array-contains"===t?new Hs(e,r):"in"===t?new Ys(e,r):"not-in"===t?new Gs(e,r):"array-contains-any"===t?new Ks(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new qs(e,n):new zs(e,n)}}]),n}(function(){return xe((function e(){we(this,e)}))}());var Bs=function(e){Ee(n,e);var t=Ae(n);function n(e,r,i){var a;return we(this,n),(a=t.call(this,e,r,i)).key=ys.fromName(i.referenceValue),a}return xe(n,[{key:"matches",value:function(e){var t=ys.comparator(e.key,this.key);return this.v(t)}}]),n}(Vs),qs=function(e){Ee(n,e);var t=Ae(n);function n(e,r){var i;return we(this,n),(i=t.call(this,e,"in",r)).keys=Ws("in",r),i}return xe(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Vs),zs=function(e){Ee(n,e);var t=Ae(n);function n(e,r){var i;return we(this,n),(i=t.call(this,e,"not-in",r)).keys=Ws("not-in",r),i}return xe(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Vs);function Ws(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return ys.fromName(e.referenceValue)}))}var Hs=function(e){Ee(n,e);var t=Ae(n);function n(e,r){return we(this,n),t.call(this,e,"array-contains",r)}return xe(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Is(t)&&ws(t.arrayValue,this.value)}}]),n}(Vs),Ys=function(e){Ee(n,e);var t=Ae(n);function n(e,r){return we(this,n),t.call(this,e,"in",r)}return xe(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&ws(this.value.arrayValue,t)}}]),n}(Vs),Gs=function(e){Ee(n,e);var t=Ae(n);function n(e,r){return we(this,n),t.call(this,e,"not-in",r)}return xe(n,[{key:"matches",value:function(e){if(ws(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!ws(this.value.arrayValue,t)}}]),n}(Vs),Ks=function(e){Ee(n,e);var t=Ae(n);function n(e,r){return we(this,n),t.call(this,e,"array-contains-any",r)}return xe(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Is(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return ws(t.value.arrayValue,e)}))}}]),n}(Vs),Qs=xe((function e(t,n){we(this,e),this.position=t,this.before=n}));function Js(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return _s(e)})).join(","))}var Xs=xe((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";we(this,e),this.field=t,this.dir=n}));function $s(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Zs(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?ys.comparator(ys.fromName(o.referenceValue),n.key):bs(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function eu(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ks(e.position[n],t.position[n]))return!1;return!0}var tu=xe((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;we(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.S=null,this.D=null,this.startAt,this.endAt}));function nu(e,t,n,r,i,a,o,s){return new tu(e,t,n,r,i,a,o,s)}function ru(e){return new tu(e)}function iu(e){return!ps(e.limit)&&"F"===e.limitType}function au(e){return!ps(e.limit)&&"L"===e.limitType}function ou(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function su(e){var t,n=fe(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function uu(e){return null!==e.collectionGroup}function cu(e){var t=Do(e);if(null===t.S){t.S=[];var n=su(t),r=ou(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new Xs(n)),t.S.push(new Xs(is.keyField(),"asc"));else{var i,a=!1,o=fe(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.S.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new Xs(is.keyField(),u))}}}return t.S}function lu(e){var t=Do(e);if(!t.D)if("F"===t.limitType)t.D=Ls(t.path,t.collectionGroup,cu(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=fe(cu(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Xs(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Qs(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Qs(t.startAt.position,!t.startAt.before):null;t.D=Ls(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.D}function fu(e,t,n){return new tu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function hu(e,t){return Fs(lu(e),lu(t))&&e.limitType===t.limitType}function du(e){return"".concat(Ms(lu(e)),"|lt:").concat(e.limitType)}function pu(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(_s(t.value));var t})).join(", "),"]")),ps(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+Js(e.startAt)),e.endAt&&(t+=", endAt: "+Js(e.endAt)),"Target(".concat(t,")")}(lu(e)),"; limitType=").concat(e.limitType,")")}function vu(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ys.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=fe(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=fe(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!Zs(e.startAt,cu(e),t))&&(!e.endAt||!Zs(e.endAt,cu(e),t))}(e,t)}function mu(e){return function(t,n){var r,i=!1,a=fe(cu(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=yu(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function yu(e,t,n){var r=e.field.isKeyField()?ys.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?bs(r,i):Ao()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ao()}}function gu(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vs(t)?"-0":t}}function ku(e){return{integerValue:""+e}}function wu(e,t){return ms(t)?ku(t):gu(e,t)}var bu=xe((function e(){we(this,e),this._=void 0}));function xu(e,t,n){return e instanceof Eu?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Tu?Iu(e,t):e instanceof Cu?Nu(e,t):function(e,t){var n=Su(e,t),r=Pu(n)+Pu(e.N);return Ts(n)&&Ts(e.N)?ku(r):gu(e.k,r)}(e,t)}function _u(e,t,n){return e instanceof Tu?Iu(e,t):e instanceof Cu?Nu(e,t):n}function Su(e,t){return e instanceof Au?Ts(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Eu=function(e){Ee(n,e);var t=Ae(n);function n(){return we(this,n),t.apply(this,arguments)}return xe(n)}(bu),Tu=function(e){Ee(n,e);var t=Ae(n);function n(e){var r;return we(this,n),(r=t.call(this)).elements=e,r}return xe(n)}(bu);function Iu(e,t){var n,r=Du(t),i=fe(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return ks(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Cu=function(e){Ee(n,e);var t=Ae(n);function n(e){var r;return we(this,n),(r=t.call(this)).elements=e,r}return xe(n)}(bu);function Nu(e,t){var n,r=Du(t),i=fe(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!ks(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Au=function(e){Ee(n,e);var t=Ae(n);function n(e,r){var i;return we(this,n),(i=t.call(this)).k=e,i.N=r,i}return xe(n)}(bu);function Pu(e){return cs(e.integerValue||e.doubleValue)}function Du(e){return Is(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Ou=xe((function e(t,n){we(this,e),this.field=t,this.transform=n}));var Ru=xe((function e(t,n){we(this,e),this.version=t,this.transformResults=n})),ju=function(){function e(t,n){we(this,e),this.updateTime=t,this.exists=n}return xe(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Lu(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Mu=xe((function e(){we(this,e)}));function Fu(e,t,n){e instanceof zu?function(e,t,n){var r=e.value.clone(),i=Yu(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Wu?function(e,t,n){if(Lu(e.precondition,t)){var r=Yu(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Hu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Uu(e,t,n){e instanceof zu?function(e,t,n){if(Lu(e.precondition,t)){var r=e.value.clone(),i=Gu(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(qu(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Wu?function(e,t,n){if(Lu(e.precondition,t)){var r=Gu(e.fieldTransforms,n,t),i=t.data;i.setAll(Hu(e)),i.setAll(r),t.convertToFoundDocument(qu(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Lu(e.precondition,t)&&t.convertToNoDocument(Xo.min())}(e,t)}function Vu(e,t){var n,r=null,i=fe(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Su(a.transform,o||null);null!=s&&(null==r&&(r=Ds.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Bu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ko(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Tu&&t instanceof Tu||e instanceof Cu&&t instanceof Cu?Ko(e.elements,t.elements,ks):e instanceof Au&&t instanceof Au?ks(e.N,t.N):e instanceof Eu&&t instanceof Eu}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function qu(e){return e.isFoundDocument()?e.version:Xo.min()}var zu=function(e){Ee(n,e);var t=Ae(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return we(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return xe(n)}(Mu),Wu=function(e){Ee(n,e);var t=Ae(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return we(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return xe(n)}(Mu);function Hu(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Yu(e,t,n){var r=new Map;Po(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,_u(o,s,n[i]))}return r}function Gu(e,t,n){var r,i=new Map,a=fe(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,xu(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Ku,Qu,Ju=function(e){Ee(n,e);var t=Ae(n);function n(e,r){var i;return we(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return xe(n)}(Mu),Xu=function(e){Ee(n,e);var t=Ae(n);function n(e,r){var i;return we(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return xe(n)}(Mu),$u=xe((function e(t){we(this,e),this.count=t}));function Zu(e){switch(e){default:return Ao();case Oo.CANCELLED:case Oo.UNKNOWN:case Oo.DEADLINE_EXCEEDED:case Oo.RESOURCE_EXHAUSTED:case Oo.INTERNAL:case Oo.UNAVAILABLE:case Oo.UNAUTHENTICATED:return!1;case Oo.INVALID_ARGUMENT:case Oo.NOT_FOUND:case Oo.ALREADY_EXISTS:case Oo.PERMISSION_DENIED:case Oo.FAILED_PRECONDITION:case Oo.ABORTED:case Oo.OUT_OF_RANGE:case Oo.UNIMPLEMENTED:case Oo.DATA_LOSS:return!0}}function ec(e){if(void 0===e)return Io("GRPC error has no .code"),Oo.UNKNOWN;switch(e){case Ku.OK:return Oo.OK;case Ku.CANCELLED:return Oo.CANCELLED;case Ku.UNKNOWN:return Oo.UNKNOWN;case Ku.DEADLINE_EXCEEDED:return Oo.DEADLINE_EXCEEDED;case Ku.RESOURCE_EXHAUSTED:return Oo.RESOURCE_EXHAUSTED;case Ku.INTERNAL:return Oo.INTERNAL;case Ku.UNAVAILABLE:return Oo.UNAVAILABLE;case Ku.UNAUTHENTICATED:return Oo.UNAUTHENTICATED;case Ku.INVALID_ARGUMENT:return Oo.INVALID_ARGUMENT;case Ku.NOT_FOUND:return Oo.NOT_FOUND;case Ku.ALREADY_EXISTS:return Oo.ALREADY_EXISTS;case Ku.PERMISSION_DENIED:return Oo.PERMISSION_DENIED;case Ku.FAILED_PRECONDITION:return Oo.FAILED_PRECONDITION;case Ku.ABORTED:return Oo.ABORTED;case Ku.OUT_OF_RANGE:return Oo.OUT_OF_RANGE;case Ku.UNIMPLEMENTED:return Oo.UNIMPLEMENTED;case Ku.DATA_LOSS:return Oo.DATA_LOSS;default:return Ao()}}(Qu=Ku||(Ku={}))[Qu.OK=0]="OK",Qu[Qu.CANCELLED=1]="CANCELLED",Qu[Qu.UNKNOWN=2]="UNKNOWN",Qu[Qu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qu[Qu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qu[Qu.NOT_FOUND=5]="NOT_FOUND",Qu[Qu.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qu[Qu.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qu[Qu.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qu[Qu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qu[Qu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qu[Qu.ABORTED=10]="ABORTED",Qu[Qu.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qu[Qu.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qu[Qu.INTERNAL=13]="INTERNAL",Qu[Qu.UNAVAILABLE=14]="UNAVAILABLE",Qu[Qu.DATA_LOSS=15]="DATA_LOSS";var tc=function(){function e(t,n){we(this,e),this.comparator=t,this.root=n||rc.EMPTY}return xe(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,rc.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,rc.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new nc(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new nc(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new nc(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new nc(this.root,e,this.comparator,!0)}}]),e}(),nc=function(){function e(t,n,r,i){we(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return xe(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),rc=function(){function e(t,n,r,i,a){we(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return xe(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Ao();if(this.right.isRed())throw Ao();var e=this.left.check();if(e!==this.right.check())throw Ao();return e+(this.isRed()?0:1)}}]),e}();rc.EMPTY=null,rc.RED=!0,rc.BLACK=!1,rc.EMPTY=new(function(){function e(){we(this,e),this.size=0}return xe(e,[{key:"key",get:function(){throw Ao()}},{key:"value",get:function(){throw Ao()}},{key:"color",get:function(){throw Ao()}},{key:"left",get:function(){throw Ao()}},{key:"right",get:function(){throw Ao()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new rc(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var ic=function(){function e(t){we(this,e),this.comparator=t,this.data=new tc(this.comparator)}return xe(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new ac(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new ac(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),ac=function(){function e(t){we(this,e),this.iter=t}return xe(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),oc=new tc(ys.comparator);function sc(){return oc}var uc=new tc(ys.comparator);function cc(){return uc}var lc=new tc(ys.comparator);function fc(){return lc}var hc=new ic(ys.comparator);function dc(){for(var e=hc,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var pc=new ic(Go);function vc(){return pc}var mc=function(){function e(t,n,r,i,a){we(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return xe(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,yc.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Xo.min(),r,vc(),sc(),dc())}}]),e}(),yc=function(){function e(t,n,r,i,a){we(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return xe(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(os.EMPTY_BYTE_STRING,n,dc(),dc(),dc())}}]),e}(),gc=xe((function e(t,n,r,i){we(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.F=i})),kc=xe((function e(t,n){we(this,e),this.targetId=t,this.O=n})),wc=xe((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:os.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;we(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),bc=function(){function e(){we(this,e),this.M=0,this.L=Sc(),this.B=os.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return xe(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.M}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=dc(),t=dc(),n=dc();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ao()}})),new yc(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=Sc()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.M+=1}},{key:"Z",value:function(){this.M-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),xc=function(){function e(t){we(this,e),this.et=t,this.nt=new Map,this.st=sc(),this.it=_c(),this.rt=new ic(Go)}return xe(e,[{key:"ot",value:function(e){var t,n=fe(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(s){n.e(s)}finally{n.f()}var i,a=fe(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:Ao()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.O.count,r=this.wt(t);if(r){var i=r.target;if(Us(i))if(0===n){var a=new ys(i.path);this.ct(t,a,Rs.newNoDocument(a,Xo.min()))}else Po(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Us(a.target)){var o=new ys(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.ct(i,o,Rs.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=dc();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new mc(e,n,this.rt,this.st,r);return this.st=sc(),this.it=_c(),this.rt=new ic(Go),i}},{key:"at",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new bc,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new ic(Go),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||To("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new bc),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function _c(){return new tc(ys.comparator)}function Sc(){return new tc(ys.comparator)}var Ec={asc:"ASCENDING",desc:"DESCENDING"},Tc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ic=xe((function e(t,n){we(this,e),this.databaseId=t,this.C=n}));function Cc(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Nc(e,t){return e.C?t.toBase64():t.toUint8Array()}function Ac(e,t){return Cc(e,t.toTimestamp())}function Pc(e){return Po(!!e),Xo.fromTimestamp(function(e){var t=us(e);return new Jo(t.seconds,t.nanos)}(e))}function Dc(e,t){return function(e){return new ns(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Oc(e){var t=ns.fromString(e);return Po(il(t)),t}function Rc(e,t){return Dc(e.databaseId,t.path)}function jc(e,t){var n=Oc(t);if(n.get(1)!==e.databaseId.projectId)throw new Ro(Oo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ro(Oo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ys(Uc(n))}function Lc(e,t){return Dc(e.databaseId,t)}function Mc(e){var t=Oc(e);return 4===t.length?ns.emptyPath():Uc(t)}function Fc(e){return new ns(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Uc(e){return Po(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Vc(e,t,n){return{name:Rc(e,t),fields:n.value.mapValue.fields}}function Bc(e,t,n){var r=jc(e,t.name),i=Pc(t.updateTime),a=new Ds({mapValue:{fields:t.fields}}),o=Rs.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function qc(e,t){return"found"in t?function(e,t){Po(!!t.found),t.found.name,t.found.updateTime;var n=jc(e,t.found.name),r=Pc(t.found.updateTime),i=new Ds({mapValue:{fields:t.found.fields}});return Rs.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Po(!!t.missing),Po(!!t.readTime);var n=jc(e,t.missing),r=Pc(t.readTime);return Rs.newNoDocument(n,r)}(e,t):Ao()}function zc(e,t){var n;if(t instanceof zu)n={update:Vc(e,t.key,t.value)};else if(t instanceof Ju)n={delete:Rc(e,t.key)};else if(t instanceof Wu)n={update:Vc(e,t.key,t.data),updateMask:rl(t.fieldMask)};else{if(!(t instanceof Xu))return Ao();n={verify:Rc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Eu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Tu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Cu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Au)return{fieldPath:t.field.canonicalString(),increment:n.N};throw Ao()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ac(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ao()}(e,t.precondition)),n}function Wc(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?ju.updateTime(Pc(e.updateTime)):void 0!==e.exists?ju.exists(e.exists):ju.none()}(t.currentDocument):ju.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Po("REQUEST_TIME"===t.setToServerValue),n=new Eu;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Tu(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Cu(i)}else"increment"in t?n=new Au(e,t.increment):Ao();var a=is.fromServerFormat(t.fieldPath);return new Ou(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=jc(e,t.update.name),a=new Ds({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new as(t.map((function(e){return is.fromServerFormat(e)})))}(t.updateMask);return new Wu(i,a,o,n,r)}return new zu(i,a,n,r)}if(t.delete){var s=jc(e,t.delete);return new Ju(s,n)}if(t.verify){var u=jc(e,t.verify);return new Xu(u,n)}return Ao()}function Hc(e,t){return{documents:[Lc(e,t.path)]}}function Yc(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Lc(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Lc(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Ns(e.value))return{unaryFilter:{field:Zc(e.field),op:"IS_NAN"}};if(Cs(e.value))return{unaryFilter:{field:Zc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ns(e.value))return{unaryFilter:{field:Zc(e.field),op:"IS_NOT_NAN"}};if(Cs(e.value))return{unaryFilter:{field:Zc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zc(e.field),op:$c(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Zc(e.field),direction:Xc(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||ps(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=Qc(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Qc(t.endAt)),n}function Gc(e){var t=Mc(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Po(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Kc(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Xs(el(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return ps(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Jc(n.startAt));var l=null;return n.endAt&&(l=Jc(n.endAt)),nu(t,i,s,o,u,"F",c,l)}function Kc(e){return e?void 0!==e.unaryFilter?[nl(e)]:void 0!==e.fieldFilter?[tl(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Kc(e)})).reduce((function(e,t){return e.concat(t)})):Ao():[]}function Qc(e){return{before:e.before,values:e.position}}function Jc(e){var t=!!e.before,n=e.values||[];return new Qs(n,t)}function Xc(e){return Ec[e]}function $c(e){return Tc[e]}function Zc(e){return{fieldPath:e.canonicalString()}}function el(e){return is.fromServerFormat(e.fieldPath)}function tl(e){return Vs.create(el(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ao()}}(e.fieldFilter.op),e.fieldFilter.value)}function nl(e){switch(e.unaryFilter.op){case"IS_NAN":var t=el(e.unaryFilter.field);return Vs.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=el(e.unaryFilter.field);return Vs.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=el(e.unaryFilter.field);return Vs.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=el(e.unaryFilter.field);return Vs.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ao()}}function rl(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function il(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function al(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=sl(t)),t=ol(e.get(n),t);return sl(t)}function ol(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function sl(e){return e+"\x01\x01"}function ul(e){var t=e.length;if(Po(t>=2),2===t)return Po("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ns.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Ao(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Ao()}a=o+2}return new ns(r)}var cl=xe((function e(t,n){we(this,e),this.seconds=t,this.nanoseconds=n})),ll=xe((function e(t,n,r){we(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));ll.store="owner",ll.key="owner";var fl=xe((function e(t,n,r){we(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));fl.store="mutationQueues",fl.keyPath="userId";var hl=xe((function e(t,n,r,i,a){we(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));hl.store="mutations",hl.keyPath="batchId",hl.userMutationsIndex="userMutationsIndex",hl.userMutationsKeyPath=["userId","batchId"];var dl=function(){function e(){we(this,e)}return xe(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,al(t)]}},{key:"key",value:function(e,t,n){return[e,al(t),n]}}]),e}();dl.store="documentMutations",dl.PLACEHOLDER=new dl;var pl=xe((function e(t,n){we(this,e),this.path=t,this.readTime=n})),vl=xe((function e(t,n){we(this,e),this.path=t,this.version=n})),ml=xe((function e(t,n,r,i,a,o){we(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));ml.store="remoteDocuments",ml.readTimeIndex="readTimeIndex",ml.readTimeIndexPath="readTime",ml.collectionReadTimeIndex="collectionReadTimeIndex",ml.collectionReadTimeIndexPath=["parentPath","readTime"];var yl=xe((function e(t){we(this,e),this.byteSize=t}));yl.store="remoteDocumentGlobal",yl.key="remoteDocumentGlobalKey";var gl=xe((function e(t,n,r,i,a,o,s){we(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=s}));gl.store="targets",gl.keyPath="targetId",gl.queryTargetsIndexName="queryTargetsIndex",gl.queryTargetsKeyPath=["canonicalId","targetId"];var kl=xe((function e(t,n,r){we(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));kl.store="targetDocuments",kl.keyPath=["targetId","path"],kl.documentTargetsIndex="documentTargetsIndex",kl.documentTargetsKeyPath=["path","targetId"];var wl=xe((function e(t,n,r,i){we(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));wl.key="targetGlobalKey",wl.store="targetGlobal";var bl=xe((function e(t,n){we(this,e),this.collectionId=t,this.parent=n}));bl.store="collectionParents",bl.keyPath=["collectionId","parent"];var xl=xe((function e(t,n,r,i){we(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));xl.store="clientMetadata",xl.keyPath="clientId";var _l=xe((function e(t,n,r){we(this,e),this.bundleId=t,this.createTime=n,this.version=r}));_l.store="bundles",_l.keyPath="bundleId";var Sl=xe((function e(t,n,r){we(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));Sl.store="namedQueries",Sl.keyPath="name";var El=[fl.store,hl.store,dl.store,ml.store,gl.store,ll.store,wl.store,kl.store].concat([xl.store]).concat([yl.store]).concat([bl.store]).concat([_l.store,Sl.store]),Tl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Il=function(){function e(){we(this,e),this.onCommittedListeners=[]}return xe(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Cl=function(){function e(t){var n=this;we(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return xe(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Ao(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=fe(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Nl=function(){function e(t,n){var r=this;we(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.It=new jo,this.transaction.oncomplete=function(){r.It.resolve()},this.transaction.onabort=function(){n.error?r.It.reject(new Dl(t,n.error)):r.It.resolve()},this.transaction.onerror=function(e){var n=Ml(e.target.error);r.It.reject(new Dl(t,n))}}return xe(e,[{key:"At",get:function(){return this.It.promise}},{key:"abort",value:function(e){e&&this.It.reject(e),this.aborted||(To("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Rl(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Dl(n,t)}}}]),e}(),Al=function(){function e(t,n,r){we(this,e),this.name=t,this.version=n,this.Rt=r,12.2===e.Pt(Ve())&&Io("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return xe(e,[{key:"Ct",value:function(){var e=de(ve().mark((function e(t){var n=this;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return To("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Dl(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Ro(Oo.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Ro(Oo.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Dl(t,n))},i.onupgradeneeded=function(e){To("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Rt.Nt(t,i.transaction,e.oldVersion,n.version).next((function(){To("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.kt&&(this.db.onversionchange=function(e){return n.kt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.kt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=de(ve().mark((function e(t,n,r,i){var a,o,s,u,c=this;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(ve().mark((function e(){var n,o;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Ct(t);case 2:return c.db=e.sent,n=Nl.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).catch((function(e){return n.abort(e),Cl.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.At;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u="FirebaseError"!==e.t1.name&&o<3,To("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return To("SimpleDb","Removing database:",e),jl(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"bt",value:function(){if(!Ye())return!1;if(e.vt())return!0;var t=Ve(),n=e.Pt(t),r=0<n&&n<10,i=e.Vt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"vt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.St)}},{key:"Dt",value:function(e,t){return e.store(t)}},{key:"Pt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Pl=function(){function e(t){we(this,e),this.$t=t,this.Ft=!1,this.Ot=null}return xe(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Mt",get:function(){return this.Ot}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"Lt",value:function(e){this.Ot=e}},{key:"delete",value:function(){return jl(this.$t.delete())}}]),e}(),Dl=function(e){Ee(n,e);var t=Ae(n);function n(e,r){var i;return we(this,n),(i=t.call(this,Oo.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return xe(n)}(Ro);function Ol(e){return"IndexedDbTransactionError"===e.name}var Rl=function(){function e(t){we(this,e),this.store=t}return xe(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(To("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(To("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),jl(n)}},{key:"add",value:function(e){return To("SimpleDb","ADD",this.store.name,e,e),jl(this.store.add(e))}},{key:"get",value:function(e){var t=this;return jl(this.store.get(e)).next((function(n){return void 0===n&&(n=null),To("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return To("SimpleDb","DELETE",this.store.name,e),jl(this.store.delete(e))}},{key:"count",value:function(){return To("SimpleDb","COUNT",this.store.name),jl(this.store.count())}},{key:"Bt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"qt",value:function(e,t){To("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Kt=!1;var r=this.cursor(n);return this.Ut(r,(function(e,t,n){return n.delete()}))}},{key:"jt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Ut(r,t)}},{key:"Qt",value:function(e){var t=this.cursor({});return new Cl((function(n,r){t.onerror=function(e){var t=Ml(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Ut",value:function(e,t){var n=[];return new Cl((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Pl(i),o=t(i.primaryKey,i.value,a);if(o instanceof Cl){var s=o.catch((function(e){return a.done(),Cl.reject(e)}));n.push(s)}a.isDone?r():null===a.Mt?i.continue():i.continue(a.Mt)}else r()}})).next((function(){return Cl.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function jl(e){return new Cl((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Ml(e.target.error);n(t)}}))}var Ll=!1;function Ml(e){var t=Al.Pt(Ve());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Ro("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Ll||(Ll=!0,setTimeout((function(){throw r}),0)),r}}return e}var Fl=function(e){Ee(n,e);var t=Ae(n);function n(e,r){var i;return we(this,n),(i=t.call(this)).Wt=e,i.currentSequenceNumber=r,i}return xe(n)}(Il);function Ul(e,t){var n=Do(e);return Al.Dt(n.Wt,t)}var Vl=function(){function e(t,n,r,i){we(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return xe(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Fu(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=fe(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Uu(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=fe(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Uu(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Xo.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),dc())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Ko(this.mutations,e.mutations,(function(e,t){return Bu(e,t)}))&&Ko(this.baseMutations,e.baseMutations,(function(e,t){return Bu(e,t)}))}}]),e}(),Bl=function(){function e(t,n,r,i){we(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return xe(e,null,[{key:"from",value:function(t,n,r){Po(t.mutations.length===r.length);for(var i=fc(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),ql=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Xo.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Xo.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:os.EMPTY_BYTE_STRING;we(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return xe(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),zl=xe((function e(t){we(this,e),this.Gt=t}));function Wl(e,t){if(t.document)return Bc(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=ys.fromSegments(t.noDocument.path),r=Ql(t.noDocument.readTime),i=Rs.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=ys.fromSegments(t.unknownDocument.path),o=Ql(t.unknownDocument.version);return Rs.newUnknownDocument(a,o)}return Ao()}function Hl(e,t,n){var r=Yl(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:Rc(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Cc(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new ml(null,null,a,o,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=Kl(t.version),c=t.hasCommittedMutations;return new ml(null,new pl(s,u),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=Kl(t.version);return new ml(new vl(l,f),null,null,!0,r,i)}return Ao()}function Yl(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Gl(e){var t=new Jo(e[0],e[1]);return Xo.fromTimestamp(t)}function Kl(e){var t=e.toTimestamp();return new cl(t.seconds,t.nanoseconds)}function Ql(e){var t=new Jo(e.seconds,e.nanoseconds);return Xo.fromTimestamp(t)}function Jl(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Wc(e.Gt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Wc(e.Gt,t)})),s=Jo.fromMillis(t.localWriteTimeMs);return new Vl(t.batchId,s,n,o)}function Xl(e){var t,n,r=Ql(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Ql(e.lastLimboFreeSnapshotVersion):Xo.min();return void 0!==e.query.documents?(Po(1===(n=e.query).documents.length),t=lu(ru(Mc(n.documents[0])))):t=function(e){return lu(Gc(e))}(e.query),new ql(t,e.targetId,0,e.lastListenSequenceNumber,r,i,os.fromBase64String(e.resumeToken))}function $l(e,t){var n,r=Kl(t.snapshotVersion),i=Kl(t.lastLimboFreeSnapshotVersion);n=Us(t.target)?Hc(e.Gt,t.target):Yc(e.Gt,t.target);var a=t.resumeToken.toBase64();return new gl(t.targetId,Ms(t.target),r,a,t.sequenceNumber,i,n)}function Zl(e){var t=Gc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?fu(t,t.limit,"L"):t}var ef=function(){function e(){we(this,e)}return xe(e,[{key:"getBundleMetadata",value:function(e,t){return tf(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Ql(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return tf(e).put({bundleId:(n=t).id,createTime:Kl(Pc(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return nf(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Zl(t.bundledQuery),readTime:Ql(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return nf(e).put(function(e){return{name:e.name,readTime:Kl(Pc(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function tf(e){return Ul(e,_l.store)}function nf(e){return Ul(e,Sl.store)}var rf=function(){function e(){we(this,e),this.zt=new af}return xe(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),Cl.resolve()}},{key:"getCollectionParents",value:function(e,t){return Cl.resolve(this.zt.getEntries(t))}}]),e}(),af=function(){function e(){we(this,e),this.index={}}return xe(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ic(ns.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new ic(ns.comparator)).toArray()}}]),e}(),of=function(){function e(){we(this,e),this.Ht=new af}return xe(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ht.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ht.add(t)}));var a={collectionId:r,parent:al(i)};return sf(e).put(a)}return Cl.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Qo(t),""],!1,!0);return sf(e).Bt(r).next((function(e){var r,i=fe(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(ul(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}}]),e}();function sf(e){return Ul(e,bl.store)}var uf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cf=function(){function e(t,n,r){we(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return xe(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function lf(e,t,n){var r=e.store(hl.store),i=e.store(dl.store),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.jt({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){Po(1===s)})));var c,l=[],f=fe(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=dl.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Cl.waitFor(a).next((function(){return l}))}function ff(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ao();t=e.noDocument}return JSON.stringify(t).length}cf.DEFAULT_COLLECTION_PERCENTILE=10,cf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cf.DEFAULT=new cf(41943040,cf.DEFAULT_COLLECTION_PERCENTILE,cf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cf.DISABLED=new cf(-1,0,0);var hf=function(){function e(t,n,r,i){we(this,e),this.userId=t,this.k=n,this.Jt=r,this.referenceDelegate=i,this.Yt={}}return xe(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return pf(e).jt({index:hl.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=vf(e),o=pf(e);return o.add({}).next((function(s){Po("number"==typeof s);var u,c=new Vl(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return zc(e.Gt,t)})),i=n.mutations.map((function(t){return zc(e.Gt,t)}));return new hl(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.k,i.userId,c),f=[],h=new ic((function(e,t){return Go(e.canonicalString(),t.canonicalString())})),d=fe(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=dl.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,dl.PLACEHOLDER))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Yt[s]=c.keys()})),Cl.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return pf(e).get(t).next((function(e){return e?(Po(e.userId===n.userId),Jl(n.k,e)):null}))}},{key:"Zt",value:function(e,t){var n=this;return this.Yt[t]?Cl.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Yt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return pf(e).jt({index:hl.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Po(t.batchId>=r),a=Jl(n.k,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return pf(e).jt({index:hl.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return pf(e).Bt(hl.userMutationsIndex,n).next((function(e){return e.map((function(e){return Jl(t.k,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=dl.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return vf(e).jt({range:i},(function(r,i,o){var s=l(r,3),u=s[0],c=s[1],f=s[2],h=ul(c);if(u===n.userId&&t.path.isEqual(h))return pf(e).get(f).next((function(e){if(!e)throw Ao();Po(e.userId===n.userId),a.push(Jl(n.k,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ic(Go),i=[];return t.forEach((function(t){var a=dl.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=vf(e).jt({range:o},(function(e,i,a){var o=l(e,3),s=o[0],u=o[1],c=o[2],f=ul(u);s===n.userId&&t.path.isEqual(f)?r=r.add(c):a.done()}));i.push(s)})),Cl.waitFor(i).next((function(){return n.te(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=dl.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new ic(Go);return vf(e).jt({range:o},(function(e,t,a){var o=l(e,3),u=o[0],c=o[1],f=o[2],h=ul(c);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.te(e,s)}))}},{key:"te",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(pf(e).get(t).next((function(e){if(null===e)throw Ao();Po(e.userId===n.userId),r.push(Jl(n.k,e))})))})),Cl.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return lf(e.Wt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.ee(t.batchId)})),Cl.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"ee",value:function(e){delete this.Yt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Cl.resolve();var r=IDBKeyRange.lowerBound(dl.prefixForUser(t.userId)),i=[];return vf(e).jt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=ul(e[1]);i.push(a)}else r.done()})).next((function(){Po(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return df(e,this.userId,t)}},{key:"ne",value:function(e){var t=this;return mf(e).get(this.userId).next((function(e){return e||new fl(t.userId,-1,"")}))}}],[{key:"Xt",value:function(t,n,r,i){return Po(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function df(e,t,n){var r=dl.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return vf(e).jt({range:a,Kt:!0},(function(e,n,r){var a=l(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function pf(e){return Ul(e,hl.store)}function vf(e){return Ul(e,dl.store)}function mf(e){return Ul(e,fl.store)}var yf=function(){function e(t){we(this,e),this.se=t}return xe(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}(),gf=function(){function e(t,n){we(this,e),this.referenceDelegate=t,this.k=n}return xe(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.oe(e).next((function(n){var r=new yf(n.highestTargetId);return n.highestTargetId=r.next(),t.ae(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.oe(e).next((function(e){return Xo.fromTimestamp(new Jo(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.oe(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.oe(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ae(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ce(e,t).next((function(){return n.oe(e).next((function(r){return r.targetCount+=1,n.ue(t,r),n.ae(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ce(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return kf(e).delete(t.targetId)})).next((function(){return n.oe(e)})).next((function(t){return Po(t.targetCount>0),t.targetCount-=1,n.ae(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return kf(e).jt((function(o,s){var u=Xl(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return Cl.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return kf(e).jt((function(e,n){var r=Xl(n);t(r)}))}},{key:"oe",value:function(e){return wf(e).get(wl.key).next((function(e){return Po(null!==e),e}))}},{key:"ae",value:function(e,t){return wf(e).put(wl.key,t)}},{key:"ce",value:function(e,t){return kf(e).put($l(this.k,t))}},{key:"ue",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.oe(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Ms(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return kf(e).jt({range:r,index:gl.queryTargetsIndexName},(function(e,n,r){var a=Xl(n);Fs(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=bf(e);return t.forEach((function(t){var o=al(t.path);i.push(a.put(new kl(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),Cl.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=bf(e);return Cl.forEach(t,(function(t){var a=al(t.path);return Cl.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=bf(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=bf(e),i=dc();return r.jt({range:n,Kt:!0},(function(e,t,n){var r=ul(e[1]),a=new ys(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=al(t.path),r=IDBKeyRange.bound([n],[Qo(n)],!1,!0),i=0;return bf(e).jt({index:kl.documentTargetsIndex,Kt:!0,range:r},(function(e,t,n){var r=l(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return kf(e).get(t).next((function(e){return e?Xl(e):null}))}}]),e}();function kf(e){return Ul(e,gl.store)}function wf(e){return Ul(e,wl.store)}function bf(e){return Ul(e,kl.store)}function xf(e){return _f.apply(this,arguments)}function _f(){return _f=de(ve().mark((function e(t){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Oo.FAILED_PRECONDITION&&t.message===Tl){e.next=2;break}throw t;case 2:To("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),_f.apply(this,arguments)}function Sf(e,t){var n=l(e,2),r=n[0],i=n[1],a=l(t,2),o=a[0],s=a[1],u=Go(r,o);return 0===u?Go(i,s):u}var Ef=function(){function e(t){we(this,e),this.he=t,this.buffer=new ic(Sf),this.le=0}return xe(e,[{key:"fe",value:function(){return++this.le}},{key:"de",value:function(e){var t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Sf(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Tf=function(){function e(t,n){we(this,e),this.garbageCollector=t,this.asyncQueue=n,this.we=!1,this._e=null}return xe(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}},{key:"stop",value:function(){this._e&&(this._e.cancel(),this._e=null)}},{key:"started",get:function(){return null!==this._e}},{key:"me",value:function(e){var t=this,n=this.we?3e5:6e4;To("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,de(ve().mark((function n(){return ve().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t._e=null,t.we=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Ol(n.t0)){n.next=12;break}To("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,xf(n.t0);case 14:return n.next=16,t.me(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),If=function(){function e(t,n){we(this,e),this.ge=t,this.params=n}return xe(e,[{key:"calculateTargetCount",value:function(e,t){return this.ge.ye(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Cl.resolve(Wo.I);var r=new Ef(t);return this.ge.forEachTarget(e,(function(e){return r.de(e.sequenceNumber)})).next((function(){return n.ge.pe(e,(function(e){return r.de(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.ge.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.ge.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(To("LruGarbageCollector","Garbage collection skipped; disabled"),Cl.resolve(uf)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(To("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),uf):n.Te(e,t)}))}},{key:"getCacheSize",value:function(e){return this.ge.getCacheSize(e)}},{key:"Te",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(To("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Eo()<=dt.DEBUG&&To("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Cl.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Cf=function(){function e(t,n){we(this,e),this.db=t,this.garbageCollector=function(e,t){return new If(e,t)}(this,n)}return xe(e,[{key:"ye",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Ee",value:function(e){var t=0;return this.pe(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"pe",value:function(e,t){return this.Ie(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Nf(e,n)}},{key:"removeReference",value:function(e,t,n){return Nf(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Nf(e,t)}},{key:"Ae",value:function(e,t){return function(e,t){var n=!1;return mf(e).Qt((function(r){return df(e,r,t).next((function(e){return e&&(n=!0),Cl.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ie(e,(function(o,s){if(s<=t){var u=n.Ae(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),bf(e).delete([0,al(o.path)])}))}));i.push(u)}})).next((function(){return Cl.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Nf(e,t)}},{key:"Ie",value:function(e,t){var n,r=bf(e),i=Wo.I;return r.jt({index:kl.documentTargetsIndex},(function(e,r){var a=l(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==Wo.I&&t(new ys(ul(n)),i),i=u,n=s):i=Wo.I})).next((function(){i!==Wo.I&&t(new ys(ul(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Nf(e,t){return bf(e).put(function(e,t){return new kl(0,al(e.path),t)}(t,e.currentSequenceNumber))}var Af=function(){function e(t,n){we(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return xe(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=fe(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){Zo(this.inner,(function(t,n){var r,i=fe(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return es(this.inner)}}]),e}(),Pf=function(){function e(){we(this,e),this.changes=new Af((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return xe(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:Xo.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:Rs.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Cl.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Df=function(){function e(t,n){we(this,e),this.k=t,this.Jt=n}return xe(e,[{key:"addEntry",value:function(e,t,n){return jf(e).put(Lf(t),n)}},{key:"removeEntry",value:function(e,t){var n=jf(e),r=Lf(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Re(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return jf(e).get(Lf(t)).next((function(e){return n.Pe(t,e)}))}},{key:"be",value:function(e,t){var n=this;return jf(e).get(Lf(t)).next((function(e){return{document:n.Pe(t,e),size:ff(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=sc();return this.ve(e,t,(function(e,t){var i=n.Pe(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ve",value:function(e,t){var n=this,r=sc(),i=new tc(ys.comparator);return this.ve(e,t,(function(e,t){var a=n.Pe(e,t);r=r.insert(e,a),i=i.insert(e,ff(t))})).next((function(){return{documents:r,Se:i}}))}},{key:"ve",value:function(e,t,n){if(t.isEmpty())return Cl.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return jf(e).jt({range:r},(function(e,t,r){for(var o=ys.fromSegments(e);a&&ys.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Lt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=sc(),a=t.path.length+1,o={};if(n.isEqual(Xo.min())){var s=t.path.toArray();o.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=Yl(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=ml.collectionReadTimeIndex}return jf(e).jt(o,(function(e,n,o){if(e.length===a){var s=Wl(r.k,n);t.path.isPrefixOf(s.key.path)?vu(t,s)&&(i=i.insert(s.key,s)):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new Of(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Rf(e).get(yl.key).next((function(e){return Po(!!e),e}))}},{key:"Re",value:function(e,t){return Rf(e).put(yl.key,t)}},{key:"Pe",value:function(e,t){if(t){var n=Wl(this.k,t);if(!n.isNoDocument()||!n.version.isEqual(Xo.min()))return n}return Rs.newInvalidDocument(e)}}]),e}(),Of=function(e){Ee(n,e);var t=Ae(n);function n(e,r){var i;return we(this,n),(i=t.call(this)).De=e,i.trackRemovals=r,i.Ce=new Af((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return xe(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new ic((function(e,t){return Go(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Ce.get(a);if(o.document.isValidDocument()){var u=Hl(t.De.k,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=ff(u);r+=c-s,n.push(t.De.addEntry(e,a,u))}else if(r-=s,t.trackRemovals){var l=Hl(t.De.k,Rs.newNoDocument(a,Xo.min()),t.getReadTime(a));n.push(t.De.addEntry(e,a,l))}else n.push(t.De.removeEntry(e,a))})),i.forEach((function(r){n.push(t.De.Jt.addToCollectionParentIndex(e,r))})),n.push(this.De.updateMetadata(e,r)),Cl.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.De.be(e,t).next((function(e){return n.Ce.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.De.Ve(e,t).next((function(e){var t=e.documents;return e.Se.forEach((function(e,t){n.Ce.set(e,t)})),t}))}}]),n}(Pf);function Rf(e){return Ul(e,yl.store)}function jf(e){return Ul(e,ml.store)}function Lf(e){return e.path.toArray()}var Mf=function(){function e(t){we(this,e),this.k=t}return xe(e,[{key:"Nt",value:function(e,t,n,r){var i=this;Po(n<r&&n>=0&&r<=11);var a=new Nl("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(ll.store)}(e),function(e){e.createObjectStore(fl.store,{keyPath:fl.keyPath}),e.createObjectStore(hl.store,{keyPath:hl.keyPath,autoIncrement:!0}).createIndex(hl.userMutationsIndex,hl.userMutationsKeyPath,{unique:!0}),e.createObjectStore(dl.store)}(e),Ff(e),function(e){e.createObjectStore(ml.store)}(e));var o=Cl.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(kl.store),e.deleteObjectStore(gl.store),e.deleteObjectStore(wl.store)}(e),Ff(e)),o=o.next((function(){return function(e){var t=e.store(wl.store),n=new wl(0,0,Xo.min().toTimestamp(),0);return t.put(wl.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(hl.store).Bt().next((function(n){e.deleteObjectStore(hl.store),e.createObjectStore(hl.store,{keyPath:hl.keyPath,autoIncrement:!0}).createIndex(hl.userMutationsIndex,hl.userMutationsKeyPath,{unique:!0});var r=t.store(hl.store),i=n.map((function(e){return r.put(e)}));return Cl.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(xl.store,{keyPath:xl.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ne(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(yl.store)}(e),i.ke(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.$e(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(ml.store);t.createIndex(ml.readTimeIndex,ml.readTimeIndexPath,{unique:!1}),t.createIndex(ml.collectionReadTimeIndex,ml.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Fe(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(_l.store,{keyPath:_l.keyPath})}(e),function(e){e.createObjectStore(Sl.store,{keyPath:Sl.keyPath})}(e)}))),o}},{key:"ke",value:function(e){var t=0;return e.store(ml.store).jt((function(e,n){t+=ff(n)})).next((function(){var n=new yl(t);return e.store(yl.store).put(yl.key,n)}))}},{key:"Ne",value:function(e){var t=this,n=e.store(fl.store),r=e.store(hl.store);return n.Bt().next((function(n){return Cl.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Bt(hl.userMutationsIndex,i).next((function(r){return Cl.forEach(r,(function(r){Po(r.userId===n.userId);var i=Jl(t.k,r);return lf(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(kl.store),n=e.store(ml.store);return e.store(wl.store).get(wl.key).next((function(e){var r=[];return n.jt((function(n,i){var a=new ns(n),o=function(e){return[0,al(e)]}(a);r.push(t.get(o).next((function(n){return n?Cl.resolve():function(n){return t.put(new kl(0,al(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return Cl.waitFor(r)}))}))}},{key:"$e",value:function(e,t){e.createObjectStore(bl.store,{keyPath:bl.keyPath});var n=t.store(bl.store),r=new af,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:al(i)})}};return t.store(ml.store).jt({Kt:!0},(function(e,t){var n=new ns(e);return i(n.popLast())})).next((function(){return t.store(dl.store).jt({Kt:!0},(function(e,t){var n=l(e,3),r=(n[0],n[1]),a=(n[2],ul(r));return i(a.popLast())}))}))}},{key:"Fe",value:function(e){var t=this,n=e.store(gl.store);return n.jt((function(e,r){var i=Xl(r),a=$l(t.k,i);return n.put(a)}))}}]),e}();function Ff(e){e.createObjectStore(kl.store,{keyPath:kl.keyPath}).createIndex(kl.documentTargetsIndex,kl.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(gl.store,{keyPath:gl.keyPath}).createIndex(gl.queryTargetsIndexName,gl.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(wl.store)}var Uf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Vf=function(){function e(t,n,r,i,a,o,s,u,c,l){if(we(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Oe=a,this.window=o,this.document=s,this.Me=c,this.Le=l,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=function(e){return Promise.resolve()},!e.bt())throw new Ro(Oo.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Cf(this,i),this.Ge=n+"main",this.k=new zl(u),this.ze=new Al(this.Ge,11,new Mf(this.k)),this.He=new gf(this.referenceDelegate,this.k),this.Jt=new of,this.Je=function(e,t){return new Df(e,t)}(this.k,this.Jt),this.Ye=new ef,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===l&&Io("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return xe(e,[{key:"start",value:function(){var e=this;return this.Ze().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Ro(Oo.FAILED_PRECONDITION,Uf);return e.tn(),e.en(),e.nn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.He.getHighestSequenceNumber(t)}))})).then((function(t){e.Be=new Wo(t,e.Me)})).then((function(){e.Ue=!0})).catch((function(t){return e.ze&&e.ze.close(),Promise.reject(t)}))}},{key:"sn",value:function(e){var t=this;return this.We=function(){var n=de(ve().mark((function n(r){return ve().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ze.xt(function(){var t=de(ve().mark((function t(n){return ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget(de(ve().mark((function e(){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ze();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ze",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return qf(t).put(new xl(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.rn(t).next((function(t){t||(e.isPrimary=!1,e.Oe.enqueueRetryable((function(){return e.We(!1)})))}))})).next((function(){return e.on(t)})).next((function(n){return e.isPrimary&&!n?e.an(t).next((function(){return!1})):!!n&&e.cn(t).next((function(){return!0}))}))})).catch((function(t){if(Ol(t))return To("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return To("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Oe.enqueueRetryable((function(){return e.We(t)})),e.isPrimary=t}))}},{key:"rn",value:function(e){var t=this;return Bf(e).get(ll.key).next((function(e){return Cl.resolve(t.un(e))}))}},{key:"hn",value:function(e){return qf(e).delete(this.clientId)}},{key:"ln",value:function(){var e=de(ve().mark((function e(){var t,n,r,i,a=this;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.fn(this.Qe,18e5)){e.next=6;break}return this.Qe=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Ul(e,xl.store);return t.Bt().next((function(e){var n=a.dn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Cl.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Xe){n=fe(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Xe.removeItem(this.wn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nn",value:function(){var e=this;this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ze().then((function(){return e.ln()})).then((function(){return e.nn()}))}))}},{key:"un",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"on",value:function(e){var t=this;return this.Le?Cl.resolve(!0):Bf(e).get(ll.key).next((function(n){if(null!==n&&t.fn(n.leaseTimestampMs,5e3)&&!t._n(n.ownerId)){if(t.un(n)&&t.networkEnabled)return!0;if(!t.un(n)){if(!n.allowTabSynchronization)throw new Ro(Oo.FAILED_PRECONDITION,Uf);return!1}}return!(!t.networkEnabled||!t.inForeground)||qf(e).Bt().next((function(e){return void 0===t.dn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&To("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=de(ve().mark((function e(){var t=this;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),e.next=7,this.ze.runTransaction("shutdown","readwrite",[ll.store,xl.store],(function(e){var n=new Fl(e,Wo.I);return t.an(n).next((function(){return t.hn(n)}))}));case 7:this.ze.close(),this.pn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dn",value:function(e,t){var n=this;return e.filter((function(e){return n.fn(e.updateTimeMs,t)&&!n._n(e.clientId)}))}},{key:"Tn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return qf(t).Bt().next((function(t){return e.dn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ue}},{key:"getMutationQueue",value:function(e){return hf.Xt(e,this.k,this.Jt,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;To("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.ze.runTransaction(e,a,El,(function(a){return i=new Fl(a,r.Be?r.Be.next():Wo.I),"readwrite-primary"===t?r.rn(i).next((function(e){return!!e||r.on(i)})).next((function(t){if(!t)throw Io("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Oe.enqueueRetryable((function(){return r.We(!1)})),new Ro(Oo.FAILED_PRECONDITION,Tl);return n(i)})).next((function(e){return r.cn(i).next((function(){return e}))})):r.En(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"En",value:function(e){var t=this;return Bf(e).get(ll.key).next((function(e){if(null!==e&&t.fn(e.leaseTimestampMs,5e3)&&!t._n(e.ownerId)&&!t.un(e)&&!(t.Le||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Ro(Oo.FAILED_PRECONDITION,Uf)}))}},{key:"cn",value:function(e){var t=new ll(this.clientId,this.allowTabSynchronization,Date.now());return Bf(e).put(ll.key,t)}},{key:"an",value:function(e){var t=this,n=Bf(e);return n.get(ll.key).next((function(e){return t.un(e)?(To("IndexedDbPersistence","Releasing primary lease."),n.delete(ll.key)):Cl.resolve()}))}},{key:"fn",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Io("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"tn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=function(){e.Oe.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ze()}))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}},{key:"gn",value:function(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}},{key:"en",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=function(){t.mn(),!qe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Oe.enterRestrictedMode(!0),t.Oe.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.qe))}},{key:"yn",value:function(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}},{key:"_n",value:function(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return To("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Io("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"mn",value:function(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(bn){Io("Failed to set zombie client id.",bn)}}},{key:"pn",value:function(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(bn){}}},{key:"wn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"bt",value:function(){return Al.bt()}}]),e}();function Bf(e){return Ul(e,ll.store)}function qf(e){return Ul(e,xl.store)}function zf(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Wf=xe((function e(t,n){we(this,e),this.progress=t,this.In=n})),Hf=function(){function e(t,n,r){we(this,e),this.Je=t,this.An=n,this.Jt=r}return xe(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Pn(e,t,r)}))}},{key:"Pn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=fe(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"bn",value:function(e,t){e.forEach((function(e,n){var r,i=fe(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.bn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return ys.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):uu(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new ys(t)).next((function(e){var t=cc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=cc();return this.Jt.getCollectionParents(e,i).next((function(o){return Cl.forEach(o,(function(o){var s=function(e,t){return new tu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=fe(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,s=fe(o.mutations);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=u.key,l=r.get(c);null==l&&(l=Rs.newInvalidDocument(c),r=r.insert(c,l)),Uu(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(f){s.e(f)}finally{s.f()}}}catch(f){n.e(f)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){vu(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=dc(),a=fe(t);try{for(a.s();!(r=a.n()).done;){var o,s=fe(r.value.mutations);try{for(s.s();!(o=s.n()).done;){var u=o.value;u instanceof Wu&&null===n.get(u.key)&&(i=i.add(u.key))}}catch(l){s.e(l)}finally{s.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),Yf=function(){function e(t,n,r,i){we(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return xe(e,null,[{key:"$n",value:function(t,n){var r,i=dc(),a=dc(),o=fe(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Gf=function(){function e(){we(this,e)}return xe(e,[{key:"Fn",value:function(e){this.On=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Xo.min())?this.Mn(e,t):this.On.vn(e,r).next((function(a){var o=i.Ln(t,a);return(iu(t)||au(t))&&i.Bn(t.limitType,o,r,n)?i.Mn(e,t):(Eo()<=dt.DEBUG&&To("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),pu(t)),i.On.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new ic(mu(e));return t.forEach((function(t,r){vu(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mn",value:function(e,t){return Eo()<=dt.DEBUG&&To("QueryEngine","Using full collection scan to execute query:",pu(t)),this.On.getDocumentsMatchingQuery(e,t,Xo.min())}}]),e}(),Kf=function(){function e(t,n,r,i){we(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new tc(Go),this.Kn=new Af((function(e){return Ms(e)}),Fs),this.jn=Xo.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new Hf(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.Fn(this.Wn)}return xe(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function Qf(e,t,n,r){return new Kf(e,t,n,r)}function Jf(e,t){return Xf.apply(this,arguments)}function Xf(){return Xf=de(ve().mark((function e(t,n){var r,i,a,o;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Do(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new Hf(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],s=dc(),u=fe(t);try{for(u.s();!(r=u.n()).done;){var c=r.value;i.push(c.batchId);var l,f=fe(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=fe(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=fe(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return a.vn(e,s).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.Fn(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),Xf.apply(this,arguments)}function $f(e,t){var n=Do(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Cl.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Po(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function Zf(e){var t=Do(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function eh(e,t){var n=Do(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(t,a){var s=i.get(a);if(s){o.push(n.He.removeMatchingKeys(e,t.removedDocuments,a).next((function(){return n.He.addMatchingKeys(e,t.addedDocuments,a)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(a,c),function(e,t,n){return Po(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,t)&&o.push(n.He.updateTargetData(e,c))}}}));var s=sc();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(th(e,a,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Xo.min())){var u=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return Cl.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,s)})).next((function(){return s}))})).then((function(e){return n.qn=i,e}))}function th(e,t,n,r,i){var a=dc();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=sc();return n.forEach((function(n,o){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(Xo.min())?(t.removeEntry(n,u),a=a.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o,u),a=a.insert(n,o)):To("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),a}))}function nh(e,t){var n=Do(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function rh(e,t){var n=Do(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,Cl.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new ql(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function ih(e,t,n){return ah.apply(this,arguments)}function ah(){return ah=de(ve().mark((function e(t,n,r){var i,a,o;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Do(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Ol(e.t1)){e.next=12;break}throw e.t1;case 12:To("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),ah.apply(this,arguments)}function oh(e,t,n){var r=Do(e),i=Xo.min(),a=dc();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Do(e),i=r.Kn.get(n);return void 0!==i?Cl.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,lu(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:Xo.min(),n?a:dc())})).next((function(e){return{documents:e,zn:a}}))}))}function sh(e,t){var n=Do(e),r=Do(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function uh(e){var t=Do(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Do(e),i=sc(),a=Yl(n),o=jf(t),s=IDBKeyRange.lowerBound(a,!0);return o.jt({index:ml.readTimeIndex,range:s},(function(e,t){var n=Wl(r.k,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{In:i,readTime:Gl(a)}}))}(t.Qn,e,t.jn)})).then((function(e){var n=e.In,r=e.readTime;return t.jn=r,n}))}function ch(e){return lh.apply(this,arguments)}function lh(){return lh=de(ve().mark((function e(t){var n;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Do(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=jf(e),n=Xo.min();return t.jt({index:ml.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Gl(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.jn=e})));case 2:case"end":return e.stop()}}),e)}))),lh.apply(this,arguments)}function fh(e,t,n,r){return hh.apply(this,arguments)}function hh(){return hh=de(ve().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Do(t),o=dc(),s=sc(),u=fc(),c=fe(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.Hn(f.metadata.name),f.document&&(o=o.add(h)),s=s.insert(h,n.Jn(f)),u=u.insert(h,n.Yn(f.metadata.readTime))}catch(v){c.e(v)}finally{c.f()}return d=a.Qn.newChangeBuffer({trackRemovals:!0}),e.next=7,rh(a,function(e){return lu(ru(ns.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return th(e,d,s,Xo.min(),u).next((function(t){return d.apply(e),t})).next((function(t){return a.He.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.He.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Wn.Vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),hh.apply(this,arguments)}function dh(e,t){return ph.apply(this,arguments)}function ph(){return ph=de(ve().mark((function e(t,n){var r,i,a,o=arguments;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:dc(),e.next=3,rh(t,lu(Zl(n.bundledQuery)));case 3:return i=e.sent,a=Do(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Pc(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ye.saveNamedQuery(e,n);var o=i.withResumeToken(os.EMPTY_BYTE_STRING,t);return a.qn=a.qn.insert(o.targetId,o),a.He.updateTargetData(e,o).next((function(){return a.He.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.He.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ye.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),ph.apply(this,arguments)}var vh=function(){function e(t){we(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return xe(e,[{key:"getBundleMetadata",value:function(e,t){return Cl.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:Pc(n.createTime)}),Cl.resolve()}},{key:"getNamedQuery",value:function(e,t){return Cl.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:Zl(e.bundledQuery),readTime:Pc(e.readTime)}}(t)),Cl.resolve()}}]),e}(),mh=function(){function e(){we(this,e),this.ts=new ic(yh.es),this.ns=new ic(yh.ss)}return xe(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new yh(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new yh(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new ys(new ns([])),r=new yh(n,e),i=new yh(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new ys(new ns([])),n=new yh(t,e),r=new yh(t,e+1),i=dc();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new yh(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),yh=function(){function e(t,n){we(this,e),this.key=t,this.fs=n}return xe(e,null,[{key:"es",value:function(e,t){return ys.comparator(e.key,t.key)||Go(e.fs,t.fs)}},{key:"ss",value:function(e,t){return Go(e.fs,t.fs)||ys.comparator(e.key,t.key)}}]),e}(),gh=function(){function e(t,n){we(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new ic(yh.es)}return xe(e,[{key:"checkEmpty",value:function(e){return Cl.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new Vl(i,t,n,r);this.An.push(a);var o,s=fe(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ws=this.ws.add(new yh(u.key,i)),this.Jt.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Cl.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Cl.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return Cl.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Cl.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return Cl.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new yh(t,0),i=new yh(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),Cl.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new ic(Go);return t.forEach((function(e){var t=new yh(e,0),i=new yh(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),Cl.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;ys.isDocumentKey(i)||(i=i.child(""));var a=new yh(new ys(i),0),o=new ic(Go);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),Cl.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Po(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return Cl.forEach(t.mutations,(function(i){var a=new yh(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new yh(t,0),r=this.ws.firstAfterOrEqual(n);return Cl.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,Cl.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),kh=function(){function e(t,n){we(this,e),this.Jt=t,this.Ts=n,this.docs=new tc(ys.comparator),this.size=0}return xe(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Cl.resolve(n?n.document.clone():Rs.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=sc();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Rs.newInvalidDocument(e))})),Cl.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=sc(),i=new ys(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||vu(t,c)&&(r=r.insert(c.key,c.clone()))}return Cl.resolve(r)}},{key:"Es",value:function(e,t){return Cl.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new wh(this)}},{key:"getSize",value:function(e){return Cl.resolve(this.size)}}]),e}(),wh=function(e){Ee(n,e);var t=Ae(n);function n(e){var r;return we(this,n),(r=t.call(this)).De=e,r}return xe(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),Cl.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(Pf),bh=function(){function e(t){we(this,e),this.persistence=t,this.Is=new Af((function(e){return Ms(e)}),Fs),this.lastRemoteSnapshotVersion=Xo.min(),this.highestTargetId=0,this.As=0,this.Rs=new mh,this.targetCount=0,this.Ps=yf.ie()}return xe(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),Cl.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Cl.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Cl.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ps.next(),Cl.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),Cl.resolve()}},{key:"ce",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ps=new yf(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ce(t),this.targetCount+=1,Cl.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ce(t),Cl.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Cl.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Cl.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Cl.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return Cl.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),Cl.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Cl.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),Cl.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return Cl.resolve(n)}},{key:"containsKey",value:function(e,t){return Cl.resolve(this.Rs.containsKey(t))}}]),e}(),xh=function(){function e(t,n){var r=this;we(this,e),this.bs={},this.Be=new Wo(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new bh(this),this.Jt=new rf,this.Je=function(e,t){return new kh(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new zl(n),this.Ye=new vh(this.k)}return xe(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.bs[e.toKey()];return t||(t=new gh(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;To("MemoryPersistence","Starting transaction:",e);var i=new _h(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return Cl.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),_h=function(e){Ee(n,e);var t=Ae(n);function n(e){var r;return we(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return xe(n)}(Il),Sh=function(){function e(t){we(this,e),this.persistence=t,this.Cs=new mh,this.Ns=null}return xe(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw Ao()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),Cl.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),Cl.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),Cl.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Cl.forEach(this.xs,(function(r){var i=ys.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return Cl.or([function(){return Cl.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();function Eh(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Th(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Ih(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Ch=function(){function e(t,n,r,i){we(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return xe(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Fs",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Ro(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Io("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Nh=function(){function e(t,n,r){we(this,e),this.targetId=t,this.state=n,this.error=r}return xe(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Fs",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ro(i.error.code,i.error.message))),a?new e(t,i.state,r):(Io("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Ah=function(){function e(t,n){we(this,e),this.clientId=t,this.activeTargetIds=n}return xe(e,null,[{key:"Fs",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=vc(),o=0;i&&o<r.activeTargetIds.length;++o)i=ms(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Io("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Ph=function(){function e(t,n){we(this,e),this.clientId=t,this.onlineState=n}return xe(e,null,[{key:"Fs",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Io("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Dh=function(){function e(){we(this,e),this.activeTargetIds=vc()}return xe(e,[{key:"Ms",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Os",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Oh=function(){function e(t,n,r,i,a){we(this,e),this.window=t,this.Oe=n,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new tc(Go),this.started=!1,this.js=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=Eh(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new Dh),this.Gs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Js=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}return xe(e,[{key:"start",value:function(){var e=de(ve().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Tn();case 2:t=e.sent,n=fe(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Bs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Eh(this.persistenceKey,i)))&&(o=Ah.Fs(i,a))&&(this.Ks=this.Ks.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Xs(),(s=this.storage.getItem(this.Js))&&(u=this.Zs(s))&&this.ti(u),c=fe(this.js);try{for(c.s();!(l=c.n()).done;)f=l.value,this.qs(f)}catch(d){c.e(d)}finally{c.f()}this.js=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ei(this.Ks)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ni(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ni(e,t,n),this.si(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Ih(this.persistenceKey,e));if(n){var r=Nh.Fs(e,n);r&&(t=r.state)}}return this.ii.Ms(e),this.Xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ii.Ls(e),this.Xs()}},{key:"isLocalQueryTarget",value:function(e){return this.ii.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Ih(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ri(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.si(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.oi(e)}},{key:"notifyBundleLoaded",value:function(){this.ai()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return To("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){To("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){To("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"qs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(To("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void Io("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable(de(ve().mark((function e(){var r,i,a,o,s,u;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ci(n.key),e.abrupt("return",t.ui(r,null));case 6:if(!(i=t.hi(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ui(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.zs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.li(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.fi(a));case 16:e.next=39;break;case 18:if(!t.Hs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.di(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.wi(o));case 23:e.next=39;break;case 25:if(n.key!==t.Js){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Zs(n.newValue))){e.next=30;break}return e.abrupt("return",t.ti(s));case 30:e.next=39;break;case 32:if(n.key!==t.Ws){e.next=37;break}u=function(e){var t=Wo.I;if(null!=e)try{var n=JSON.parse(e);Po("number"==typeof n),t=n}catch(e){Io("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==Wo.I&&t.sequenceNumberHandler(u),e.next=39;break;case 37:if(n.key!==t.Ys){e.next=39;break}return e.abrupt("return",t.syncEngine._i());case 39:e.next=42;break;case 41:t.js.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"ii",get:function(){return this.Ks.get(this.Bs)}},{key:"Xs",value:function(){this.setItem(this.Qs,this.ii.Os())}},{key:"ni",value:function(e,t,n){var r=new Ch(this.currentUser,e,t,n),i=Th(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}},{key:"si",value:function(e){var t=Th(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"oi",value:function(e){var t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}},{key:"ri",value:function(e,t,n){var r=Ih(this.persistenceKey,e),i=new Nh(e,t,n);this.setItem(r,i.Os())}},{key:"ai",value:function(){this.setItem(this.Ys,"value-not-used")}},{key:"ci",value:function(e){var t=this.Gs.exec(e);return t?t[1]:null}},{key:"hi",value:function(e,t){var n=this.ci(e);return Ah.Fs(n,t)}},{key:"li",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Ch.Fs(new xo(i),r,t)}},{key:"di",value:function(e,t){var n=this.Hs.exec(e),r=Number(n[1]);return Nh.Fs(r,t)}},{key:"Zs",value:function(e){return Ph.Fs(e)}},{key:"fi",value:function(){var e=de(ve().mark((function e(t){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.mi(t.batchId,t.state,t.error));case 2:To("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wi",value:function(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}},{key:"ui",value:function(e,t){var n=this,r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.yi(o,s).then((function(){n.Ks=r}))}},{key:"ti",value:function(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ei",value:function(e){var t=vc();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"bt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Rh=function(){function e(){we(this,e),this.pi=new Dh,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return xe(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new Dh,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),jh=function(){function e(){we(this,e)}return xe(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Lh=function(){function e(){var t=this;we(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.Pi()},this.bi=[],this.vi()}return xe(e,[{key:"Ei",value:function(e){this.bi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){To("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=fe(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Pi",value:function(){To("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=fe(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"bt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Mh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Fh=function(){function e(t){we(this,e),this.Vi=t.Vi,this.Si=t.Si}return xe(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Fi",value:function(e){this.ki(e)}},{key:"Oi",value:function(e){this.xi(e)}}]),e}(),Uh=function(e){Ee(n,e);var t=Ae(n);function n(e){var r;return we(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return xe(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new wo;o.listenOnce(vo.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case po.NO_ERROR:var t=o.getResponseJson();To("Connection","XHR received:",JSON.stringify(t)),i(t);break;case po.TIMEOUT:To("Connection",'RPC "'+e+'" timed out'),a(new Ro(Oo.DEADLINE_EXCEEDED,"Request time out"));break;case po.HTTP_ERROR:var n=o.getStatus();if(To("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Oo).indexOf(t)>=0?t:Oo.UNKNOWN}(r.status);a(new Ro(s,r.message))}else a(new Ro(Oo.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Ro(Oo.UNAVAILABLE,"Connection failed."));break;default:Ao()}}finally{To("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=fo(),a=ho(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new go({})),this.qi(o.initMessageHeaders,t,n),Be()||We()||Ve().indexOf("Electron/")>=0||He()||Ve().indexOf("MSAppHost/")>=0||ze()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");To("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new Fh({Vi:function(e){l?To("Connection","Not sending because WebChannel is closed:",e):(c||(To("Connection","Opening WebChannel transport."),u.open(),c=!0),To("Connection","WebChannel sending:",e),u.send(e))},Si:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,ko.EventType.OPEN,(function(){l||To("Connection","WebChannel transport opened.")})),h(u,ko.EventType.CLOSE,(function(){l||(l=!0,To("Connection","WebChannel transport closed"),f.Fi())})),h(u,ko.EventType.ERROR,(function(e){l||(l=!0,Co("Connection","WebChannel transport errored:",e),f.Fi(new Ro(Oo.UNAVAILABLE,"The operation could not be completed")))})),h(u,ko.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Po(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){To("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Ku[e];if(void 0!==t)return ec(t)}(a),s=i.message;void 0===o&&(o=Oo.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.Fi(new Ro(o,s)),u.close()}else To("Connection","WebChannel received:",n),f.Oi(n)}})),h(a,mo.STAT_EVENT,(function(e){e.stat===yo.PROXY?To("Connection","Detected buffering proxy"):e.stat===yo.NOPROXY&&To("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){we(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Mi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return xe(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);To("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return To("RestConnection","Received: ",e),e}),(function(t){throw Co("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+_o,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=Mh[e];return"".concat(this.Mi,"/v1/").concat(t,":").concat(n)}}]),e}());function Vh(){return"undefined"!=typeof window?window:null}function Bh(){return"undefined"!=typeof document?document:null}function qh(e){return new Ic(e,!0)}var zh=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;we(this,e),this.Oe=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return xe(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&To("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),Wh=function(){function e(t,n,r,i,a,o,s,u){we(this,e),this.Oe=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new zh(t,n)}return xe(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=de(ve().mark((function e(){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=de(ve().mark((function e(){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"pr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"close",value:function(){var e=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===Oo.RESOURCE_EXHAUSTED?(Io(n.toString()),Io("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===Oo.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.rr===n&&e.Ir(i,a)}),(function(n){t((function(){var t=new Ro(Oo.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.cr=n.Oe.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(de(ve().mark((function t(){return ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return To("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Oe.enqueueAndForget((function(){return t.rr===e?n():(To("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Hh=function(e){Ee(n,e);var t=Ae(n);function n(e,r,i,a,o,s){var u;return we(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).k=o,u}return xe(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ao()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(Po(void 0===t||"string"==typeof t),os.fromBase64String(t||"")):(Po(void 0===t||t instanceof Uint8Array),os.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Oo.UNKNOWN:ec(e.code);return new Ro(t,e.message||"")}(o);n=new wc(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=jc(e,u.document.name),l=Pc(u.document.updateTime),f=new Ds({mapValue:{fields:u.document.fields}}),h=Rs.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new gc(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=jc(e,v.document),y=v.readTime?Pc(v.readTime):Xo.min(),g=Rs.newNoDocument(m,y),k=v.removedTargetIds||[];n=new gc([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var b=jc(e,w.document),x=w.removedTargetIds||[];n=new gc([],x,b,null)}else{if(!("filter"in t))return Ao();t.filter;var _=t.filter;_.targetId;var S=_.count||0,E=new $u(S),T=_.targetId;n=new kc(T,E)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return Xo.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Xo.min():t.readTime?Pc(t.readTime):Xo.min()}(e);return this.listener.Pr(t,n)}},{key:"br",value:function(e){var t={};t.database=Fc(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=Us(r)?{documents:Hc(e,r)}:{query:Yc(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Nc(e,t.resumeToken):t.snapshotVersion.compareTo(Xo.min())>0&&(n.readTime=Cc(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ao()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=Fc(this.k),t.removeTarget=e,this.gr(t)}}]),n}(Wh),Yh=function(e){Ee(n,e);var t=Ae(n);function n(e,r,i,a,o,s){var u;return we(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).k=o,u.Vr=!1,u}return xe(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,on(Te(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(Po(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(Po(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Pc(e.updateTime):Pc(t);return n.isEqual(Xo.min())&&(n=Pc(t)),new Ru(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Pc(e.commitTime);return this.listener.Cr(n,t)}return Po(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=Fc(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return zc(t.k,e)}))};this.gr(n)}}]),n}(Wh),Gh=function(e){Ee(n,e);var t=Ae(n);function n(e,r,i,a){var o;return we(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return xe(n,[{key:"Fr",value:function(){if(this.$r)throw new Ro(Oo.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],s=a[1];return r.ir.Bi(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Oo.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Ro(Oo.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],s=a[1];return r.ir.ji(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Oo.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Ro(Oo.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return xe((function e(){we(this,e)}))}()),Kh=function(){function e(t,n){we(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}return xe(e,[{key:"Br",value:function(){var e=this;0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Mr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(Io(t),this.Lr=!1):To("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}]),e}(),Qh=xe((function e(t,n,r,i,a){var o=this;we(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(de(ve().mark((function e(){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=od(o),!e.t0){e.next=5;break}return To("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=de(ve().mark((function e(t){var n;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Do(t)).Gr.add(4),e.next=4,$h(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,Jh(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new Kh(r,i)}));function Jh(e){return Xh.apply(this,arguments)}function Xh(){return Xh=de(ve().mark((function e(t){var n,r,i;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!od(t)){e.next=18;break}n=fe(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Xh.apply(this,arguments)}function $h(e){return Zh.apply(this,arguments)}function Zh(){return Zh=de(ve().mark((function e(t){var n,r,i;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=fe(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Zh.apply(this,arguments)}function ed(e,t){var n=Do(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),ad(n)?id(n):Od(n).lr()&&nd(n,t))}function td(e,t){var n=Do(e),r=Od(n);n.Wr.delete(t),r.lr()&&rd(n,t),0===n.Wr.size&&(r.lr()?r._r():od(n)&&n.Jr.set("Unknown"))}function nd(e,t){e.Yr.X(t.targetId),Od(e).br(t)}function rd(e,t){e.Yr.X(t),Od(e).vr(t)}function id(e){e.Yr=new xc({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),Od(e).start(),e.Jr.Br()}function ad(e){return od(e)&&!Od(e).hr()&&e.Wr.size>0}function od(e){return 0===Do(e).Gr.size}function sd(e){e.Yr=void 0}function ud(e){return cd.apply(this,arguments)}function cd(){return cd=de(ve().mark((function e(t){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){nd(t,e)}));case 1:case"end":return e.stop()}}),e)}))),cd.apply(this,arguments)}function ld(e,t){return fd.apply(this,arguments)}function fd(){return fd=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sd(t),ad(t)?(t.Jr.Kr(n),id(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),fd.apply(this,arguments)}function hd(e,t,n){return dd.apply(this,arguments)}function dd(){return dd=de(ve().mark((function e(t,n,r){var i;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof wc&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=de(ve().mark((function e(t,n){var r,i,a,o;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=fe(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),To("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,pd(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof gc?t.Yr.ot(n):n instanceof kc?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(Xo.min())){e.next=29;break}return e.prev=14,e.next=17,Zf(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(os.EMPTY_BYTE_STRING,n.snapshotVersion)),rd(e,t);var r=new ql(n.target,t,1,n.sequenceNumber);nd(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),To("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,pd(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),dd.apply(this,arguments)}function pd(e,t,n){return vd.apply(this,arguments)}function vd(){return vd=de(ve().mark((function e(t,n,r){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ol(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,$h(t);case 5:t.Jr.set("Offline"),r||(r=function(){return Zf(t.localStore)}),t.asyncQueue.enqueueRetryable(de(ve().mark((function e(){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return To("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,Jh(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),vd.apply(this,arguments)}function md(e,t){return t().catch((function(n){return pd(e,n,t)}))}function yd(e){return gd.apply(this,arguments)}function gd(){return gd=de(ve().mark((function e(t){var n,r,i,a;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Do(t),r=Rd(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!kd(n)){e.next=19;break}return e.prev=3,e.next=6,nh(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,wd(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,pd(n,e.t0);case 17:e.next=2;break;case 19:bd(n)&&xd(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),gd.apply(this,arguments)}function kd(e){return od(e)&&e.Qr.length<10}function wd(e,t){e.Qr.push(t);var n=Rd(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function bd(e){return od(e)&&!Rd(e).hr()&&e.Qr.length>0}function xd(e){Rd(e).start()}function _d(e){return Sd.apply(this,arguments)}function Sd(){return Sd=de(ve().mark((function e(t){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Rd(t).kr();case 1:case"end":return e.stop()}}),e)}))),Sd.apply(this,arguments)}function Ed(e){return Td.apply(this,arguments)}function Td(){return Td=de(ve().mark((function e(t){var n,r,i,a;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Rd(t),r=fe(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Td.apply(this,arguments)}function Id(e,t,n){return Cd.apply(this,arguments)}function Cd(){return Cd=de(ve().mark((function e(t,n,r){var i,a;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=Bl.from(i,n,r),e.next=3,md(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,yd(t);case 5:case"end":return e.stop()}}),e)}))),Cd.apply(this,arguments)}function Nd(e,t){return Ad.apply(this,arguments)}function Ad(){return Ad=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Rd(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=de(ve().mark((function e(t,n){var r,i;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Zu(i=n.code)||i===Oo.ABORTED){e.next=7;break}return r=t.Qr.shift(),Rd(t).wr(),e.next=5,md(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,yd(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:bd(t)&&xd(t);case 5:case"end":return e.stop()}}),e)}))),Ad.apply(this,arguments)}function Pd(e,t){return Dd.apply(this,arguments)}function Dd(){return Dd=de(ve().mark((function e(t,n){var r;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Do(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,Jh(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,$h(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Dd.apply(this,arguments)}function Od(e){return e.Xr||(e.Xr=function(e,t,n){var r=Do(e);return r.Fr(),new Hh(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:ud.bind(null,e),Ni:ld.bind(null,e),Pr:hd.bind(null,e)}),e.zr.push(function(){var t=de(ve().mark((function t(n){return ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),ad(e)?id(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:sd(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function Rd(e){return e.Zr||(e.Zr=function(e,t,n){var r=Do(e);return r.Fr(),new Yh(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:_d.bind(null,e),Ni:Nd.bind(null,e),Nr:Ed.bind(null,e),Cr:Id.bind(null,e)}),e.zr.push(function(){var t=de(ve().mark((function t(n){return ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,yd(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(To("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var jd=function(){function e(t,n,r,i,a){we(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new jo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return xe(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ro(Oo.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Ld(e,t){if(Io("AsyncQueue","".concat(t,": ").concat(e)),Ol(e))return new Ro(Oo.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Md=function(){function e(t){we(this,e),this.comparator=t?function(e,n){return t(e,n)||ys.comparator(e.key,n.key)}:function(e,t){return ys.comparator(e.key,t.key)},this.keyedMap=cc(),this.sortedSet=new tc(this.comparator)}return xe(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Fd=function(){function e(){we(this,e),this.eo=new tc(ys.comparator)}return xe(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):Ao():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Ud=function(){function e(t,n,r,i,a,o,s,u){we(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return xe(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Md.emptySet(n),a,r,i,!0,!1)}}]),e}(),Vd=xe((function e(){we(this,e),this.so=void 0,this.listeners=[]})),Bd=xe((function e(){we(this,e),this.queries=new Af((function(e){return du(e)}),hu),this.onlineState="Unknown",this.io=new Set}));function qd(e,t){return zd.apply(this,arguments)}function zd(){return zd=de(ve().mark((function e(t,n){var r,i,a,o,s;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Do(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Vd),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Ld(e.t0,"Initialization of query '".concat(pu(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&Kd(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),zd.apply(this,arguments)}function Wd(e,t){return Hd.apply(this,arguments)}function Hd(){return Hd=de(ve().mark((function e(t,n){var r,i,a,o,s;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Do(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Hd.apply(this,arguments)}function Yd(e,t){var n,r=Do(e),i=!1,a=fe(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=fe(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.so=o}}}catch(f){a.e(f)}finally{a.f()}i&&Kd(r)}function Gd(e,t,n){var r=Do(e),i=r.queries.get(t);if(i){var a,o=fe(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Kd(e){e.io.forEach((function(e){e.next()}))}var Qd=function(){function e(t,n,r){we(this,e),this.query=t,this.ao=n,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return xe(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=fe(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Ud(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.co?this.ho(e)&&(this.ao.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.ao.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=Ud.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}]),e}(),Jd=function(){function e(t,n){we(this,e),this.payload=t,this.byteLength=n}return xe(e,[{key:"_o",value:function(){return"metadata"in this.payload}}]),e}(),Xd=function(){function e(t){we(this,e),this.k=t}return xe(e,[{key:"Hn",value:function(e){return jc(this.k,e)}},{key:"Jn",value:function(e){return e.metadata.exists?Bc(this.k,e.document,!1):Rs.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}},{key:"Yn",value:function(e){return Pc(e)}}]),e}(),$d=function(){function e(t,n,r){we(this,e),this.mo=t,this.localStore=n,this.k=r,this.queries=[],this.documents=[],this.progress=Zd(t)}return xe(e,[{key:"yo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"po",value:function(e){var t,n=new Map,r=new Xd(this.k),i=fe(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Hn(a.metadata.name),u=fe(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||dc()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=de(ve().mark((function e(){var t,n,r,i,a;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fh(this.localStore,new Xd(this.k),this.documents,this.mo.id);case 2:t=e.sent,n=this.po(this.documents),r=fe(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,dh(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new Wf(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Zd(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var ep=xe((function e(t){we(this,e),this.key=t})),tp=xe((function e(t){we(this,e),this.key=t})),np=function(){function e(t,n){we(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=dc(),this.mutatedKeys=dc(),this.Ao=mu(t),this.Ro=new Md(this.Ao)}return xe(e,[{key:"Po",get:function(){return this.To}},{key:"bo",value:function(e,t){var n=this,r=t?t.vo:new Fd,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=iu(this.query)&&i.size===this.query.limit?i.last():null,c=au(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=vu(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Ao(f,u)>0||c&&n.Ao(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),iu(this.query)||au(this.query))for(;o.size>this.query.limit;){var l=iu(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:s,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ao()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],s=0===this.Io.size&&this.current?1:0,u=s!==this.Eo;return this.Eo=s,0!==a.length||u?{snapshot:new Ud(this.query,e.Ro,i,a,e.mutatedKeys,0===s,u,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new Fd,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=dc(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new tp(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new ep(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=dc();var t=this.bo(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return Ud.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),rp=xe((function e(t,n,r){we(this,e),this.query=t,this.targetId=n,this.view=r})),ip=xe((function e(t){we(this,e),this.key=t,this.$o=!1})),ap=function(){function e(t,n,r,i,a,o){we(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Fo={},this.Oo=new Af((function(e){return du(e)}),hu),this.Mo=new Map,this.Lo=new Set,this.Bo=new tc(ys.comparator),this.Uo=new Map,this.qo=new mh,this.Ko={},this.jo=new Map,this.Qo=yf.re(),this.onlineState="Unknown",this.Wo=void 0}return xe(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function op(e,t){return sp.apply(this,arguments)}function sp(){return sp=de(ve().mark((function e(t,n){var r,i,a,o,s,u;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Zp(t),!(o=r.Oo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,rh(r.localStore,lu(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,up(r,n,i,"current"===u);case 13:a=e.sent,r.isPrimaryClient&&ed(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),sp.apply(this,arguments)}function up(e,t,n,r){return cp.apply(this,arguments)}function cp(){return cp=de(ve().mark((function e(t,n,r,i){var a,o,s,u,c,l;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=de(ve().mark((function e(t,n,r,i){var a,o,s;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.bo(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,oh(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.bo(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Np(t,n.targetId,s.Co),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,oh(t.localStore,n,!0);case 3:return a=e.sent,o=new np(n,a.zn),s=o.bo(a.documents),u=yc.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),Np(t,r,c.Co),l=new rp(n,r,o),e.abrupt("return",(t.Oo.set(n,l),t.Mo.has(r)?t.Mo.get(r).push(n):t.Mo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),cp.apply(this,arguments)}function lp(e,t){return fp.apply(this,arguments)}function fp(){return fp=de(ve().mark((function e(t,n){var r,i,a;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Do(t),i=r.Oo.get(n),!((a=r.Mo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Mo.set(i.targetId,a.filter((function(e){return!hu(e,n)}))),void r.Oo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,ih(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),td(r.remoteStore,i.targetId),Ip(r,i.targetId)})).catch(xf);case 9:e.next=14;break;case 11:return Ip(r,i.targetId),e.next=14,ih(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),fp.apply(this,arguments)}function hp(e,t,n){return dp.apply(this,arguments)}function dp(){return dp=de(ve().mark((function e(t,n,r){var i,a,o;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ev(t),e.prev=1,e.next=4,function(e,t){var n,r=Do(e),i=Jo.now(),a=t.reduce((function(e,t){return e.add(t.key)}),dc());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,s=[],u=fe(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=Vu(c,n.get(c.key));null!=l&&s.push(new Wu(c.key,l,Os(l.value.mapValue),ju.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.An.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new tc(Go)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Dp(i,a.changes);case 9:return e.next=11,yd(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Ld(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),dp.apply(this,arguments)}function pp(e,t){return vp.apply(this,arguments)}function vp(){return vp=de(ve().mark((function e(t,n){var r,i;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Do(t),e.prev=1,e.next=4,eh(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(Po(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?Po(n.$o):e.removedDocuments.size>0&&(Po(n.$o),n.$o=!1))})),e.next=8,Dp(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,xf(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),vp.apply(this,arguments)}function mp(e,t,n){var r=Do(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Oo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Do(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=fe(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Kd(n)}(r.eventManager,t),i.length&&r.Fo.Pr(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function yp(e,t,n){return gp.apply(this,arguments)}function gp(){return gp=de(ve().mark((function e(t,n,r){var i,a,o,s,u,c;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Do(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new tc(ys.comparator)).insert(o,Rs.newNoDocument(o,Xo.min())),u=dc().add(o),c=new mc(Xo.min(),new Map,new ic(Go),s,u),e.next=9,pp(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),Pp(i),e.next=16;break;case 14:return e.next=16,ih(i.localStore,n,!1).then((function(){return Ip(i,n,r)})).catch(xf);case 16:case"end":return e.stop()}}),e)}))),gp.apply(this,arguments)}function kp(e,t){return wp.apply(this,arguments)}function wp(){return wp=de(ve().mark((function e(t,n){var r,i,a;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Do(t),i=n.batch.batchId,e.prev=1,e.next=4,$f(r.localStore,n);case 4:return a=e.sent,Tp(r,i,null),Ep(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Dp(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,xf(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),wp.apply(this,arguments)}function bp(e,t,n){return xp.apply(this,arguments)}function xp(){return xp=de(ve().mark((function e(t,n,r){var i,a;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Do(t),e.prev=1,e.next=4,function(e,t){var n=Do(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return Po(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Tp(i,n,r),Ep(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Dp(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,xf(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),xp.apply(this,arguments)}function _p(e,t){return Sp.apply(this,arguments)}function Sp(){return Sp=de(ve().mark((function e(t,n){var r,i,a,o;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return od((r=Do(t)).remoteStore)||To("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Do(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.An.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.jo.get(i)||[]).push(n),r.jo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Ld(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Sp.apply(this,arguments)}function Ep(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function Tp(e,t,n){var r=Do(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function Ip(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=fe(e.Mo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Oo.delete(a),n&&e.Fo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Mo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||Cp(e,t)}))}function Cp(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(td(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),Pp(e))}function Np(e,t,n){var r,i=fe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof ep?(e.qo.addReference(a.key,t),Ap(e,a)):a instanceof tp?(To("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||Cp(e,a.key)):Ao()}}catch(o){i.e(o)}finally{i.f()}}function Ap(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(To("SyncEngine","New document in limbo: "+n),e.Lo.add(r),Pp(e))}function Pp(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new ys(ns.fromString(t)),r=e.Qo.next();e.Uo.set(r,new ip(n)),e.Bo=e.Bo.insert(n,r),ed(e.remoteStore,new ql(lu(ru(n.path)),r,2,Wo.I))}}function Dp(e,t,n){return Op.apply(this,arguments)}function Op(){return Op=de(ve().mark((function e(t,n,r){var i,a,o,s;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Do(t),a=[],o=[],s=[],e.t0=i.Oo.isEmpty(),e.t0){e.next=9;break}return i.Oo.forEach((function(e,t){s.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Yf.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Fo.Pr(a),e.next=9,function(){var e=de(ve().mark((function e(t,n){var r,i,a,o,s,u,c,l;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Do(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Cl.forEach(n,(function(t){return Cl.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Cl.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Ol(e.t0)){e.next=10;break}throw e.t0;case 10:To("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=fe(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Op.apply(this,arguments)}function Rp(e,t){return jp.apply(this,arguments)}function jp(){return jp=de(ve().mark((function e(t,n){var r,i;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Do(t)).currentUser.isEqual(n)){e.next=11;break}return To("SyncEngine","User change. New user:",n.toKey()),e.next=5,Jf(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new Ro(Oo.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Dp(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),jp.apply(this,arguments)}function Lp(e,t){var n=Do(e),r=n.Uo.get(t);if(r&&r.$o)return dc().add(r.key);var i=dc(),a=n.Mo.get(t);if(!a)return i;var o,s=fe(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.Oo.get(u);i=i.unionWith(c.view.Po)}}catch(l){s.e(l)}finally{s.f()}return i}function Mp(e,t){return Fp.apply(this,arguments)}function Fp(){return Fp=de(ve().mark((function e(t,n){var r,i,a;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Do(t),e.next=3,oh(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ko(i),e.abrupt("return",(r.isPrimaryClient&&Np(r,n.targetId,a.Co),a));case 6:case"end":return e.stop()}}),e)}))),Fp.apply(this,arguments)}function Up(e){return Vp.apply(this,arguments)}function Vp(){return Vp=de(ve().mark((function e(t){var n;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Do(t),e.abrupt("return",uh(n.localStore).then((function(e){return Dp(n,e)})));case 2:case"end":return e.stop()}}),e)}))),Vp.apply(this,arguments)}function Bp(e,t,n,r){return qp.apply(this,arguments)}function qp(){return qp=de(ve().mark((function e(t,n,r,i){var a,o;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Do(t),e.next=3,function(e,t){var n=Do(e),r=Do(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Zt(e,t).next((function(t){return t?n.Wn.vn(e,t):Cl.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,yd(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Tp(a,n,i||null),Ep(a,n),function(e,t){Do(Do(e).An).ee(t)}(a.localStore,n)):Ao();case 11:return e.next=13,Dp(a,o);case 13:e.next=16;break;case 15:To("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),qp.apply(this,arguments)}function zp(e,t){return Wp.apply(this,arguments)}function Wp(){return Wp=de(ve().mark((function e(t,n){var r,i,a,o,s,u,c,l;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Zp(r=Do(t)),ev(r),!0!==n||!0===r.Wo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Hp(r,i.toArray());case 5:return a=e.sent,r.Wo=!0,e.next=9,Pd(r.remoteStore,!0);case 9:o=fe(a);try{for(o.s();!(s=o.n()).done;)u=s.value,ed(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Wo){e.next=25;break}return c=[],l=Promise.resolve(),r.Mo.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Ip(r,t),ih(r.localStore,t,!0)})),td(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Hp(r,c);case 21:return function(e){var t=Do(e);t.Uo.forEach((function(e,n){td(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new tc(ys.comparator)}(r),r.Wo=!1,e.next=25,Pd(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Wp.apply(this,arguments)}function Hp(e,t,n){return Yp.apply(this,arguments)}function Yp(){return Yp=de(ve().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,y;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Do(t),a=[],o=[],s=fe(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.Mo.get(c))||0===f.length){e.next=34;break}return e.next=11,rh(i.localStore,lu(f[0]));case 11:l=e.sent,h=fe(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Oo.get(p),e.next=20,Mp(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,sh(i.localStore,c);case 36:return y=e.sent,e.next=39,rh(i.localStore,y);case 39:return l=e.sent,e.next=42,up(i,Gp(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Fo.Pr(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Yp.apply(this,arguments)}function Gp(e){return nu(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Kp(e){var t=Do(e);return Do(Do(t.localStore).persistence).Tn()}function Qp(e,t,n,r){return Jp.apply(this,arguments)}function Jp(){return Jp=de(ve().mark((function e(t,n,r,i){var a,o,s;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Do(t)).Wo){e.next=5;break}To("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Mo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,uh(a.localStore);case 11:return o=e.sent,s=mc.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,Dp(a,o,s);case 15:return e.abrupt("break",21);case 16:return e.next=18,ih(a.localStore,n,!0);case 18:return Ip(a,n,i),e.abrupt("break",21);case 20:Ao();case 21:case"end":return e.stop()}}),e)}))),Jp.apply(this,arguments)}function Xp(e,t,n){return $p.apply(this,arguments)}function $p(){return $p=de(ve().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Zp(t)).Wo){e.next=45;break}a=fe(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.Mo.has(s)){e.next=10;break}return To("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,sh(i.localStore,s);case 12:return u=e.sent,e.next=15,rh(i.localStore,u);case 15:return c=e.sent,e.next=18,up(i,Gp(u),c.targetId,!1);case 18:ed(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=fe(r),e.prev=30,h=ve().mark((function e(){var t;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Mo.has(t),!e.t0){e.next=5;break}return e.next=5,ih(i.localStore,t,!1).then((function(){td(i.remoteStore,t),Ip(i,t)})).catch(xf);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),$p.apply(this,arguments)}function Zp(e){var t=Do(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=pp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=yp.bind(null,t),t.Fo.Pr=Yd.bind(null,t.eventManager),t.Fo.zo=Gd.bind(null,t.eventManager),t}function ev(e){var t=Do(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=bp.bind(null,t),t}function tv(e,t,n){var r=Do(e);(function(){var e=de(ve().mark((function e(t,n,r){var i,a,o,s,u;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Do(e),r=Pc(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ye.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(Zd(i)),a=new $d(i,t.localStore,n.k),e.next=14,n.Ho();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.yo(o);case 18:return(s=e.sent)&&r._updateProgress(s),e.next=22,n.Ho();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return u=e.sent,e.next=30,Dp(t,u.In,void 0);case 30:return e.next=32,function(e,t){var n=Do(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ye.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(u.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),Co("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var nv=function(){function e(){we(this,e),this.synchronizeTabs=!1}return xe(e,[{key:"initialize",value:function(){var e=de(ve().mark((function e(t){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=qh(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return Qf(this.persistence,new Gf,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new xh(Sh.ks,this.k)}},{key:"Jo",value:function(e){return new Rh}},{key:"terminate",value:function(){var e=de(ve().mark((function e(){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),rv=function(e){Ee(n,e);var t=Ae(n);function n(e,r,i){var a;return we(this,n),(a=t.call(this)).ta=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return xe(n,[{key:"initialize",value:function(){var e=de(ve().mark((function e(t){var r=this;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on(Te(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,ch(this.localStore);case 4:return e.next=6,this.ta.initialize(this,t);case 6:return e.next=8,ev(this.ta.syncEngine);case 8:return e.next=10,yd(this.ta.remoteStore);case 10:return e.next=12,this.persistence.sn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Zo",value:function(e){return Qf(this.persistence,new Gf,e.initialUser,this.k)}},{key:"Xo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Tf(t,e.asyncQueue)}},{key:"Yo",value:function(e){var t=zf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?cf.withCacheSize(this.cacheSizeBytes):cf.DEFAULT;return new Vf(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Vh(),Bh(),this.k,this.sharedClientState,!!this.forceOwnership)}},{key:"Jo",value:function(e){return new Rh}}]),n}(nv),iv=function(e){Ee(n,e);var t=Ae(n);function n(e,r){var i;return we(this,n),(i=t.call(this,e,r,!1)).ta=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return xe(n,[{key:"initialize",value:function(){var e=de(ve().mark((function e(t){var r,i=this;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on(Te(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ta.syncEngine,e.t0=this.sharedClientState instanceof Oh,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={mi:Bp.bind(null,r),gi:Qp.bind(null,r),yi:Xp.bind(null,r),Tn:Kp.bind(null,r),_i:Up.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.sn(function(){var e=de(ve().mark((function e(t){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zp(i.ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Jo",value:function(e){var t=Vh();if(!Oh.bt(t))throw new Ro(Oo.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=zf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Oh(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(rv),av=function(){function e(){we(this,e)}return xe(e,[{key:"initialize",value:function(){var e=de(ve().mark((function e(t,n){var r=this;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return mp(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Rp.bind(null,this.syncEngine),e.next=12,Pd(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Bd}},{key:"createDatastore",value:function(e){var t,n=qh(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Uh(t));return function(e,t,n,r){return new Gh(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return mp(o.syncEngine,e,0)},a=Lh.bt()?new Lh:new jh,new Qh(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new ap(e,t,n,r,i,a);return o&&(s.Wo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=de(ve().mark((function e(t){var n;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Do(t),To("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,$h(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function ov(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return de(ve().mark((function r(){var i;return ve().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return de(ve().mark((function e(){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var sv=function(){function e(t){we(this,e),this.observer=t,this.muted=!1}return xe(e,[{key:"next",value:function(e){this.observer.next&&this.ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"na",value:function(){this.muted=!0}},{key:"ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),uv=function(){function e(t,n){var r=this;we(this,e),this.sa=t,this.k=n,this.metadata=new jo,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then((function(e){e&&e._o()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return xe(e,[{key:"close",value:function(){return this.sa.cancel()}},{key:"getMetadata",value:function(){var e=de(ve().mark((function e(){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){var e=de(ve().mark((function e(){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.ra());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ra",value:function(){var e=de(ve().mark((function e(){var t,n,r,i;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.oa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ia.decode(t),r=Number(n),isNaN(r)&&this.aa("length string (".concat(n,") is not valid number")),e.next=9,this.ca(r);case 9:return i=e.sent,e.abrupt("return",new Jd(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ua",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"oa",value:function(){var e=de(ve().mark((function e(){var t,n;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.ua()<0)){e.next=7;break}return e.next=3,this.ha();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.ua())<0&&this.aa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ca",value:function(){var e=de(ve().mark((function e(t){var n;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.ha();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.aa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ia.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"aa",value:function(e){throw this.sa.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"ha",value:function(){var e=de(ve().mark((function e(){var t,n;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sa.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),cv=function(){function e(t){we(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return xe(e,[{key:"lookup",value:function(){var e=de(ve().mark((function e(t){var n,r=this;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Ro(Oo.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=de(ve().mark((function e(t,n){var r,i,a,o,s,u;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Do(t),i=Fc(r.k)+"/documents",a={documents:n.map((function(e){return Rc(r.k,e)}))},e.next=5,r.ji("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=qc(r.k,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());Po(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Ju(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=de(ve().mark((function e(){var t,n=this;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=ys.fromPath(t);n.mutations.push(new Xu(r,n.precondition(r)))})),e.next=7,function(){var e=de(ve().mark((function e(t,n){var r,i,a;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Do(t),i=Fc(r.k)+"/documents",a={writes:n.map((function(e){return zc(r.k,e)}))},e.next=3,r.Bi("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ao();t=Xo.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Ro(Oo.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?ju.updateTime(t):ju.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Xo.min()))throw new Ro(Oo.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ju.updateTime(t)}return ju.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),lv=function(){function e(t,n,r,i){we(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.la=5,this.ur=new zh(this.asyncQueue,"transaction_retry")}return xe(e,[{key:"run",value:function(){this.la-=1,this.fa()}},{key:"fa",value:function(){var e=this;this.ur.Zi(de(ve().mark((function t(){var n,r;return ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new cv(e.datastore),(r=e.da(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.wa(t)}))}))})).catch((function(t){e.wa(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"da",value:function(e){try{var t=this.updateFunction(e);return!ps(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"wa",value:function(e){var t=this;this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget((function(){return t.fa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"_a",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Zu(t)}return!1}}]),e}(),fv=function(){function e(t,n,r,i){var a=this;we(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xo.UNAUTHENTICATED,this.clientId=Yo.A(),this.authCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=de(ve().mark((function e(t){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return To("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(){return Promise.resolve()}))}return xe(e,[{key:"getConfiguration",value:function(){var e=de(ve().mark((function e(){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Ro(Oo.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new jo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(de(ve().mark((function n(){var r;return ve().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Ld(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function hv(e,t){return dv.apply(this,arguments)}function dv(){return dv=de(ve().mark((function e(t,n){var r,i;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),To("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=de(ve().mark((function e(t){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Jf(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),dv.apply(this,arguments)}function pv(e,t){return vv.apply(this,arguments)}function vv(){return vv=de(ve().mark((function e(t,n){var r,i;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,mv(t);case 3:return r=e.sent,To("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return function(){var e=de(ve().mark((function e(t,n){var r,i;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Do(t)).asyncQueue.verifyOperationInProgress(),To("RemoteStore","RemoteStore received new credentials"),i=od(r),r.Gr.add(3),e.next=6,$h(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,Jh(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n.remoteStore,e)})),t.onlineComponents=n;case 12:case"end":return e.stop()}}),e)}))),vv.apply(this,arguments)}function mv(e){return yv.apply(this,arguments)}function yv(){return yv=de(ve().mark((function e(t){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return To("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,hv(t,new nv);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),yv.apply(this,arguments)}function gv(e){return kv.apply(this,arguments)}function kv(){return kv=de(ve().mark((function e(t){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return To("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,pv(t,new av);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),kv.apply(this,arguments)}function wv(e){return mv(e).then((function(e){return e.persistence}))}function bv(e){return mv(e).then((function(e){return e.localStore}))}function xv(e){return gv(e).then((function(e){return e.remoteStore}))}function _v(e){return gv(e).then((function(e){return e.syncEngine}))}function Sv(e){return Ev.apply(this,arguments)}function Ev(){return Ev=de(ve().mark((function e(t){var n,r;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gv(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=op.bind(null,n.syncEngine),r.onUnlisten=lp.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Ev.apply(this,arguments)}function Tv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new jo;return e.asyncQueue.enqueueAndForget(de(ve().mark((function i(){return ve().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new sv({next:function(a){t.enqueueAndForget((function(){return Wd(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Ro(Oo.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Ro(Oo.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Qd(ru(n.path),a,{includeMetadataChanges:!0,wo:!0});return qd(e,o)},i.next=3,Sv(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Iv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new jo;return e.asyncQueue.enqueueAndForget(de(ve().mark((function i(){return ve().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new sv({next:function(n){t.enqueueAndForget((function(){return Wd(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Ro(Oo.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Qd(n,a,{includeMetadataChanges:!0,wo:!0});return qd(e,o)},i.next=3,Sv(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Cv=xe((function e(t,n,r,i,a,o,s,u){we(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Nv=function(){function e(t,n){we(this,e),this.projectId=t,this.database=n||"(default)"}return xe(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),Av=new Map;function Pv(e,t,n){if(!n)throw new Ro(Oo.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Dv(e,t,n,r){if(!0===t&&!0===r)throw new Ro(Oo.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Ov(e){if(!ys.isDocumentKey(e))throw new Ro(Oo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Rv(e){if(ys.isDocumentKey(e))throw new Ro(Oo.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function jv(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Ao()}function Lv(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ro(Oo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=jv(e);throw new Ro(Oo.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Mv(e,t){if(t<=0)throw new Ro(Oo.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Fv=function(){function e(t){var n;if(we(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Ro(Oo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ro(Oo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Dv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return xe(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Uv=function(){function e(t,n,r){we(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fv({}),this._settingsFrozen=!1,t instanceof Nv?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ro(Oo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nv(e.options.projectId)}(t))}return xe(e,[{key:"app",get:function(){if(!this._app)throw new Ro(Oo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Ro(Oo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fv(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Mo;switch(e.type){case"gapi":var t=e.client;return Po(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Bo(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ro(Oo.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Av.get(e);t&&(To("ComponentProvider","Removing Datastore"),Av.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Vv(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Lv(e,Uv))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Co("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=xo.MOCK_USER;else{o=Ue(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Ro(Oo.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new xo(u)}e._authCredentials=new Fo(new Lo(o,s))}}var Bv=function(){function e(t,n,r){we(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return xe(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new zv(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),qv=function(){function e(t,n,r){we(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return xe(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),zv=function(e){Ee(n,e);var t=Ae(n);function n(e,r,i){var a;return we(this,n),(a=t.call(this,e,r,ru(i)))._path=i,a.type="collection",a}return xe(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Bv(this.firestore,null,new ys(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(qv);function Wv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ot(e),Pv("collection","path",t),e instanceof Uv){var a=ns.fromString.apply(ns,[t].concat(r));return Rv(a),new zv(e,null,a)}if(!(e instanceof Bv||e instanceof zv))throw new Ro(Oo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ns.fromString.apply(ns,[t].concat(r)));return Rv(o),new zv(e.firestore,null,o)}function Hv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ot(e),1===arguments.length&&(t=Yo.A()),Pv("doc","path",t),e instanceof Uv){var a=ns.fromString.apply(ns,[t].concat(r));return Ov(a),new Bv(e,null,new ys(a))}if(!(e instanceof Bv||e instanceof zv))throw new Ro(Oo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ns.fromString.apply(ns,[t].concat(r)));return Ov(o),new Bv(e.firestore,e instanceof zv?e.converter:null,new ys(o))}function Yv(e,t){return e=ot(e),t=ot(t),(e instanceof Bv||e instanceof zv)&&(t instanceof Bv||t instanceof zv)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Gv(e,t){return e=ot(e),t=ot(t),e instanceof qv&&t instanceof qv&&e.firestore===t.firestore&&hu(e._query,t._query)&&e.converter===t.converter}var Kv=function(){function e(){var t=this;we(this,e),this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new zh(this,"async_queue_retry"),this.Ra=function(){var e=Bh();e&&To("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=Bh();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ra)}return xe(e,[{key:"isShuttingDown",get:function(){return this.ya}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pa(),this.ba(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;var t=Bh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pa(),this.ya)return new Promise((function(){}));var n=new jo;return this.ba((function(){return t.ya&&t.Ia?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ga.push(e),t.va()}))}},{key:"va",value:function(){var e=de(ve().mark((function e(){var t=this;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ga.length){e.next=14;break}return e.prev=1,e.next=4,this.ga[0]();case 4:this.ga.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Ol(e.t0)){e.next=12;break}throw e.t0;case 12:To("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ga.length>0&&this.ur.Zi((function(){return t.va()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(e){var t=this,n=this.ma.then((function(){return t.Ea=!0,e().catch((function(e){t.Ta=e,t.Ea=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Io("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ea=!1,e}))}));return this.ma=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);var i=jd.createAndSchedule(this,e,t,n,(function(e){return r.Va(e)}));return this.pa.push(i),i}},{key:"Pa",value:function(){this.Ta&&Ao()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Sa",value:function(){var e=de(ve().mark((function e(){var t;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ma,e.next=3,t;case 3:if(t!==this.ma){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(e){var t,n=fe(this.pa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ca",value:function(e){var t=this;return this.Sa().then((function(){t.pa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=fe(t.pa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Sa()}))}},{key:"Na",value:function(e){this.Aa.push(e)}},{key:"Va",value:function(e){var t=this.pa.indexOf(e);this.pa.splice(t,1)}}]),e}();function Qv(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=fe(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Jv=function(){function e(){we(this,e),this._progressObserver={},this._taskCompletionResolver=new jo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return xe(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Xv=function(e){Ee(n,e);var t=Ae(n);function n(e,r,i){var a;return we(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new Kv,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return xe(n,[{key:"_terminate",value:function(){return this._firestoreClient||Zv(this),this._firestoreClient.terminate()}}]),n}(Uv);function $v(e){return e._firestoreClient||Zv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Zv(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Cv(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new fv(e._authCredentials,e._appCheckCredentials,e._queue,r)}function em(e,t,n){var r=new jo;return e.asyncQueue.enqueue(de(ve().mark((function i(){return ve().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,hv(e,n);case 3:return i.next=5,pv(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Oo.FAILED_PRECONDITION||e.code===Oo.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function tm(e){return function(e){return e.asyncQueue.enqueue(de(ve().mark((function t(){var n,r;return ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wv(e);case 2:return n=t.sent,t.next=5,xv(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Do(e);return t.Gr.delete(0),Jh(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}($v(e=Lv(e,Xv)))}function nm(e){return function(e){return e.asyncQueue.enqueue(de(ve().mark((function t(){var n,r;return ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wv(e);case 2:return n=t.sent,t.next=5,xv(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=de(ve().mark((function e(t){var n;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Do(t)).Gr.add(0),e.next=4,$h(n);case 4:n.Jr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}($v(e=Lv(e,Xv)))}function rm(e,t){var n=$v(e=Lv(e,Xv)),r=new Jv;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new uv(e,t)}(function(e,t){if(e instanceof Uint8Array)return ov(e,t);if(e instanceof ArrayBuffer)return ov(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,qh(t));e.asyncQueue.enqueueAndForget(de(ve().mark((function t(){return ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=tv,t.next=3,_v(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function im(e,t){return function(e,t){return e.asyncQueue.enqueue(de(ve().mark((function n(){return ve().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Do(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ye.getNamedQuery(e,t)}))},n.next=3,bv(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}($v(e=Lv(e,Xv)),t).then((function(t){return t?new qv(e,null,t.query):null}))}function am(e){if(e._initialized||e._terminated)throw new Ro(Oo.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var om=function(){function e(){we(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Ro(Oo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new is(n)}return xe(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var sm=function(){function e(t){we(this,e),this._byteString=t}return xe(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(os.fromBase64String(t))}catch(t){throw new Ro(Oo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(os.fromUint8Array(t))}}]),e}(),um=xe((function e(t){we(this,e),this._methodName=t})),cm=function(){function e(t,n){if(we(this,e),!isFinite(t)||t<-90||t>90)throw new Ro(Oo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ro(Oo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return xe(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Go(this._lat,e._lat)||Go(this._long,e._long)}}]),e}(),lm=/^__.*__$/,fm=function(){function e(t,n,r){we(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return xe(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Wu(e,this.data,this.fieldMask,t,this.fieldTransforms):new zu(e,this.data,t,this.fieldTransforms)}}]),e}(),hm=function(){function e(t,n,r){we(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return xe(e,[{key:"toMutation",value:function(e,t){return new Wu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function dm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ao()}}var pm=function(){function e(t,n,r,i,a,o){we(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ka(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return xe(e,[{key:"path",get:function(){return this.settings.path}},{key:"xa",get:function(){return this.settings.xa}},{key:"$a",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Fa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.Ma(e),r}},{key:"La",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.ka(),r}},{key:"Ba",value:function(e){return this.$a({path:void 0,Oa:!0})}},{key:"Ua",value:function(e){return Rm(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ka",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}},{key:"Ma",value:function(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(dm(this.xa)&&lm.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}]),e}(),vm=function(){function e(t,n,r){we(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||qh(t)}return xe(e,[{key:"ja",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new pm({xa:e,methodName:t,Ka:n,path:is.emptyPath(),Oa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function mm(e){var t=e._freezeSettings(),n=qh(e._databaseId);return new vm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ym(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ja(a.merge||a.mergeFields?2:0,t,n,i);Am("Data must be an object, but it was:",o,r);var s,u,c=Cm(r,o);if(a.merge)s=new as(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=fe(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=Pm(t,d,n);if(!o.contains(p))throw new Ro(Oo.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));jm(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new as(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new fm(new Ds(c),s,u)}var gm=function(e){Ee(n,e);var t=Ae(n);function n(){return we(this,n),t.apply(this,arguments)}return xe(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.xa)throw 1===e.xa?e.Ua("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ua("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(um);function km(e,t,n){return new pm({xa:3,Ka:t.settings.Ka,methodName:e._methodName,Oa:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var wm=function(e){Ee(n,e);var t=Ae(n);function n(){return we(this,n),t.apply(this,arguments)}return xe(n,[{key:"_toFieldTransform",value:function(e){return new Ou(e.path,new Eu)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(um),bm=function(e){Ee(n,e);var t=Ae(n);function n(e,r){var i;return we(this,n),(i=t.call(this,e)).Qa=r,i}return xe(n,[{key:"_toFieldTransform",value:function(e){var t=km(this,e,!0),n=this.Qa.map((function(e){return Im(e,t)})),r=new Tu(n);return new Ou(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(um),xm=function(e){Ee(n,e);var t=Ae(n);function n(e,r){var i;return we(this,n),(i=t.call(this,e)).Qa=r,i}return xe(n,[{key:"_toFieldTransform",value:function(e){var t=km(this,e,!0),n=this.Qa.map((function(e){return Im(e,t)})),r=new Cu(n);return new Ou(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(um),_m=function(e){Ee(n,e);var t=Ae(n);function n(e,r){var i;return we(this,n),(i=t.call(this,e)).Wa=r,i}return xe(n,[{key:"_toFieldTransform",value:function(e){var t=new Au(e.k,wu(e.k,this.Wa));return new Ou(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(um);function Sm(e,t,n,r){var i=e.ja(1,t,n);Am("Data must be an object, but it was:",i,r);var a=[],o=Ds.empty();Zo(r,(function(e,r){var s=Om(t,e,n);r=ot(r);var u=i.La(s);if(r instanceof gm)a.push(s);else{var c=Im(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new as(a);return new hm(o,s,i.fieldTransforms)}function Em(e,t,n,r,i,a){var o=e.ja(1,t,n),s=[Pm(t,r,n)],u=[i];if(a.length%2!=0)throw new Ro(Oo.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(Pm(t,a[c])),u.push(a[c+1]);for(var l=[],f=Ds.empty(),h=s.length-1;h>=0;--h)if(!jm(l,s[h])){var d=s[h],p=u[h];p=ot(p);var v=o.La(d);if(p instanceof gm)l.push(d);else{var m=Im(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new as(l);return new hm(f,y,o.fieldTransforms)}function Tm(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Im(n,e.ja(r?4:3,t))}function Im(e,t){if(Nm(e=ot(e)))return Am("Unsupported field value:",t,e),Cm(e,t);if(e instanceof um)return function(e,t){if(!dm(t.xa))throw t.Ua("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ua("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=fe(e);try{for(a.s();!(n=a.n()).done;){var o=Im(n.value,t.Ba(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ot(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return wu(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Jo.fromDate(e);return{timestampValue:Cc(t.k,n)}}if(e instanceof Jo){var r=new Jo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Cc(t.k,r)}}if(e instanceof cm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof sm)return{bytesValue:Nc(t.k,e._byteString)};if(e instanceof Bv){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ua("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Dc(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ua("Unsupported field value: ".concat(jv(e)))}(e,t)}function Cm(e,t){var n={};return es(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zo(e,(function(e,r){var i=Im(r,t.Fa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Nm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Jo||e instanceof cm||e instanceof sm||e instanceof Bv||e instanceof um)}function Am(e,t,n){if(!Nm(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=jv(n);throw"an object"===r?t.Ua(e+" a custom object"):t.Ua(e+" "+r)}}function Pm(e,t,n){if((t=ot(t))instanceof om)return t._internalPath;if("string"==typeof t)return Om(e,t);throw Rm("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Dm=new RegExp("[~\\*/\\[\\]]");function Om(e,t,n){if(t.search(Dm)>=0)throw Rm("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Pe(om,ut(t.split(".")))._internalPath}catch(r){throw Rm("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Rm(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Ro(Oo.INVALID_ARGUMENT,s+e+u)}function jm(e,t){return e.some((function(e){return e.isEqual(t)}))}var Lm=function(){function e(t,n,r,i,a){we(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return xe(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Bv(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Mm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Fm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Mm=function(e){Ee(n,e);var t=Ae(n);function n(){return we(this,n),t.apply(this,arguments)}return xe(n,[{key:"data",value:function(){return on(Te(n.prototype),"data",this).call(this)}}]),n}(Lm);function Fm(e,t){return"string"==typeof t?Om(e,t):t instanceof om?t._internalPath:t._delegate._internalPath}var Um=function(){function e(t,n){we(this,e),this.hasPendingWrites=t,this.fromCache=n}return xe(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Vm=function(e){Ee(n,e);var t=Ae(n);function n(e,r,i,a,o,s){var u;return we(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return xe(n,[{key:"exists",value:function(){return on(Te(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Bm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Fm("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Lm),Bm=function(e){Ee(n,e);var t=Ae(n);function n(){return we(this,n),t.apply(this,arguments)}return xe(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return on(Te(n.prototype),"data",this).call(this,e)}}]),n}(Vm),qm=function(){function e(t,n,r,i){we(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Um(i.hasPendingWrites,i.fromCache),this.query=r}return xe(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Bm(n._firestore,n._userDataWriter,r.key,r,new Um(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ro(Oo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Bm(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Um(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Bm(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Um(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:zm(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function zm(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ao()}}function Wm(e,t){return e instanceof Vm&&t instanceof Vm?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof qm&&t instanceof qm&&e._firestore===t._firestore&&Gv(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Hm(e){if(au(e)&&0===e.explicitOrderBy.length)throw new Ro(Oo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ym=xe((function e(){we(this,e)}));function Gm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var Km=function(e){Ee(n,e);var t=Ae(n);function n(e,r,i){var a;return we(this,n),(a=t.call(this)).Ga=e,a.za=r,a.Ha=i,a.type="where",a}return xe(n,[{key:"_apply",value:function(e){var t=mm(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Ro(Oo.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on FieldPath.documentId()."));if("in"===a||"not-in"===a){ay(o,a);var u,c=[],l=fe(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(iy(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=iy(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||ay(o,a),s=Tm(n,"where",o,"in"===a||"not-in"===a);var h=Vs.create(i,a,s);return function(e,t){if(t.V()){var n=su(e);if(null!==n&&!n.isEqual(t.field))throw new Ro(Oo.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=ou(e);null!==r&&oy(e,t.field,r)}var i=function(e,t){var n,r=fe(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Ro(Oo.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Ro(Oo.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new qv(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new tu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(Ym);var Qm=function(e){Ee(n,e);var t=Ae(n);function n(e,r){var i;return we(this,n),(i=t.call(this)).Ga=e,i.Ja=r,i.type="orderBy",i}return xe(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Ro(Oo.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ro(Oo.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Xs(t,n);return function(e,t){if(null===ou(e)){var n=su(e);null!==n&&oy(e,n,t.field)}}(e,r),r}(e._query,this.Ga,this.Ja);return new qv(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new tu(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(Ym);var Jm=function(e){Ee(n,e);var t=Ae(n);function n(e,r,i){var a;return we(this,n),(a=t.call(this)).type=e,a.Ya=r,a.Xa=i,a}return xe(n,[{key:"_apply",value:function(e){return new qv(e.firestore,e.converter,fu(e._query,this.Ya,this.Xa))}}]),n}(Ym);var Xm=function(e){Ee(n,e);var t=Ae(n);function n(e,r,i){var a;return we(this,n),(a=t.call(this)).type=e,a.Za=r,a.tc=i,a}return xe(n,[{key:"_apply",value:function(e){var t=ry(e,this.type,this.Za,this.tc);return new qv(e.firestore,e.converter,function(e,t){return new tu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(Ym);function $m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Xm("startAt",t,!0)}function Zm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Xm("startAfter",t,!1)}var ey=function(e){Ee(n,e);var t=Ae(n);function n(e,r,i){var a;return we(this,n),(a=t.call(this)).type=e,a.Za=r,a.tc=i,a}return xe(n,[{key:"_apply",value:function(e){var t=ry(e,this.type,this.Za,this.tc);return new qv(e.firestore,e.converter,function(e,t){return new tu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(Ym);function ty(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ey("endBefore",t,!0)}function ny(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ey("endAt",t,!1)}function ry(e,t,n,r){if(n[0]=ot(n[0]),n[0]instanceof Lm)return function(e,t,n,r,i){if(!r)throw new Ro(Oo.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=fe(cu(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(Es(t,r.key));else{var c=r.data.field(u.field);if(fs(c))throw new Ro(Oo.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Ro(Oo.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new Qs(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=mm(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Ro(Oo.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Ro(Oo.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!uu(e)&&-1!==c.indexOf("/"))throw new Ro(Oo.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(ns.fromString(c));if(!ys.isDocumentKey(l))throw new Ro(Oo.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new ys(l);s.push(Es(t,f))}else{var h=Tm(n,r,c);s.push(h)}}return new Qs(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function iy(e,t,n){if("string"==typeof(n=ot(n))){if(""===n)throw new Ro(Oo.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!uu(t)&&-1!==n.indexOf("/"))throw new Ro(Oo.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(ns.fromString(n));if(!ys.isDocumentKey(r))throw new Ro(Oo.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Es(e,new ys(r))}if(n instanceof Bv)return Es(e,n._key);throw new Ro(Oo.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(jv(n),"."))}function ay(e,t){if(!Array.isArray(e)||0===e.length)throw new Ro(Oo.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Ro(Oo.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function oy(e,t,n){if(!n.isEqual(t))throw new Ro(Oo.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var sy=function(){function e(){we(this,e)}return xe(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ao()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Zo(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new cm(cs(e.latitude),cs(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=hs(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ds(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=us(e);return new Jo(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=ns.fromString(e);Po(il(n));var r=new Nv(n.get(1),n.get(3)),i=new ys(n.popFirst(5));return r.isEqual(t)||Io("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function uy(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var cy=function(e){Ee(n,e);var t=Ae(n);function n(e){var r;return we(this,n),(r=t.call(this)).firestore=e,r}return xe(n,[{key:"convertBytes",value:function(e){return new sm(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bv(this.firestore,null,t)}}]),n}(sy),ly=function(){function e(t,n){we(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=mm(t)}return xe(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=fy(e,this._firestore),i=uy(r.converter,t,n),a=ym(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,ju.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=fy(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=ot(t))||t instanceof om?Em(this._dataReader,"WriteBatch.update",i._key,t,n,o):Sm(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,ju.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=fy(e,this._firestore);return this._mutations=this._mutations.concat(new Ju(t._key,ju.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Ro(Oo.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function fy(e,t){if((e=ot(e)).firestore!==t)throw new Ro(Oo.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var hy=function(e){Ee(n,e);var t=Ae(n);function n(e){var r;return we(this,n),(r=t.call(this)).firestore=e,r}return xe(n,[{key:"convertBytes",value:function(e){return new sm(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bv(this.firestore,null,t)}}]),n}(sy);function dy(e){e=Lv(e,Bv);var t=Lv(e.firestore,Xv),n=$v(t),r=new hy(t);return function(e,t){var n=new jo;return e.asyncQueue.enqueueAndForget(de(ve().mark((function r(){return ve().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=de(ve().mark((function e(t,n,r){var i,a;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Do(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Wn.Rn(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Ro(Oo.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Ld(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,bv(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Vm(t,r,e._key,n,new Um(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function py(e){e=Lv(e,qv);var t=Lv(e.firestore,Xv),n=$v(t),r=new hy(t);return function(e,t){var n=new jo;return e.asyncQueue.enqueueAndForget(de(ve().mark((function r(){return ve().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=de(ve().mark((function e(t,n,r){var i,a,o,s,u;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oh(t,n,!0);case 3:i=e.sent,a=new np(n,i.zn),o=a.bo(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=Ld(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,bv(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new qm(t,r,e,n)}))}function vy(e,t,n){e=Lv(e,Bv);var r=Lv(e.firestore,Xv),i=uy(e.converter,t,n);return ky(r,[ym(mm(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ju.none())])}function my(e,t,n){e=Lv(e,Bv);for(var r=Lv(e.firestore,Xv),i=mm(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return ky(r,[("string"==typeof(t=ot(t))||t instanceof om?Em(i,"updateDoc",e._key,t,n,o):Sm(i,"updateDoc",e._key,t)).toMutation(e._key,ju.exists(!0))])}function yy(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=ot(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||Qv(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(Qv(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Bv)l=Lv(e.firestore,Xv),f=ru(e._key.path),c={next:function(t){n[u]&&n[u](wy(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=Lv(e,qv);l=Lv(p.firestore,Xv),f=p._query;var v=new hy(l);c={next:function(e){n[u]&&n[u](new qm(l,v,p,e))},error:n[u+1],complete:n[u+2]},Hm(e._query)}return function(e,t,n,r){var i=new sv(r),a=new Qd(t,i,n);return e.asyncQueue.enqueueAndForget(de(ve().mark((function t(){return ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=qd,t.next=3,Sv(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.na(),e.asyncQueue.enqueueAndForget(de(ve().mark((function t(){return ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Wd,t.next=3,Sv(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}($v(l),f,h,c)}function gy(e,t){return function(e,t){var n=new sv(t);return e.asyncQueue.enqueueAndForget(de(ve().mark((function t(){return ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Do(e).io.add(t),t.next()},t.next=3,Sv(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.na(),e.asyncQueue.enqueueAndForget(de(ve().mark((function t(){return ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Do(e).io.delete(t)},t.next=3,Sv(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}($v(e=Lv(e,Xv)),Qv(t)?t:{next:t})}function ky(e,t){return function(e,t){var n=new jo;return e.asyncQueue.enqueueAndForget(de(ve().mark((function r(){return ve().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=hp,r.next=3,_v(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}($v(e),t)}function wy(e,t,n){var r=n.docs.get(t._key),i=new hy(e);return new Vm(e,i,t._key,r,new Um(n.hasPendingWrites,n.fromCache),t.converter)}var by=function(e){Ee(n,e);var t=Ae(n);function n(e,r){var i;return we(this,n),(i=t.call(this,e,r))._firestore=e,i}return xe(n,[{key:"get",value:function(e){var t=this,r=fy(e,this._firestore),i=new hy(this._firestore);return on(Te(n.prototype),"get",this).call(this,e).then((function(e){return new Vm(t._firestore,i,r._key,e._document,new Um(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){we(this,e),this._firestore=t,this._transaction=n,this._dataReader=mm(t)}return xe(e,[{key:"get",value:function(e){var t=this,n=fy(e,this._firestore),r=new cy(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Ao();var i=e[0];if(i.isFoundDocument())return new Lm(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Lm(t._firestore,r,n._key,null,n.converter);throw Ao()}))}},{key:"set",value:function(e,t,n){var r=fy(e,this._firestore),i=uy(r.converter,t,n),a=ym(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=fy(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=ot(t))||t instanceof om?Em(this._dataReader,"Transaction.update",i._key,t,n,o):Sm(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=fy(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function xy(e,t){return function(e,t){var n=new jo;return e.asyncQueue.enqueueAndForget(de(ve().mark((function r(){var i;return ve().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return gv(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new lv(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}($v(e=Lv(e,Xv)),(function(n){return t(new by(e,n))}))}function _y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new bm("arrayUnion",t)}function Sy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new xm("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){_o=e}(qt),Ot(new ct("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Xv(i,new Uo(e.getProvider("auth-internal")),new zo(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Kt(bo,"3.4.1",e),Kt(bo,"3.4.1","esm2017")}();function Ey(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ro("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Ty(){if("undefined"===typeof Uint8Array)throw new Ro("unimplemented","Uint8Arrays are not available in this environment.")}function Iy(){if("undefined"==typeof atob)throw new Ro("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Cy=function(){function e(t){we(this,e),this._delegate=t}return xe(e,[{key:"toBase64",value:function(){return Iy(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Ty(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Iy(),new e(sm.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Ty(),new e(sm.fromUint8Array(t))}}]),e}();function Ny(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=fe(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var Ay=function(){function e(){we(this,e)}return xe(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){am(e=Lv(e,Xv));var n=$v(e),r=e._freezeSettings(),i=new av;return em(n,i,new rv(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){am(e=Lv(e,Xv));var t=$v(e),n=e._freezeSettings(),r=new av;return em(t,r,new iv(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Ro(Oo.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new jo;return e._queue.enqueueAndForgetEvenWhileRestricted(de(ve().mark((function n(){return ve().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=de(ve().mark((function e(t){var n;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Al.bt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Al.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(zf(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),Py=function(){function e(t,n,r){var i=this;we(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Nv||(this._appCompat=t)}return xe(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Co("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Vv(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return tm(this._delegate)}},{key:"disableNetwork",value:function(){return nm(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Dv("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new jo;return e.asyncQueue.enqueueAndForget(de(ve().mark((function n(){return ve().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=_p,n.next=3,_v(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}($v(e=Lv(e,Xv)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return gy(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Ro("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new Hy(this,Wv(this._delegate,e))}catch(t){throw My(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new Ly(this,Hv(this._delegate,e))}catch(t){throw My(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new qy(this,function(e,t){if(e=Lv(e,Uv),Pv("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ro(Oo.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new qv(e,null,function(e){return new tu(ns.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw My(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return xy(this._delegate,(function(n){return e(new Oy(t,n))}))}},{key:"batch",value:function(){var e=this;return $v(this._delegate),new Ry(new ly(this._delegate,(function(t){return ky(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return rm(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return im(this._delegate,e).then((function(e){return e?new qy(t,e):null}))}}]),e}(),Dy=function(e){Ee(n,e);var t=Ae(n);function n(e){var r;return we(this,n),(r=t.call(this)).firestore=e,r}return xe(n,[{key:"convertBytes",value:function(e){return new Cy(new sm(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Ly.forKey(t,this.firestore,null)}}]),n}(sy);var Oy=function(){function e(t,n){we(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Dy(t)}return xe(e,[{key:"get",value:function(e){var t=this,n=Yy(e);return this._delegate.get(n).then((function(e){return new Vy(t._firestore,new Vm(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=Yy(e);return n?(Ey("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=Yy(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Yy(e);return this._delegate.delete(t),this}}]),e}(),Ry=function(){function e(t){we(this,e),this._delegate=t}return xe(e,[{key:"set",value:function(e,t,n){var r=Yy(e);return n?(Ey("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=Yy(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Yy(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),jy=function(){function e(t,n,r){we(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return xe(e,[{key:"fromFirestore",value:function(e,t){var n=new Bm(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new By(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Dy(t),n),i.set(n,a)),a}}]),e}();jy.INSTANCES=new WeakMap;var Ly=function(){function e(t,n){we(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Dy(t)}return xe(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new Hy(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new Hy(this.firestore,Wv(this._delegate,e))}catch(t){throw My(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=ot(e))instanceof Bv&&Yv(this._delegate,e)}},{key:"set",value:function(e,t){t=Ey("DocumentReference.set",t);try{return t?vy(this._delegate,e,t):vy(this._delegate,e)}catch(n){throw My(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?my(this._delegate,e):my.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw My(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return ky(Lv(e.firestore,Xv),[new Ju(e._key,ju.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Fy(n),a=Uy(n,(function(t){return new Vy(e.firestore,new Vm(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return yy(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?dy(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Lv(e,Bv);var t=Lv(e.firestore,Xv);return Tv($v(t),e._key,{source:"server"}).then((function(n){return wy(t,e,n)}))}(this._delegate):function(e){e=Lv(e,Bv);var t=Lv(e.firestore,Xv);return Tv($v(t),e._key).then((function(n){return wy(t,e,n)}))}(this._delegate),t.then((function(e){return new Vy(n.firestore,new Vm(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(jy.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Ro("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Bv(n._delegate,r,new ys(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Bv(n._delegate,r,t))}}]),e}();function My(e,t,n){return e.message=e.message.replace(t,n),e}function Fy(e){var t,n=fe(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!Ny(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function Uy(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Ny(e[0])?e[0]:Ny(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Vy=function(){function e(t,n){we(this,e),this._firestore=t,this._delegate=n}return xe(e,[{key:"ref",get:function(){return new Ly(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Wm(this._delegate,e._delegate)}}]),e}(),By=function(e){Ee(n,e);var t=Ae(n);function n(){return we(this,n),t.apply(this,arguments)}return xe(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Ao()}(void 0!==t),t}}]),n}(Vy),qy=function(){function e(t,n){we(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Dy(t)}return xe(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Gm(this._delegate,function(e,t,n){var r=t,i=Fm("where",e);return new Km(i,r,n)}(t,n,r)))}catch(i){throw My(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Gm(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Fm("orderBy",e);return new Qm(n,t)}(t,n)))}catch(r){throw My(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Gm(this._delegate,function(e){return Mv("limit",e),new Jm("limit",e,"F")}(t)))}catch(n){throw My(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Gm(this._delegate,function(e){return Mv("limitToLast",e),new Jm("limitToLast",e,"L")}(t)))}catch(n){throw My(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Gm(this._delegate,$m.apply(void 0,arguments)))}catch(t){throw My(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Gm(this._delegate,Zm.apply(void 0,arguments)))}catch(t){throw My(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Gm(this._delegate,ty.apply(void 0,arguments)))}catch(t){throw My(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Gm(this._delegate,ny.apply(void 0,arguments)))}catch(t){throw My(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Gv(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?py(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Lv(e,qv);var t=Lv(e.firestore,Xv),n=$v(t),r=new hy(t);return Iv(n,e._query,{source:"server"}).then((function(n){return new qm(t,r,e,n)}))}(this._delegate):function(e){e=Lv(e,qv);var t=Lv(e.firestore,Xv),n=$v(t),r=new hy(t);return Hm(e._query),Iv(n,e._query).then((function(n){return new qm(t,r,e,n)}))}(this._delegate),t.then((function(e){return new Wy(n.firestore,new qm(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Fy(n),a=Uy(n,(function(t){return new Wy(e.firestore,new qm(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return yy(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(jy.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),zy=function(){function e(t,n){we(this,e),this._firestore=t,this._delegate=n}return xe(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new By(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),Wy=function(){function e(t,n){we(this,e),this._firestore=t,this._delegate=n}return xe(e,[{key:"query",get:function(){return new qy(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new By(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new zy(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new By(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Wm(this._delegate,e._delegate)}}]),e}(),Hy=function(e){Ee(n,e);var t=Ae(n);function n(e,r){var i;return we(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return xe(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new Ly(this.firestore,e):null}},{key:"doc",value:function(e){try{return new Ly(this.firestore,void 0===e?Hv(this._delegate):Hv(this._delegate,e))}catch(t){throw My(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Lv(e.firestore,Xv),r=Hv(e),i=uy(e.converter,t);return ky(n,[ym(mm(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ju.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Ly(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Yv(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(jy.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(qy);function Yy(e){return Lv(e,Bv)}var Gy=function(){function e(){we(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Pe(om,n)}return xe(e,[{key:"isEqual",value:function(e){return(e=ot(e))instanceof om&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(is.keyField().canonicalString())}}]),e}(),Ky=function(){function e(t){we(this,e),this._delegate=t}return xe(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new wm("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new gm("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=_y.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Sy.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new _m("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),Qy={Firestore:Py,GeoPoint:cm,Timestamp:Jo,Blob:Cy,Transaction:Oy,WriteBatch:Ry,DocumentReference:Ly,DocumentSnapshot:Vy,Query:qy,QueryDocumentSnapshot:By,QuerySnapshot:Wy,CollectionReference:Hy,FieldPath:Gy,FieldValue:Ky,setLogLevel:function(e){!function(e){So.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new ct("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Qy)))}(e,(function(e,t){return new Py(e,t,new Ay)})),e.registerVersion("@firebase/firestore-compat","0.1.10")}(rn);function Jy(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Xy;Object.create;var $y="facebook.com",Zy="github.com",eg="google.com",tg="password",ng="twitter.com",rg="EMAIL_SIGNIN",ig="PASSWORD_RESET",ag="RECOVER_EMAIL",og="REVERT_SECOND_FACTOR_ADDITION",sg="VERIFY_AND_CHANGE_EMAIL",ug="VERIFY_EMAIL";function cg(){return ue({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var lg=function(){var e;return ue(e={},"admin-restricted-operation","This operation is restricted to administrators only."),ue(e,"argument-error",""),ue(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),ue(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),ue(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),ue(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),ue(e,"cordova-not-ready","Cordova framework is not ready."),ue(e,"cors-unsupported","This browser is not supported."),ue(e,"credential-already-in-use","This credential is already associated with a different user account."),ue(e,"custom-token-mismatch","The custom token corresponds to a different audience."),ue(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),ue(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),ue(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),ue(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),ue(e,"email-already-in-use","The email address is already in use by another account."),ue(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),ue(e,"expired-action-code","The action code has expired."),ue(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),ue(e,"internal-error","An internal AuthError has occurred."),ue(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),ue(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),ue(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),ue(e,"invalid-auth-event","An internal AuthError has occurred."),ue(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),ue(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),ue(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),ue(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),ue(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),ue(e,"invalid-email","The email address is badly formatted."),ue(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),ue(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),ue(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),ue(e,"invalid-credential","The supplied auth credential is malformed or has expired."),ue(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),ue(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),ue(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),ue(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),ue(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),ue(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),ue(e,"wrong-password","The password is invalid or the user does not have a password."),ue(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),ue(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),ue(e,"invalid-provider-id","The specified provider ID is invalid."),ue(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),ue(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),ue(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),ue(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),ue(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),ue(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),ue(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),ue(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),ue(e,"missing-continue-uri","A continue URL must be provided in the request."),ue(e,"missing-iframe-start","An internal AuthError has occurred."),ue(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),ue(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),ue(e,"missing-multi-factor-info","No second factor identifier is provided."),ue(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),ue(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),ue(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),ue(e,"app-deleted","This instance of FirebaseApp has been deleted."),ue(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),ue(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),ue(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),ue(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),ue(e,"no-auth-event","An internal AuthError has occurred."),ue(e,"no-such-provider","User was not linked to an account with the given provider."),ue(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),ue(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),ue(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),ue(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),ue(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),ue(e,"provider-already-linked","User can only be linked to one identity for the given provider."),ue(e,"quota-exceeded","The project's quota for this operation has been exceeded."),ue(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),ue(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),ue(e,"rejected-credential","The request contains malformed or mismatching credentials."),ue(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),ue(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),ue(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),ue(e,"timeout","The operation has timed out."),ue(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),ue(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),ue(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),ue(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),ue(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),ue(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),ue(e,"unverified-email","The operation requires a verified email."),ue(e,"user-cancelled","The user did not grant your application the permissions it requested."),ue(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),ue(e,"user-disabled","The user account has been disabled by an administrator."),ue(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),ue(e,"user-signed-out",""),ue(e,"weak-password","The password must be 6 characters long or more."),ue(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),ue(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},fg=cg,hg=new Ke("auth","Firebase",cg()),dg=new xt("@firebase/auth");function pg(e){if(dg.logLevel<=dt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];dg.error.apply(dg,["Auth (".concat(qt,"): ").concat(e)].concat(n))}}function vg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw kg.apply(void 0,[e].concat(n))}function mg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return kg.apply(void 0,[e].concat(n))}function yg(e,t,n){var r=Object.assign(Object.assign({},fg()),ue({},t,n));return new Ke("auth","Firebase",r).create(t,{appName:e.name})}function gg(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&vg(e,"argument-error"),yg(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function kg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=ut(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(ut(o)))}return hg.create.apply(hg,[e].concat(n))}function wg(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw kg.apply(void 0,[t].concat(r))}}function bg(e){var t="INTERNAL ASSERTION FAILED: "+e;throw pg(t),new Error(t)}function xg(e,t){e||bg(t)}var _g=new Map;function Sg(e){xg(e instanceof Function,"Expected a class definition");var t=_g.get(e);return t?(xg(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,_g.set(e,t),t)}function Eg(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Tg(){return"http:"===Ig()||"https:"===Ig()}function Ig(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Cg=function(){function e(t,n){we(this,e),this.shortDelay=t,this.longDelay=n,xg(n>t,"Short delay should be less than long delay!"),this.isMobile=Be()||We()}return xe(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Tg()||ze()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Ng(e,t){xg(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Ag=function(){function e(){we(this,e)}return xe(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void bg("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void bg("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void bg("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Pg=(ue(Xy={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),ue(Xy,"MISSING_CUSTOM_TOKEN","internal-error"),ue(Xy,"INVALID_IDENTIFIER","invalid-email"),ue(Xy,"MISSING_CONTINUE_URI","internal-error"),ue(Xy,"INVALID_PASSWORD","wrong-password"),ue(Xy,"MISSING_PASSWORD","internal-error"),ue(Xy,"EMAIL_EXISTS","email-already-in-use"),ue(Xy,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),ue(Xy,"INVALID_IDP_RESPONSE","invalid-credential"),ue(Xy,"INVALID_PENDING_TOKEN","invalid-credential"),ue(Xy,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),ue(Xy,"MISSING_REQ_TYPE","internal-error"),ue(Xy,"EMAIL_NOT_FOUND","user-not-found"),ue(Xy,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),ue(Xy,"EXPIRED_OOB_CODE","expired-action-code"),ue(Xy,"INVALID_OOB_CODE","invalid-action-code"),ue(Xy,"MISSING_OOB_CODE","internal-error"),ue(Xy,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),ue(Xy,"INVALID_ID_TOKEN","invalid-user-token"),ue(Xy,"TOKEN_EXPIRED","user-token-expired"),ue(Xy,"USER_NOT_FOUND","user-token-expired"),ue(Xy,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),ue(Xy,"INVALID_CODE","invalid-verification-code"),ue(Xy,"INVALID_SESSION_INFO","invalid-verification-id"),ue(Xy,"INVALID_TEMPORARY_PROOF","invalid-credential"),ue(Xy,"MISSING_SESSION_INFO","missing-verification-id"),ue(Xy,"SESSION_EXPIRED","code-expired"),ue(Xy,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),ue(Xy,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),ue(Xy,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),ue(Xy,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),ue(Xy,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),ue(Xy,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),ue(Xy,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),ue(Xy,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),ue(Xy,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),ue(Xy,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),ue(Xy,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Xy),Dg=new Cg(3e4,6e4);function Og(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Rg(e,t,n,r){return jg.apply(this,arguments)}function jg(){return jg=de(ve().mark((function e(t,n,r,i){var a,o=arguments;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Lg(t,a,de(ve().mark((function e(){var a,o,s,u;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=et(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Ag.fetch()(Vg(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),jg.apply(this,arguments)}function Lg(e,t,n){return Mg.apply(this,arguments)}function Mg(){return Mg=de(ve().mark((function e(t,n,r){var i,a,o,s,u,c,f,h,d,p;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Pg),n),e.prev=2,a=new Bg(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw qg(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),f=l(c,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw qg(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw qg(t,"email-already-in-use",s);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw yg(t,p,d);case 30:vg(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Ge)){e.next=37;break}throw e.t0;case 37:vg(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),Mg.apply(this,arguments)}function Fg(e,t,n,r){return Ug.apply(this,arguments)}function Ug(){return Ug=de(ve().mark((function e(t,n,r,i){var a,o,s=arguments;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Rg(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&vg(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Ug.apply(this,arguments)}function Vg(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ng(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Bg=function(){function e(t){var n=this;we(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(mg(n.auth,"timeout"))}),Dg.get())}))}return xe(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function qg(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=mg(e,t,r);return i.customData._tokenResponse=n,i}function zg(e,t){return Wg.apply(this,arguments)}function Wg(){return Wg=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rg(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Wg.apply(this,arguments)}function Hg(e,t){return Yg.apply(this,arguments)}function Yg(){return Yg=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rg(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Yg.apply(this,arguments)}function Gg(e,t){return Kg.apply(this,arguments)}function Kg(){return Kg=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rg(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Kg.apply(this,arguments)}function Qg(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Jg(){return Jg=de(ve().mark((function e(t){var n,r,i,a,o,s,u=arguments;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=ot(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,wg((a=$g(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Qg(Xg(a.auth_time)),issuedAtTime:Qg(Xg(a.iat)),expirationTime:Qg(Xg(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Jg.apply(this,arguments)}function Xg(e){return 1e3*Number(e)}function $g(e){var t=l(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return pg("JWT malformed, contained fewer than 3 sections"),null;try{var a=Le(r);return a?JSON.parse(a):(pg("Failed to decode base64 JWT payload"),null)}catch(o){return pg("Caught error parsing JWT payload as JSON",o),null}}function Zg(e,t){return ek.apply(this,arguments)}function ek(){return ek=de(ve().mark((function e(t,n){var r=arguments;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Ge&&tk(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),ek.apply(this,arguments)}function tk(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var nk=function(){function e(t){we(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return xe(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(de(ve().mark((function t(){return ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=de(ve().mark((function e(){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),rk=function(){function e(t,n){we(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return xe(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Qg(this.lastLoginAt),this.creationTime=Qg(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function ik(e){return ak.apply(this,arguments)}function ak(){return ak=de(ve().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Zg(t,Gg(r,{idToken:i}));case 6:wg(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?uk(o.providerUserInfo):[],u=sk(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new rk(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),ak.apply(this,arguments)}function ok(){return(ok=de(ve().mark((function e(t){var n;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ot(t),e.next=3,ik(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sk(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(ut(n),ut(t))}function uk(e){return e.map((function(e){var t=e.providerId,n=Jy(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function ck(e,t){return lk.apply(this,arguments)}function lk(){return lk=de(ve().mark((function e(t,n){var r;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lg(t,{},de(ve().mark((function e(){var r,i,a,o,s,u;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=et({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Vg(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Ag.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),lk.apply(this,arguments)}var fk=function(){function e(){we(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return xe(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){wg(e.idToken,"internal-error"),wg("undefined"!==typeof e.idToken,"internal-error"),wg("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=$g(e);return wg(t,"internal-error"),wg("undefined"!==typeof t.exp,"internal-error"),wg("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=de(ve().mark((function e(t){var n,r=arguments;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],wg(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=de(ve().mark((function e(t,n){var r,i,a,o;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ck(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return bg("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(wg("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(wg("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(wg("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function hk(e,t){wg("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var dk=function(){function e(t){we(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Jy(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new nk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.metadata=new rk(a.createdAt||void 0,a.lastLoginAt||void 0)}return xe(e,[{key:"getIdToken",value:function(){var e=de(ve().mark((function e(t){var n;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zg(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(wg(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Jg.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ok.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(wg(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){wg(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=de(ve().mark((function e(t){var n,r,i=arguments;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,ik(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=de(ve().mark((function e(){var t;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Zg(this,zg(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,w=n.emailVerified,b=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;wg(k&&_,t,"internal-error");var S=fk.fromJSON(this.name,_);wg("string"===typeof k,t,"internal-error"),hk(f,t.name),hk(h,t.name),wg("boolean"===typeof w,t,"internal-error"),wg("boolean"===typeof b,t,"internal-error"),hk(d,t.name),hk(p,t.name),hk(v,t.name),hk(m,t.name),hk(y,t.name),hk(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:w,displayName:f,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=de(ve().mark((function t(n,r){var i,a,o,s=arguments;return ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new fk).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,ik(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),pk=function(){function e(){we(this,e),this.type="NONE",this.storage={}}return xe(e,[{key:"_isAvailable",value:function(){var e=de(ve().mark((function e(){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=de(ve().mark((function e(t){var n;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=de(ve().mark((function e(t){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();pk.type="NONE";var vk=pk;function mk(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var yk=function(){function e(t,n,r){we(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=mk(this.userKey,a.apiKey,o),this.fullPersistenceKey=mk("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return xe(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=de(ve().mark((function e(){var t;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?dk._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=de(ve().mark((function e(t){var n;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=de(ve().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Sg(vk),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=de(ve().mark((function e(t){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Sg(vk),s=mk(i,n.config.apiKey,n.name),u=null,c=fe(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=dk._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=de(ve().mark((function e(t){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function gk(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(xk(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(kk(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Sk(t))return"Blackberry";if(Ek(t))return"Webos";if(wk(t))return"Safari";if((t.includes("chrome/")||bk(t))&&!t.includes("edge/"))return"Chrome";if(_k(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function kk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve();return/firefox\//i.test(e)}function wk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function bk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve();return/crios\//i.test(e)}function xk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve();return/iemobile/i.test(e)}function _k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve();return/android/i.test(e)}function Sk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve();return/blackberry/i.test(e)}function Ek(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve();return/webos/i.test(e)}function Tk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve();return/iphone|ipad|ipod/i.test(e)}function Ik(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve();return Tk(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Ck(){return He()&&10===document.documentMode}function Nk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve();return Tk(e)||_k(e)||Ek(e)||Sk(e)||/windows phone/i.test(e)||xk(e)}function Ak(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=gk(Ve());break;case"Worker":t="".concat(gk(Ve()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(qt,"/").concat(r)}var Pk=function(){function e(t,n){we(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ok(this),this.idTokenSubscription=new Ok(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hg,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return xe(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Sg(t)),this._initializationPromise=this.queue(de(ve().mark((function r(){var i,a;return ve().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,yk.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=de(ve().mark((function e(){var t;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=de(ve().mark((function e(t){var n,r,i,a,o;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return wg(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=de(ve().mark((function e(t){var n;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=de(ve().mark((function e(t){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ik(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=de(ve().mark((function e(){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=de(ve().mark((function e(t){var n;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?ot(t):null)&&wg(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=de(ve().mark((function e(t){var n=this;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&wg(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(de(ve().mark((function e(){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=de(ve().mark((function e(){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(de(ve().mark((function n(){return ve().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Sg(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ke("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=de(ve().mark((function e(t,n){var r;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=de(ve().mark((function e(t){var n;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return wg(n=t&&Sg(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,yk.create(this,[Sg(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=de(ve().mark((function e(t){var n,r;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(de(ve().mark((function e(){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=de(ve().mark((function e(t){var n=this;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(de(ve().mark((function e(){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return wg(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=de(ve().mark((function e(t){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return wg(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ak(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=de(ve().mark((function e(){var t;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ue({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Dk(e){return ot(e)}var Ok=function(){function e(t){var n=this;we(this,e),this.auth=t,this.observer=null,this.addObserver=rt((function(e){return n.observer=e}))}return xe(e,[{key:"next",get:function(){return wg(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Rk(e,t,n){var r=Dk(e);wg(r._canInitEmulator,r,"emulator-config-failed"),wg(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=jk(t),o=function(e){var t=jk(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Lk(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:Lk(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function jk(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Lk(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Mk=function(){function e(t,n){we(this,e),this.providerId=t,this.signInMethod=n}return xe(e,[{key:"toJSON",value:function(){return bg("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return bg("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return bg("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return bg("not implemented")}}]),e}();function Fk(e,t){return Uk.apply(this,arguments)}function Uk(){return Uk=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rg(t,"POST","/v1/accounts:resetPassword",Og(t,n)));case 1:case"end":return e.stop()}}),e)}))),Uk.apply(this,arguments)}function Vk(e,t){return Bk.apply(this,arguments)}function Bk(){return Bk=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rg(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Bk.apply(this,arguments)}function qk(e,t){return zk.apply(this,arguments)}function zk(){return zk=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rg(t,"POST","/v1/accounts:update",Og(t,n)));case 1:case"end":return e.stop()}}),e)}))),zk.apply(this,arguments)}function Wk(e,t){return Hk.apply(this,arguments)}function Hk(){return Hk=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fg(t,"POST","/v1/accounts:signInWithPassword",Og(t,n)));case 1:case"end":return e.stop()}}),e)}))),Hk.apply(this,arguments)}function Yk(e,t){return Gk.apply(this,arguments)}function Gk(){return Gk=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rg(t,"POST","/v1/accounts:sendOobCode",Og(t,n)));case 1:case"end":return e.stop()}}),e)}))),Gk.apply(this,arguments)}function Kk(e,t){return Qk.apply(this,arguments)}function Qk(){return Qk=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yk(t,n));case 1:case"end":return e.stop()}}),e)}))),Qk.apply(this,arguments)}function Jk(e,t){return Xk.apply(this,arguments)}function Xk(){return Xk=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yk(t,n));case 1:case"end":return e.stop()}}),e)}))),Xk.apply(this,arguments)}function $k(e,t){return Zk.apply(this,arguments)}function Zk(){return Zk=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yk(t,n));case 1:case"end":return e.stop()}}),e)}))),Zk.apply(this,arguments)}function ew(e,t){return tw.apply(this,arguments)}function tw(){return tw=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yk(t,n));case 1:case"end":return e.stop()}}),e)}))),tw.apply(this,arguments)}function nw(e,t){return rw.apply(this,arguments)}function rw(){return rw=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fg(t,"POST","/v1/accounts:signInWithEmailLink",Og(t,n)));case 1:case"end":return e.stop()}}),e)}))),rw.apply(this,arguments)}function iw(e,t){return aw.apply(this,arguments)}function aw(){return aw=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fg(t,"POST","/v1/accounts:signInWithEmailLink",Og(t,n)));case 1:case"end":return e.stop()}}),e)}))),aw.apply(this,arguments)}var ow=function(e){Ee(n,e);var t=Ae(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return we(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return xe(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=de(ve().mark((function e(t){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Wk(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",nw(t,{email:this._email,oobCode:this._password}));case 5:vg(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Vk(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",iw(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:vg(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Mk);function sw(e,t){return uw.apply(this,arguments)}function uw(){return uw=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fg(t,"POST","/v1/accounts:signInWithIdp",Og(t,n)));case 1:case"end":return e.stop()}}),e)}))),uw.apply(this,arguments)}var cw=function(e){Ee(n,e);var t=Ae(n);function n(){var e;return we(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return xe(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return sw(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,sw(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,sw(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=et(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vg("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Jy(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Mk);function lw(e,t){return fw.apply(this,arguments)}function fw(){return fw=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rg(t,"POST","/v1/accounts:sendVerificationCode",Og(t,n)));case 1:case"end":return e.stop()}}),e)}))),fw.apply(this,arguments)}function hw(){return hw=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fg(t,"POST","/v1/accounts:signInWithPhoneNumber",Og(t,n)));case 1:case"end":return e.stop()}}),e)}))),hw.apply(this,arguments)}function dw(){return dw=de(ve().mark((function e(t,n){var r;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fg(t,"POST","/v1/accounts:signInWithPhoneNumber",Og(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw qg(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),dw.apply(this,arguments)}var pw=ue({},"USER_NOT_FOUND","user-not-found");function vw(){return vw=de(ve().mark((function e(t,n){var r;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Fg(t,"POST","/v1/accounts:signInWithPhoneNumber",Og(t,r),pw));case 2:case"end":return e.stop()}}),e)}))),vw.apply(this,arguments)}var mw=function(e){Ee(n,e);var t=Ae(n);function n(e){var r;return we(this,n),(r=t.call(this,"phone","phone")).params=e,r}return xe(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return hw.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return dw.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return vw.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Mk);var yw=function(){function e(t){var n,r,i,a,o,s;we(this,e);var u=tt(nt(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);wg(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return xe(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=tt(nt(e)).link,n=t?tt(nt(t)).deep_link_id:null,r=tt(nt(e)).deep_link_id;return(r?tt(nt(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Ep){return null}}}]),e}();var gw=function(){function e(){we(this,e),this.providerId=e.PROVIDER_ID}return xe(e,null,[{key:"credential",value:function(e,t){return ow._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=yw.parseLink(t);return wg(n,"argument-error"),ow._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();gw.PROVIDER_ID="password",gw.EMAIL_PASSWORD_SIGN_IN_METHOD="password",gw.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var kw=function(){function e(t){we(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return xe(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),ww=function(e){Ee(n,e);var t=Ae(n);function n(){var e;return we(this,n),(e=t.apply(this,arguments)).scopes=[],e}return xe(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return ut(this.scopes)}}]),n}(kw),bw=function(e){Ee(n,e);var t=Ae(n);function n(){return we(this,n),t.apply(this,arguments)}return xe(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return wg(e.idToken||e.accessToken,"argument-error"),cw._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return wg("providerId"in t&&"signInMethod"in t,"argument-error"),cw._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(ww),xw=function(e){Ee(n,e);var t=Ae(n);function n(){return we(this,n),t.call(this,"facebook.com")}return xe(n,null,[{key:"credential",value:function(e){return cw._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Ep){return null}}}]),n}(ww);xw.FACEBOOK_SIGN_IN_METHOD="facebook.com",xw.PROVIDER_ID="facebook.com";var _w=function(e){Ee(n,e);var t=Ae(n);function n(){var e;return we(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return xe(n,null,[{key:"credential",value:function(e,t){return cw._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Ep){return null}}}]),n}(ww);_w.GOOGLE_SIGN_IN_METHOD="google.com",_w.PROVIDER_ID="google.com";var Sw=function(e){Ee(n,e);var t=Ae(n);function n(){return we(this,n),t.call(this,"github.com")}return xe(n,null,[{key:"credential",value:function(e){return cw._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Ep){return null}}}]),n}(ww);Sw.GITHUB_SIGN_IN_METHOD="github.com",Sw.PROVIDER_ID="github.com";var Ew=function(e){Ee(n,e);var t=Ae(n);function n(e,r){var i;return we(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return xe(n,[{key:"_getIdTokenResponse",value:function(e){return sw(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,sw(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,sw(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Mk),Tw=function(e){Ee(n,e);var t=Ae(n);function n(e){return we(this,n),wg(e.startsWith("saml."),"argument-error"),t.call(this,e)}return xe(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Ew.fromJSON(e);return wg(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Ew._create(r,n)}catch(i){return null}}}]),n}(kw),Iw=function(e){Ee(n,e);var t=Ae(n);function n(){return we(this,n),t.call(this,"twitter.com")}return xe(n,null,[{key:"credential",value:function(e,t){return cw._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Ep){return null}}}]),n}(ww);function Cw(e,t){return Nw.apply(this,arguments)}function Nw(){return Nw=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fg(t,"POST","/v1/accounts:signUp",Og(t,n)));case 1:case"end":return e.stop()}}),e)}))),Nw.apply(this,arguments)}Iw.TWITTER_SIGN_IN_METHOD="twitter.com",Iw.PROVIDER_ID="twitter.com";var Aw=function(){function e(t){we(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return xe(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=de(ve().mark((function t(n,r,i){var a,o,s,u,c=arguments;return ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,dk._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Pw(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=de(ve().mark((function t(n,r,i){var a;return ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Pw(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Pw(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Dw(){return Dw=de(ve().mark((function e(t){var n,r,i,a;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dk(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Aw({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Cw(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Aw._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Dw.apply(this,arguments)}var Ow=function(e){Ee(n,e);var t=Ae(n);function n(e,r,i,a){var o,s;return we(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(_e(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return xe(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Ge);function Rw(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ow._fromErrorAndOperation(e,n,t,r);throw n}))}function jw(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Lw(e,t){return Mw.apply(this,arguments)}function Mw(){return Mw=de(ve().mark((function e(t,n){var r,i,a,o;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ot(t),e.next=3,Vw(!0,r,n);case 3:return e.t0=Hg,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=jw(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Mw.apply(this,arguments)}function Fw(e,t){return Uw.apply(this,arguments)}function Uw(){return Uw=de(ve().mark((function e(t,n){var r,i,a=arguments;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Zg,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Aw._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Uw.apply(this,arguments)}function Vw(e,t,n){return Bw.apply(this,arguments)}function Bw(){return(Bw=de(ve().mark((function e(t,n,r){var i,a;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ik(n);case 2:i=jw(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",wg(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qw(e,t){return zw.apply(this,arguments)}function zw(){return zw=de(ve().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Zg(t,Rw(i,a,n,t),r);case 6:return wg((o=e.sent).idToken,i,"internal-error"),wg(s=$g(o.idToken),i,"internal-error"),u=s.sub,wg(t.uid===u,i,"user-mismatch"),e.abrupt("return",Aw._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&vg(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),zw.apply(this,arguments)}function Ww(e,t){return Hw.apply(this,arguments)}function Hw(){return Hw=de(ve().mark((function e(t,n){var r,i,a,o,s=arguments;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Rw(t,i,n);case 4:return a=e.sent,e.next=7,Aw._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Hw.apply(this,arguments)}function Yw(e,t){return Gw.apply(this,arguments)}function Gw(){return Gw=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ww(Dk(t),n));case 1:case"end":return e.stop()}}),e)}))),Gw.apply(this,arguments)}function Kw(e,t){return Qw.apply(this,arguments)}function Qw(){return(Qw=de(ve().mark((function e(t,n){var r;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ot(t),e.next=3,Vw(!1,r,n.providerId);case 3:return e.abrupt("return",Fw(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jw(e,t){return Xw.apply(this,arguments)}function Xw(){return(Xw=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qw(ot(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $w(e,t){return Zw.apply(this,arguments)}function Zw(){return Zw=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fg(t,"POST","/v1/accounts:signInWithCustomToken",Og(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zw.apply(this,arguments)}function eb(){return eb=de(ve().mark((function e(t,n){var r,i,a;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dk(t),e.next=3,$w(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Aw._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),eb.apply(this,arguments)}var tb=function(){function e(t,n){we(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return xe(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?nb._fromServerResponse(e,t):vg(e,"internal-error")}}]),e}(),nb=function(e){Ee(n,e);var t=Ae(n);function n(e){var r;return we(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return xe(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(tb);function rb(e,t,n){var r;wg((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),wg("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(wg(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(wg(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function ib(){return ib=de(ve().mark((function e(t,n,r){var i,a;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ot(t),a={requestType:"PASSWORD_RESET",email:n},r&&rb(i,a,r),e.next=5,Jk(i,a);case 5:case"end":return e.stop()}}),e)}))),ib.apply(this,arguments)}function ab(){return ab=de(ve().mark((function e(t,n,r){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fk(ot(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),ab.apply(this,arguments)}function ob(){return ob=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qk(ot(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),ob.apply(this,arguments)}function sb(e,t){return ub.apply(this,arguments)}function ub(){return ub=de(ve().mark((function e(t,n){var r,i,a,o;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ot(t),e.next=3,Fk(r,{oobCode:n});case 3:i=e.sent,wg(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return wg(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:wg(i.mfaInfo,r,"internal-error");case 13:wg(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=tb._fromServerResponse(Dk(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),ub.apply(this,arguments)}function cb(){return cb=de(ve().mark((function e(t,n){var r,i;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sb(ot(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),cb.apply(this,arguments)}function lb(e,t,n){return fb.apply(this,arguments)}function fb(){return fb=de(ve().mark((function e(t,n,r){var i,a,o;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Dk(t),e.next=3,Cw(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Aw._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),fb.apply(this,arguments)}function hb(){return hb=de(ve().mark((function e(t,n,r){var i,a;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ot(t),a={requestType:"EMAIL_SIGNIN",email:n},wg(r.handleCodeInApp,i,"argument-error"),r&&rb(i,a,r),e.next=6,$k(i,a);case 6:case"end":return e.stop()}}),e)}))),hb.apply(this,arguments)}function db(){return db=de(ve().mark((function e(t,n,r){var i,a;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ot(t),wg((a=gw.credentialWithLink(n,r||Eg()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Yw(i,a));case 4:case"end":return e.stop()}}),e)}))),db.apply(this,arguments)}function pb(e,t){return vb.apply(this,arguments)}function vb(){return vb=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rg(t,"POST","/v1/accounts:createAuthUri",Og(t,n)));case 1:case"end":return e.stop()}}),e)}))),vb.apply(this,arguments)}function mb(){return mb=de(ve().mark((function e(t,n){var r,i,a,o;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tg()?Eg():"http://localhost",i={identifier:n,continueUri:r},e.next=4,pb(ot(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),mb.apply(this,arguments)}function yb(){return(yb=de(ve().mark((function e(t,n){var r,i,a,o;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ot(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&rb(r.auth,a,n),e.next=8,Kk(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gb(){return(gb=de(ve().mark((function e(t,n,r){var i,a,o,s;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ot(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&rb(i.auth,o,r),e.next=8,ew(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kb(e,t){return wb.apply(this,arguments)}function wb(){return wb=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rg(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),wb.apply(this,arguments)}function bb(){return(bb=de(ve().mark((function e(t,n){var r,i,a,o,s,u,c;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=ot(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Zg(a,kb(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xb(e,t,n){return _b.apply(this,arguments)}function _b(){return _b=de(ve().mark((function e(t,n,r){var i,a,o,s;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Zg(t,Vk(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),_b.apply(this,arguments)}var Sb=xe((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};we(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Eb=function(e){Ee(n,e);var t=Ae(n);function n(e,r,i,a){var o;return we(this,n),(o=t.call(this,e,r,i)).username=a,o}return xe(n)}(Sb),Tb=function(e){Ee(n,e);var t=Ae(n);function n(e,r){return we(this,n),t.call(this,e,"facebook.com",r)}return xe(n)}(Sb),Ib=function(e){Ee(n,e);var t=Ae(n);function n(e,r){return we(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return xe(n)}(Eb),Cb=function(e){Ee(n,e);var t=Ae(n);function n(e,r){return we(this,n),t.call(this,e,"google.com",r)}return xe(n)}(Sb),Nb=function(e){Ee(n,e);var t=Ae(n);function n(e,r,i){return we(this,n),t.call(this,e,"twitter.com",r,i)}return xe(n)}(Eb);function Ab(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=$g(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Sb(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Tb(a,i);case"github.com":return new Ib(a,i);case"google.com":return new Cb(a,i);case"twitter.com":return new Nb(a,i,e.screenName||null);case"custom":case"anonymous":return new Sb(a,null);default:return new Sb(a,r,i)}}(n)}var Pb=function(){function e(t,n){we(this,e),this.type=t,this.credential=n}return xe(e,[{key:"toJSON",value:function(){return{multiFactorSession:ue({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Db=function(){function e(t,n,r){we(this,e),this.session=t,this.hints=n,this.signInResolver=r}return xe(e,[{key:"resolveSignIn",value:function(){var e=de(ve().mark((function e(t){var n;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Dk(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return tb._fromServerResponse(r,e)}));wg(i.mfaPendingCredential,r,"internal-error");var o=Pb._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=de(ve().mark((function e(t){var a,s,u;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Aw._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return wg(n.user,r,"internal-error"),e.abrupt("return",Aw._forOperation(n.user,n.operationType,s));case 17:vg(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Ob(e,t){return Rg(e,"POST","/v2/accounts/mfaEnrollment:start",Og(e,t))}function Rb(e,t){return Rg(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Og(e,t))}var jb=function(){function e(t){var n=this;we(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return tb._fromServerResponse(t.auth,e)})))}))}return xe(e,[{key:"getSession",value:function(){var e=de(ve().mark((function e(){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Pb,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=de(ve().mark((function e(t,n){var r,i,a;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Zg(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=de(ve().mark((function e(t){var n,r,i;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Zg(this.user,Rb(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Lb=new WeakMap;var Mb="__sak",Fb=function(){function e(t,n){we(this,e),this.storageRetriever=t,this.type=n}return xe(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Mb,"1"),this.storage.removeItem(Mb),Promise.resolve(!0)):Promise.resolve(!1)}catch(Ep){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Ub=function(e){Ee(n,e);var t=Ae(n);function n(){var e;return we(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Ve();return wk(e)||Tk(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Nk(),e._shouldAllowMigration=!0,e}return xe(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Ck()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=de(ve().mark((function e(t,r){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on(Te(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=de(ve().mark((function e(t){var r;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on(Te(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=de(ve().mark((function e(t){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on(Te(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Fb);Ub.type="LOCAL";var Vb=Ub,Bb=function(e){Ee(n,e);var t=Ae(n);function n(){return we(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return xe(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Fb);Bb.type="SESSION";var qb=Bb;function zb(e){return Promise.all(e.map(function(){var e=de(ve().mark((function e(t){var n;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Wb=function(){function e(t){we(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return xe(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=de(ve().mark((function e(t){var n,r,i,a,o,s,u,c;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=de(ve().mark((function e(t){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,zb(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Hb(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Wb.receivers=[];var Yb=function(){function e(t){we(this,e),this.target=t,this.handlers=new Set}return xe(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=de(ve().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Hb("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Gb(){return window}function Kb(){return"undefined"!==typeof Gb().WorkerGlobalScope&&"function"===typeof Gb().importScripts}function Qb(){return Jb.apply(this,arguments)}function Jb(){return(Jb=de(ve().mark((function e(){var t;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Xb(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var $b="firebaseLocalStorageDb",Zb="firebaseLocalStorage",ex="fbase_key",tx=function(){function e(t){we(this,e),this.request=t}return xe(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function nx(e,t){return e.transaction([Zb],t?"readwrite":"readonly").objectStore(Zb)}function rx(){var e=indexedDB.deleteDatabase($b);return new tx(e).toPromise()}function ix(){var e=indexedDB.open($b,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Zb,{keyPath:ex})}catch(r){n(r)}})),e.addEventListener("success",de(ve().mark((function n(){var r;return ve().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Zb)){n.next=12;break}return r.close(),n.next=5,rx();case 5:return n.t0=t,n.next=8,ix();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function ax(e,t,n){return ox.apply(this,arguments)}function ox(){return(ox=de(ve().mark((function e(t,n,r){var i,a;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=nx(t,!0).put((ue(i={},ex,n),ue(i,"value",r),i)),e.abrupt("return",new tx(a).toPromise());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sx(e,t){return ux.apply(this,arguments)}function ux(){return(ux=de(ve().mark((function e(t,n){var r,i;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nx(t,!1).get(n),e.next=3,new tx(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cx(e,t){var n=nx(e,!0).delete(t);return new tx(n).toPromise()}var lx=function(){function e(){we(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return xe(e,[{key:"_openDb",value:function(){var e=de(ve().mark((function e(){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,ix();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=de(ve().mark((function e(t){var n,r;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=de(ve().mark((function e(){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kb()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=de(ve().mark((function e(){var t=this;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Wb._getInstance(Kb()?self:null),this.receiver._subscribe("keyChanged",function(){var e=de(ve().mark((function e(n,r){var i;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=de(ve().mark((function e(){var t,n,r;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qb();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Yb(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=de(ve().mark((function e(t){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Xb()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=de(ve().mark((function e(){var t;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ix();case 5:return t=e.sent,e.next=8,ax(t,Mb,"1");case 8:return e.next=10,cx(t,Mb);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=de(ve().mark((function e(t){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=de(ve().mark((function e(t,n){var r=this;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(de(ve().mark((function e(){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return ax(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=de(ve().mark((function e(t){var n;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return sx(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=de(ve().mark((function e(t){var n=this;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(de(ve().mark((function e(){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return cx(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=de(ve().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=nx(e,!1).getAll();return new tx(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=fe(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(de(ve().mark((function t(){return ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();lx.type="LOCAL";var fx=lx;function hx(e,t){return Rg(e,"POST","/v2/accounts/mfaSignIn:start",Og(e,t))}function dx(e){return px.apply(this,arguments)}function px(){return px=de(ve().mark((function e(t){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rg(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),px.apply(this,arguments)}function vx(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=mg("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function mx(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var yx=1e12,gx=function(){function e(t){we(this,e),this.auth=t,this.counter=yx,this._widgets=new Map}return xe(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new kx(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||yx;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||yx;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=de(ve().mark((function e(t){var n,r;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||yx,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),kx=function(){function e(t,n,r){var i=this;we(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;wg(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return xe(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var wx=mx("rcb"),bx=new Cg(3e4,6e4),xx="https://www.google.com/recaptcha/api.js?",_x=function(){function e(){we(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Gb().grecaptcha}return xe(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return wg(Sx(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Gb().grecaptcha):new Promise((function(r,i){var a=Gb().setTimeout((function(){i(mg(e,"network-request-failed"))}),bx.get());Gb()[wx]=function(){Gb().clearTimeout(a),delete Gb()[wx];var o=Gb().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(mg(e,"internal-error"))},vx("".concat(xx,"?").concat(et({onload:wx,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(mg(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Gb().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Sx(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Ex=function(){function e(){we(this,e)}return xe(e,[{key:"load",value:function(){var e=de(ve().mark((function e(t){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new gx(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Tx="recaptcha",Ix={theme:"light",type:"image"},Cx=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Ix),r=arguments.length>2?arguments[2]:void 0;we(this,e),this.parameters=n,this.type=Tx,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Dk(r),this.isInvisible="invisible"===this.parameters.size,wg("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;wg(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ex:new _x,this.validateStartingState()}return xe(e,[{key:"verify",value:function(){var e=de(ve().mark((function e(){var t,n,r,i=this;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){wg(!this.parameters.sitekey,this.auth,"argument-error"),wg(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),wg("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Gb()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){wg(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=de(ve().mark((function e(){var t,n;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=de(ve().mark((function e(){var t;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wg(Tg()&&!Kb(),this.auth,"internal-error"),e.next=3,Nx();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,dx(this.auth);case 8:wg(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return wg(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Nx(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Ax=function(){function e(t,n){we(this,e),this.verificationId=t,this.onConfirmation=n}return xe(e,[{key:"confirm",value:function(e){var t=mw._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Px(){return Px=de(ve().mark((function e(t,n,r){var i,a;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Dk(t),e.next=3,jx(i,n,ot(r));case 3:return a=e.sent,e.abrupt("return",new Ax(a,(function(e){return Yw(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Px.apply(this,arguments)}function Dx(e,t,n){return Ox.apply(this,arguments)}function Ox(){return(Ox=de(ve().mark((function e(t,n,r){var i,a;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ot(t),e.next=3,Vw(!1,i,"phone");case 3:return e.next=5,jx(i.auth,n,ot(r));case 5:return a=e.sent,e.abrupt("return",new Ax(a,(function(e){return Kw(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rx(){return(Rx=de(ve().mark((function e(t,n,r){var i,a;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ot(t),e.next=3,jx(i.auth,n,ot(r));case 3:return a=e.sent,e.abrupt("return",new Ax(a,(function(e){return Jw(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jx(e,t,n){return Lx.apply(this,arguments)}function Lx(){return Lx=de(ve().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,wg("string"===typeof a,t,"argument-error"),wg(r.type===Tx,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return wg("enroll"===s.type,t,"internal-error"),e.next=13,Ob(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return wg("signin"===s.type,t,"internal-error"),wg(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,hx(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,lw(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Lx.apply(this,arguments)}function Mx(){return(Mx=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fw(ot(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fx=function(){function e(t){we(this,e),this.providerId=e.PROVIDER_ID,this.auth=Dk(t)}return xe(e,[{key:"verifyPhoneNumber",value:function(e,t){return jx(this.auth,e,ot(t))}}],[{key:"credential",value:function(e,t){return mw._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?mw._fromTokenResponse(n,r):null}}]),e}();function Ux(e,t){return t?Sg(t):(wg(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Fx.PROVIDER_ID="phone",Fx.PHONE_SIGN_IN_METHOD="phone";var Vx=function(e){Ee(n,e);var t=Ae(n);function n(e){var r;return we(this,n),(r=t.call(this,"custom","custom")).params=e,r}return xe(n,[{key:"_getIdTokenResponse",value:function(e){return sw(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return sw(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return sw(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Mk);function Bx(e){return Ww(e.auth,new Vx(e),e.bypassAuthState)}function qx(e){var t=e.auth,n=e.user;return wg(n,t,"internal-error"),qw(n,new Vx(e),e.bypassAuthState)}function zx(e){return Wx.apply(this,arguments)}function Wx(){return Wx=de(ve().mark((function e(t){var n,r;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,wg(r=t.user,n,"internal-error"),e.abrupt("return",Fw(r,new Vx(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Wx.apply(this,arguments)}var Hx=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];we(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return xe(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=de(ve().mark((function t(n,r){return ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=de(ve().mark((function e(t){var n,r,i,a,o,s,u;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Bx;case"linkViaPopup":case"linkViaRedirect":return zx;case"reauthViaPopup":case"reauthViaRedirect":return qx;default:vg(this.auth,"internal-error")}}},{key:"resolve",value:function(e){xg(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){xg(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Yx=new Cg(2e3,1e4);function Gx(e,t,n){return Kx.apply(this,arguments)}function Kx(){return Kx=de(ve().mark((function e(t,n,r){var i,a,o;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Dk(t),gg(t,n,kw),a=Ux(i,r),o=new $x(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Kx.apply(this,arguments)}function Qx(){return(Qx=de(ve().mark((function e(t,n,r){var i,a,o;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gg((i=ot(t)).auth,n,kw),a=Ux(i.auth,r),o=new $x(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jx(e,t,n){return Xx.apply(this,arguments)}function Xx(){return(Xx=de(ve().mark((function e(t,n,r){var i,a,o;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gg((i=ot(t)).auth,n,kw),a=Ux(i.auth,r),o=new $x(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $x=function(e){Ee(n,e);var t=Ae(n);function n(e,r,i,a,o){var s;return we(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=_e(s),s}return xe(n,[{key:"executeNotNull",value:function(){var e=de(ve().mark((function e(){var t;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return wg(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=de(ve().mark((function e(){var t,n=this;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xg(1===this.filter.length,"Popup operations only handle one event"),t=Hb(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(mg(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(mg(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(mg(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Yx.get())}()}}]),n}(Hx);$x.currentPopupAction=null;var Zx=new Map,e_=function(e){Ee(n,e);var t=Ae(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return we(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return xe(n,[{key:"execute",value:function(){var e=de(ve().mark((function e(){var t,r;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Zx.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,t_(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,on(Te(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Zx.set(this.auth._key(),t);case 21:return this.bypassAuthState||Zx.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=de(ve().mark((function e(t){var r;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",on(Te(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",on(Te(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=de(ve().mark((function e(){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Hx);function t_(e,t){return n_.apply(this,arguments)}function n_(){return n_=de(ve().mark((function e(t,n){var r,i,a;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o_(n),i=a_(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),n_.apply(this,arguments)}function r_(e,t){return i_.apply(this,arguments)}function i_(){return i_=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a_(t)._set(o_(n),"true"));case 1:case"end":return e.stop()}}),e)}))),i_.apply(this,arguments)}function a_(e){return Sg(e._redirectPersistence)}function o_(e){return mk("pendingRedirect",e.config.apiKey,e.name)}function s_(e,t,n){return function(e,t,n){return u_.apply(this,arguments)}(e,t,n)}function u_(){return u_=de(ve().mark((function e(t,n,r){var i,a;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Dk(t),gg(t,n,kw),a=Ux(i,r),e.next=5,r_(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),u_.apply(this,arguments)}function c_(e,t,n){return function(e,t,n){return l_.apply(this,arguments)}(e,t,n)}function l_(){return(l_=de(ve().mark((function e(t,n,r){var i,a,o;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gg((i=ot(t)).auth,n,kw),a=Ux(i.auth,r),e.next=5,r_(a,i.auth);case 5:return e.next=7,y_(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f_(e,t,n){return function(e,t,n){return h_.apply(this,arguments)}(e,t,n)}function h_(){return(h_=de(ve().mark((function e(t,n,r){var i,a,o;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gg((i=ot(t)).auth,n,kw),a=Ux(i.auth,r),e.next=5,Vw(!1,i,n.providerId);case 5:return e.next=7,r_(a,i.auth);case 7:return e.next=9,y_(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d_(e,t){return p_.apply(this,arguments)}function p_(){return p_=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dk(t)._initializationPromise;case 2:return e.abrupt("return",v_(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),p_.apply(this,arguments)}function v_(e,t){return m_.apply(this,arguments)}function m_(){return m_=de(ve().mark((function e(t,n){var r,i,a,o,s,u=arguments;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Dk(t),a=Ux(i,n),o=new e_(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),m_.apply(this,arguments)}function y_(e){return g_.apply(this,arguments)}function g_(){return(g_=de(ve().mark((function e(t){var n;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hb("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k_=function(){function e(t){we(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return xe(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return b_(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!b_(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(mg(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(w_(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(w_(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function w_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function b_(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function x_(e){return __.apply(this,arguments)}function __(){return __=de(ve().mark((function e(t){var n,r=arguments;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Rg(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),__.apply(this,arguments)}var S_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E_=/^https?/;function T_(){return T_=de(ve().mark((function e(t){var n,r,i,a,o;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,x_(t);case 4:n=e.sent,r=n.authorizedDomains,i=fe(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!I_(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:vg(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),T_.apply(this,arguments)}function I_(e){var t=Eg(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!E_.test(r))return!1;if(S_.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var C_=new Cg(3e4,6e4);function N_(){var e=Gb().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=ut(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var A_=null;function P_(e){return A_=A_||function(e){return new Promise((function(t,n){var r,i,a;function o(){N_(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){N_(),n(mg(e,"network-request-failed"))},timeout:C_.get()})}if(null===(i=null===(r=Gb().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Gb().gapi)||void 0===a?void 0:a.load)){var s=mx("iframefcb");return Gb()[s]=function(){gapi.load?o():n(mg(e,"network-request-failed"))},vx("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw A_=null,e}))}(e),A_}var D_=new Cg(5e3,15e3),O_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function j_(e){var t=e.config;wg(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Ng(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:qt},i=R_.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(et(r).slice(1))}function L_(e){return M_.apply(this,arguments)}function M_(){return M_=de(ve().mark((function e(t){var n,r;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P_(t);case 2:return n=e.sent,wg(r=Gb().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:j_(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:O_,dontclear:!0},(function(e){return new Promise(function(){var n=de(ve().mark((function n(r,i){var a,o,s;return ve().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Gb().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=mg(t,"network-request-failed"),o=Gb().setTimeout((function(){i(a)}),D_.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),M_.apply(this,arguments)}var F_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},U_="_blank",V_="http://localhost",B_=function(){function e(t){we(this,e),this.window=t,this.associatedEvent=null}return xe(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function q_(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},F_),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Ve().toLowerCase();n&&(s=bk(c)?U_:n),kk(c)&&(t=t||V_,u.scrollbars="yes");var f=Object.entries(u).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Ik(c)&&"_self"!==s)return z_(t||"",s),new B_(null);var h=window.open(t||"",s,f);wg(h,e,"popup-blocked");try{h.focus()}catch(d){}return new B_(h)}function z_(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var W_="__/auth/handler",H_="emulator/auth/handler";function Y_(e,t,n,r,i,a){wg(e.config.authDomain,e,"auth-domain-config-required"),wg(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:qt,eventId:i};if(t instanceof kw){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=l(u[s],2),f=c[0],h=c[1];o[f]=h}}if(t instanceof ww){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(W_);return Ng(t,H_)}(e),"?").concat(et(p).slice(1))}var G_="webStorageSupport",K_=function(){function e(){we(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qb,this._completeRedirectFn=v_}return xe(e,[{key:"_openPopup",value:function(){var e=de(ve().mark((function e(t,n,r,i){var a,o;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xg(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Y_(t,n,r,Eg(),i),e.abrupt("return",q_(t,o,Hb()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=de(ve().mark((function e(t,n,r,i){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Y_(t,n,r,Eg(),i),Gb().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(xg(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=de(ve().mark((function e(t){var n,r;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L_(t);case 2:return n=e.sent,r=new k_(t),n.register("authEvent",(function(e){return wg(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(G_,{type:G_},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),vg(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return T_.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Nk()||wk()||Tk()}}]),e}(),Q_=K_,J_=function(){function e(t){we(this,e),this.factorId=t}return xe(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return bg("unexpected MultiFactorSessionType")}}}]),e}(),X_=function(e){Ee(n,e);var t=Ae(n);function n(e){var r;return we(this,n),(r=t.call(this,"phone")).credential=e,r}return xe(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Rg(e,"POST","/v2/accounts/mfaEnrollment:finalize",Og(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Rg(e,"POST","/v2/accounts/mfaSignIn:finalize",Og(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(J_),$_=function(){function e(){we(this,e)}return xe(e,null,[{key:"assertion",value:function(e){return X_._fromCredential(e)}}]),e}();$_.FACTOR_ID="phone";var Z_,eS="@firebase/auth",tS="0.19.4",nS=function(){function e(t){we(this,e),this.auth=t,this.internalListeners=new Map}return xe(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=de(ve().mark((function e(t){var n;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){wg(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function rS(){return window}Z_="Browser",Ot(new ct("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){wg(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),wg(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:Z_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ak(Z_)},r=new Pk(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Sg);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ot(new ct("auth-internal",(function(e){return function(e){return new nS(e)}(Dk(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Kt(eS,tS,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Z_)),Kt(eS,tS,"esm2017");function iS(e,t,n){return aS.apply(this,arguments)}function aS(){return aS=de(ve().mark((function e(t,n,r){var i,a,o,s,u;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=rS(),o=a.BuildInfo,xg(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,fS(n.sessionId);case 4:return s=e.sent,u={},Tk()?u.ibi=o.packageName:_k()?u.apn=o.packageName:vg(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",Y_(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),aS.apply(this,arguments)}function oS(){return oS=de(ve().mark((function e(t){var n,r,i;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=rS(),r=n.BuildInfo,i={},Tk()?i.iosBundleId=r.packageName:_k()?i.androidPackageName=r.packageName:vg(t,"operation-not-supported-in-this-environment"),e.next=5,x_(t,i);case 5:case"end":return e.stop()}}),e)}))),oS.apply(this,arguments)}function sS(e){var t=rS().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function uS(e,t,n){return cS.apply(this,arguments)}function cS(){return cS=de(ve().mark((function e(t,n,r){var i,a,o;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=rS(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(mg(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),_k()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),cS.apply(this,arguments)}function lS(e){var t,n,r,i,a,o,s,u,c,l,f=rS();wg("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),wg("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),wg("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),wg("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),wg("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function fS(e){return hS.apply(this,arguments)}function hS(){return(hS=de(ve().mark((function e(t){var n,r,i;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=dS(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dS(e){if(xg(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var pS=function(e){Ee(n,e);var t=Ae(n);function n(){var e;return we(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return xe(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),on(Te(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=de(ve().mark((function e(){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(k_);function vS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:wS(),postBody:null,tenantId:e.tenantId,error:mg(e,"no-auth-event")}}function mS(e,t){return bS()._set(xS(e),t)}function yS(e){return gS.apply(this,arguments)}function gS(){return gS=de(ve().mark((function e(t){var n;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bS()._get(xS(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,bS()._remove(xS(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),gS.apply(this,arguments)}function kS(e,t){var n,r,i=function(e){var t=_S(e),n=t.link?decodeURIComponent(t.link):void 0,r=_S(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return _S(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=_S(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?mg(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function wS(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function bS(){return Sg(Vb)}function xS(e){return mk("authEvent",e.config.apiKey,e.name)}function _S(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=o(t=n)||st(t)||u(t)||c();r[0];return tt(r.slice(1).join("?"))}var SS=function(){function e(){we(this,e),this._redirectPersistence=qb,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=v_}return xe(e,[{key:"_initialize",value:function(){var e=de(ve().mark((function e(t){var n,r;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new pS(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){vg(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=de(ve().mark((function e(t,n,r,i){var a,o,s,u;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lS(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Zx.clear(),e.next=10,this._originValidation(t);case 10:return o=vS(t,r,i),e.next=13,mS(t,o);case 13:return e.next=15,iS(t,o,n);case 15:return s=e.sent,e.next=18,sS(s);case 18:return u=e.sent,e.abrupt("return",uS(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return oS.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=rS(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(de(ve().mark((function n(){return ve().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,yS(e);case 2:t.onEvent(TS());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=de(ve().mark((function n(r){var i,a;return ve().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,yS(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=kS(i,r.url)),t.onEvent(a||TS());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");rS().handleOpenURL=function(){var e=de(ve().mark((function e(t){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),ES=SS;function TS(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:mg("no-auth-event")}}function IS(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function CS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve();return!("file:"!==IS()&&"ionic:"!==IS()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function NS(){return He()&&11===(null===document||void 0===document?void 0:document.documentMode)}function AS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve();return/Edge\/\d+/.test(e)}function PS(){try{var e=self.localStorage,t=Hb();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve();return NS()||AS(e)}()||Ye()}catch(n){return DS()&&Ye()}return!1}function DS(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function OS(){return("http:"===IS()||"https:"===IS()||ze()||CS())&&!(We()||qe())&&PS()&&!DS()}function RS(){return CS()&&"undefined"!==typeof document}function jS(){return LS.apply(this,arguments)}function LS(){return(LS=de(ve().mark((function e(){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(RS()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var MS={LOCAL:"local",NONE:"none",SESSION:"session"},FS=wg,US="persistence";function VS(e,t){FS(Object.values(MS).includes(t),e,"invalid-persistence-type"),We()?FS(t!==MS.SESSION,e,"unsupported-persistence-type"):qe()?FS(t===MS.NONE,e,"unsupported-persistence-type"):DS()?FS(t===MS.NONE||t===MS.LOCAL&&Ye(),e,"unsupported-persistence-type"):FS(t===MS.NONE||PS(),e,"unsupported-persistence-type")}function BS(e){return qS.apply(this,arguments)}function qS(){return qS=de(ve().mark((function e(t){var n,r;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=zS(),r=mk(US,t.config.apiKey,t.name),(null===n||void 0===n?void 0:n.sessionStorage)&&n.sessionStorage.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),qS.apply(this,arguments)}function zS(){return"undefined"!==typeof window?window:null}var WS=wg,HS=function(){function e(){we(this,e),this.browserResolver=Sg(Q_),this.cordovaResolver=Sg(ES),this.underlyingResolver=null,this._redirectPersistence=qb,this._completeRedirectFn=v_}return xe(e,[{key:"_initialize",value:function(){var e=de(ve().mark((function e(t){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=de(ve().mark((function e(t,n,r,i){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=de(ve().mark((function e(t,n,r,i){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return RS()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return WS(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=de(ve().mark((function e(){var t;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,jS();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function YS(e){return e.unwrap()}function GS(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new $S(e,function(e,t){var n,r=ot(e),i=t;return wg(t.customData.operationType,r,"argument-error"),wg(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Db._fromError(r,i)}(e,t));else if(r){var i=KS(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function KS(e){var t=(e instanceof Ge?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Ge)&&"temporaryProof"in t&&"phoneNumber"in t)return Fx.credentialFromResult(e);var n,r=t.providerId;if(!r||r===tg)return null;switch(r){case eg:n=_w;break;case $y:n=xw;break;case Zy:n=Sw;break;case ng:n=Iw;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?Ew._create(r,s):cw._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new bw(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Ge?n.credentialFromError(e):n.credentialFromResult(e)}function QS(e,t){return t.catch((function(t){throw t instanceof Ge&&GS(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,KS(t)),additionalUserInfo:Ab(e),user:ZS.getOrCreate(r)}}))}function JS(e,t){return XS.apply(this,arguments)}function XS(){return XS=de(ve().mark((function e(t,n){var r;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return QS(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),XS.apply(this,arguments)}var $S=function(){function e(t,n){we(this,e),this.resolver=n,this.auth=t.wrapped()}return xe(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return QS(YS(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),ZS=function(){function e(t){we(this,e),this._delegate=t,this.multiFactor=function(e){var t=ot(e);return Lb.has(t)||Lb.set(t,jb._fromUser(t)),Lb.get(t)}(t)}return xe(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=de(ve().mark((function e(t){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QS(this.auth,Kw(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JS(this.auth,Dx(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=de(ve().mark((function e(t){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QS(this.auth,Jx(this._delegate,t,HS)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=de(ve().mark((function e(t){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,BS(Dk(this.auth));case 2:return e.abrupt("return",f_(this._delegate,t,HS));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=de(ve().mark((function e(t){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QS(this.auth,Jw(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return JS(this.auth,function(e,t,n){return Rx.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return QS(this.auth,function(e,t,n){return Qx.apply(this,arguments)}(this._delegate,e,HS))}},{key:"reauthenticateWithRedirect",value:function(){var e=de(ve().mark((function e(t){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,BS(Dk(this.auth));case 2:return e.abrupt("return",c_(this._delegate,t,HS));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return yb.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=de(ve().mark((function e(t){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lw(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return xb(ot(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return xb(ot(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Mx.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return bb.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return gb.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();ZS.USER_MAP=new WeakMap;var eE=wg,tE=function(){function e(t,n){if(we(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;eE(r,"invalid-api-key",{appName:t.name});var i=[vk];if("undefined"!==typeof window){i=function(e,t){var n=zS();if(!(null===n||void 0===n?void 0:n.sessionStorage))return[];var r=mk(US,e,t);switch(n.sessionStorage.getItem(r)){case MS.NONE:return[vk];case MS.LOCAL:return[fx,qb];case MS.SESSION:return[qb];default:return[]}}(r,t.name);for(var a=0,o=[fx,Vb,qb];a<o.length;a++){var s=o[a];i.includes(s)||i.push(s)}}eE(r,"invalid-api-key",{appName:t.name});var u="undefined"!==typeof window?HS:void 0;this._delegate=n.initialize({options:{persistence:i,popupRedirectResolver:u}}),this._delegate._updateErrorMap(lg),this.linkUnderlyingAuth()}return xe(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?ZS.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Rk(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return ob.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return sb(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return ab.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=de(ve().mark((function e(t,n){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",QS(this._delegate,lb(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return mb.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=yw.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=de(ve().mark((function e(){var t;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return eE(OS(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,d_(this._delegate,HS);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",QS(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Dk(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=nE(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=nE(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return hb.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return ib.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=de(ve().mark((function e(t){var n,r;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:VS(this._delegate,t),e.t0=t,e.next=e.t0===MS.SESSION?4:e.t0===MS.LOCAL?6:e.t0===MS.NONE?11:13;break;case 4:return n=qb,e.abrupt("break",14);case 6:return e.next=8,Sg(fx)._isAvailable();case 8:return r=e.sent,n=r?fx:Vb,e.abrupt("break",14);case 11:return n=vk,e.abrupt("break",14);case 13:return e.abrupt("return",vg("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return QS(this._delegate,function(e){return Dw.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return QS(this._delegate,Yw(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return QS(this._delegate,function(e,t){return eb.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return QS(this._delegate,function(e,t,n){return Yw(ot(e),gw.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return QS(this._delegate,function(e,t,n){return db.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return JS(this._delegate,function(e,t,n){return Px.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=de(ve().mark((function e(t){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return eE(OS(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",QS(this._delegate,Gx(this._delegate,t,HS)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=de(ve().mark((function e(t){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return eE(OS(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,BS(this._delegate);case 3:return e.abrupt("return",s_(this._delegate,t,HS));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return cb.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function nE(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&ZS.getOrCreate(e))},error:t,complete:n}}tE.Persistence=MS;var rE=function(){function e(){we(this,e),this.providerId="phone",this._delegate=new Fx(YS(rn.auth()))}return xe(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Fx.credential(e,t)}}]),e}();rE.PHONE_SIGN_IN_METHOD=Fx.PHONE_SIGN_IN_METHOD,rE.PROVIDER_ID=Fx.PROVIDER_ID;var iE=wg,aE=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rn.app();we(this,e),iE(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Cx(t,n,i.auth()),this.type=this._delegate.type}return xe(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new ct("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new tE(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:rg,PASSWORD_RESET:ig,RECOVER_EMAIL:ag,REVERT_SECOND_FACTOR_ADDITION:og,VERIFY_AND_CHANGE_EMAIL:sg,VERIFY_EMAIL:ug}},EmailAuthProvider:gw,FacebookAuthProvider:xw,GithubAuthProvider:Sw,GoogleAuthProvider:_w,OAuthProvider:bw,SAMLAuthProvider:Tw,PhoneAuthProvider:rE,PhoneMultiFactorGenerator:$_,RecaptchaVerifier:aE,TwitterAuthProvider:Iw,Auth:tE,AuthCredential:Mk,Error:Ge}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.4")}(rn);var oE="firebasestorage.googleapis.com",sE=function(e){Ee(n,e);var t=Ae(n);function n(e,r){var i;return we(this,n),(i=t.call(this,uE(e),"Firebase Storage: ".concat(r," (").concat(uE(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(_e(i),n.prototype),i}return xe(n,[{key:"_codeEquals",value:function(e){return uE(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Ge);function uE(e){return"storage/"+e}function cE(){return new sE("unknown","An unknown error occurred, please check the error payload for server response.")}function lE(){return new sE("canceled","User canceled the upload/download.")}function fE(){return new sE("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function hE(e){return new sE("invalid-argument",e)}function dE(){return new sE("app-deleted","The Firebase app was deleted.")}function pE(e){return new sE("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vE(e,t){return new sE("invalid-format","String does not match format '"+e+"': "+t)}function mE(e){throw new sE("internal-error","Internal error: "+e)}var yE,gE=function(){function e(t,n){we(this,e),this.bucket=t,this.path_=n}return xe(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new sE("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===oE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new sE("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),kE=function(){function e(t){we(this,e),this.promise_=Promise.reject(t)}return xe(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function wE(e){return"string"===typeof e||e instanceof String}function bE(e){return xE()&&e instanceof Blob}function xE(){return"undefined"!==typeof Blob}function _E(e,t,n,r){if(r<t)throw hE("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw hE("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function SE(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function EE(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(yE||(yE={}));var TE=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this;we(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return xe(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=cE();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?dE():lE());else i(new sE("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new IE(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new IE(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===yE.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new IE(o,r))}else{var s=r.getErrorCode()===yE.ABORT;t(!1,new IE(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),IE=xe((function e(t,n,r){we(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function CE(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function NE(){for(var e=CE(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(xE())return new Blob(n);throw new sE("unsupported-environment","This browser doesn't seem to support creating Blobs")}var AE={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},PE=xe((function e(t,n){we(this,e),this.data=t,this.contentType=n||null}));function DE(e,t){switch(e){case AE.RAW:return new PE(OE(t));case AE.BASE64:case AE.BASE64URL:return new PE(RE(e,t));case AE.DATA_URL:return new PE(function(e){var t=new jE(e);return t.base64?RE(AE.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw vE(AE.DATA_URL,"Malformed data URL.")}return OE(t)}(t.rest)}(t),new jE(t).contentType)}throw cE()}function OE(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function RE(e,t){switch(e){case AE.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw vE(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case AE.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw vE(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw vE(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var jE=xe((function e(t){we(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw vE(AE.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var LE=function(){function e(t,n){we(this,e);var r=0,i="";bE(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return xe(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(bE(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(xE()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(NE.apply(null,i))}var a=n.map((function(e){return wE(e)?DE(AE.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function ME(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function FE(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function UE(e,t){return t}var VE=xe((function e(t,n,r,i){we(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||UE})),BE=null;function qE(){if(BE)return BE;var e=[];e.push(new VE("bucket")),e.push(new VE("generation")),e.push(new VE("metageneration")),e.push(new VE("name","fullPath",!0));var t=new VE("name");t.xform=function(e,t){return function(e){return!wE(e)||e.length<2?e:FE(e)}(t)},e.push(t);var n=new VE("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new VE("timeCreated")),e.push(new VE("updated")),e.push(new VE("md5Hash",null,!0)),e.push(new VE("cacheControl",null,!0)),e.push(new VE("contentDisposition",null,!0)),e.push(new VE("contentEncoding",null,!0)),e.push(new VE("contentLanguage",null,!0)),e.push(new VE("contentType",null,!0)),e.push(new VE("metadata","customMetadata",!0)),BE=e}function zE(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new gE(n,r);return t._makeStorageReference(i)}})}(r,e),r}function WE(e,t,n){var r=ME(t);return null===r?null:zE(e,r,n)}function HE(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function YE(e,t,n){var r=ME(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=fe(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),s=e._makeStorageReference(new gE(t,o));r.prefixes.push(s)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var u,c=fe(n.items);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=e._makeStorageReference(new gE(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var GE=xe((function e(t,n,r,i){we(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function KE(e){if(!e)throw cE()}function QE(e,t){return function(n,r){var i=WE(e,r,t);return KE(null!==i),i}}function JE(e,t){return function(n,r){var i=WE(e,r,t);return KE(null!==i),function(e,t,n,r){var i=ME(t);if(null===i)return null;if(!wE(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return SE("/b/"+o(i)+"/o/"+o(a),n,r)+EE({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function XE(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new sE("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new sE("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new sE("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new sE("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function $E(e){var t=XE(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new sE("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function ZE(e,t,n){var r=SE(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new GE(r,"GET",QE(e,n),i);return a.errorHandler=$E(t),a}function eT(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=SE(t.bucketOnlyServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,u=new GE(o,"GET",function(e,t){return function(n,r){var i=YE(e,t,r);return KE(null!==i),i}}(e,t.bucket),s);return u.urlParams=a,u.errorHandler=XE(t),u}function tT(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function nT(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=tT(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+HE(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=LE.getBlob(c,r,l);if(null===f)throw fE();var h={name:u.fullPath},d=SE(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new GE(d,"POST",QE(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=XE(t),v}var rT=xe((function e(t,n,r,i){we(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function iT(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){KE(!1)}return KE(!!n&&-1!==(t||["active"]).indexOf(n)),n}var aT=262144;function oT(e,t,n,r,i,a,o,s){var u=new rT(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new sE("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw fE();var v=t.maxUploadRetryTime,m=new GE(n,"POST",(function(e,n){var i,o=iT(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===o?QE(t,a)(e,n):null,new rT(s,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=XE(e),m}var sT={STATE_CHANGED:"state_changed"},uT={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function cT(e){switch(e){case"running":case"pausing":case"canceling":return uT.RUNNING;case"paused":return uT.PAUSED;case"success":return uT.SUCCESS;case"canceled":return uT.CANCELED;default:return uT.ERROR}}var lT=xe((function e(t,n,r){we(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function fT(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var hT=function(){function e(){var t=this;we(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=yE.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=yE.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=yE.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return xe(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw mE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw mE("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw mE("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw mE("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw mE("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),dT=function(e){Ee(n,e);var t=Ae(n);function n(){return we(this,n),t.apply(this,arguments)}return xe(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(hT);function pT(){return new dT}var vT=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;we(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=qE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return xe(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=l(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=tT(t,r,i),s={name:o.fullPath},u=SE(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=HE(o,n),f=e.maxUploadRetryTime,h=new GE(u,"POST",(function(e){var t;iT(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){KE(!1)}return KE(wE(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=XE(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,pT,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new GE(n,"POST",(function(e){var t=iT(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){KE(!1)}n||KE(!1);var i=Number(n);return KE(!isNaN(i)),new rT(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=XE(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,pT,n,r);e._request=a,a.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=aT*this._chunkMultiplier,n=new rT(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=oT(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,pT,i,a);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){aT*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=ZE(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,pT,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=nT(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,pT,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=lE(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=cT(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new lT(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(cT(this._state)){case uT.SUCCESS:fT(this._resolve.bind(null,this.snapshot))();break;case uT.CANCELED:case uT.ERROR:fT(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(cT(this._state)){case uT.RUNNING:case uT.PAUSED:e.next&&fT(e.next.bind(e,this.snapshot))();break;case uT.SUCCESS:e.complete&&fT(e.complete.bind(e))();break;default:e.error&&fT(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),mT=function(){function e(t,n){we(this,e),this._service=t,this._location=n instanceof gE?n:gE.makeFromUrl(n,t.host)}return xe(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new gE(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return FE(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new gE(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw pE(e)}}]),e}();function yT(e,t,n){return gT.apply(this,arguments)}function gT(){return(gT=de(ve().mark((function e(t,n,r){var i,a,o,s;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,kT(t,o);case 3:if(s=e.sent,(i=n.prefixes).push.apply(i,ut(s.prefixes)),(a=n.items).push.apply(a,ut(s.items)),null==s.nextPageToken){e.next=9;break}return e.next=9,yT(t,n,s.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kT(e,t){null!=t&&"number"===typeof t.maxResults&&_E("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=eT(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,pT)}function wT(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=SE(t.fullServerUrl(),e.host,e._protocol),a=HE(n,r),o=e.maxOperationRetryTime,s=new GE(i,"PATCH",QE(e,r),o);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=a,s.errorHandler=$E(t),s}(e.storage,e._location,t,qE());return e.storage.makeRequestWithTokens(n,pT)}function bT(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=SE(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new GE(r,"GET",JE(e,n),i);return a.errorHandler=$E(t),a}(e.storage,e._location,qE());return e.storage.makeRequestWithTokens(t,pT).then((function(e){if(null===e)throw new sE("no-download-url","The given file does not have any download URLs.");return e}))}function xT(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=SE(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new GE(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=$E(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,pT)}function _T(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new gE(e._location.bucket,n);return new mT(e.storage,r)}function ST(e,t){if(e instanceof CT){var n=e;if(null==n._bucket)throw new sE("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new mT(n,n._bucket);return null!=t?ST(r,t):r}return void 0!==t?_T(e,t):e}function ET(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof CT)return new mT(e,t);throw hE("To use ref(service, url), the first argument must be a Storage instance.")}return ST(e,t)}function TT(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:gE.makeFromBucketSpec(n,e)}function IT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Ue(i,e.app.options.projectId))}var CT=function(){function e(t,n,r,i,a){we(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=oE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?gE.makeFromBucketSpec(i,this._host):TT(this._host,this.app.options)}return xe(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=gE.makeFromBucketSpec(this._url,e):this._bucket=TT(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){_E("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){_E("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=de(ve().mark((function e(){var t,n;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=de(ve().mark((function e(){var t,n;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new mT(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new kE(dE());var a=function(e,t,n,r,i,a){var o=EE(e.urlParams),s=e.url+o,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new TE(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=de(ve().mark((function e(t,n){var r,i,a,o;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=l(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),NT="@firebase/storage",AT="0.9.0",PT="storage";function DT(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new vT(e,new LE(t),n)}(e=ot(e),t,n)}function OT(e){return function(e){e._throwIfRoot("getMetadata");var t=ZE(e.storage,e._location,qE());return e.storage.makeRequestWithTokens(t,pT)}(e=ot(e))}function RT(e){return function(e){var t={prefixes:[],items:[]};return yT(e,t).then((function(){return t}))}(e=ot(e))}function jT(e,t){return ET(e=ot(e),t)}function LT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};IT(e,t,n,r)}function MT(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new CT(r,i,a,n,qt)}Ot(new ct(PT,MT,"PUBLIC").setMultipleInstances(!0)),Kt(NT,AT,""),Kt(NT,AT,"esm2017");var FT=function(){function e(t,n,r){we(this,e),this._delegate=t,this.task=n,this.ref=r}return xe(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),UT=function(){function e(t,n){we(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return xe(e,[{key:"snapshot",get:function(){return new FT(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new FT(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new FT(e,i,i._ref))}:{next:t.next?function(e){return t.next(new FT(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),VT=function(){function e(t,n){we(this,e),this._delegate=t,this._service=n}return xe(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new BT(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new BT(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),BT=function(){function e(t,n){we(this,e),this._delegate=t,this.storage=n}return xe(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return _T(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new UT(DT(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:AE.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=DE(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new UT(new vT(this._delegate,new LE(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return RT(this._delegate).then((function(t){return new VT(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return kT(e=ot(e),t)}(this._delegate,e||void 0).then((function(e){return new VT(e,t.storage)}))}},{key:"getMetadata",value:function(){return OT(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return wT(e=ot(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return bT(ot(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),xT(ot(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw pE(e)}}]),e}(),qT=function(){function e(t,n){we(this,e),this.app=t,this._delegate=n}return xe(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(zT(e))throw hE("ref() expected a child path but got a URL, use refFromURL instead.");return new BT(jT(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!zT(e))throw hE("refFromURL() expected a full URL but got a child path, use ref() instead.");try{gE.makeFromUrl(e,this._delegate.host)}catch(t){throw hE("refFromUrl() expected a valid full URL but got an invalid one.")}return new BT(jT(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};LT(this._delegate,e,t,n)}}]),e}();function zT(e){return/^[A-Za-z]+:\/\//.test(e)}function WT(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new qT(r,i)}!function(e){var t={TaskState:uT,TaskEvent:sT,StringFormat:AE,Storage:qT,Reference:BT};e.INTERNAL.registerComponent(new ct("storage-compat",WT,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.8")}(rn);var HT=rn.initializeApp({apiKey:"AIzaSyAQjokVRnw9HHBg-gOeDcg3aSpjglhDudA",authDomain:"ecommerce-ab127.firebaseapp.com",projectId:"ecommerce-ab127",storageBucket:"ecommerce-ab127.appspot.com",messagingSenderId:"341446281727",appId:"1:341446281727:web:7dbc2047deb2ae1eb9ffca"}).firestore(),YT=rn.auth(),GT=rn.storage(),KT=n(24),QT=n(376);function JT(){U();var e=l((0,i.useState)(!1),2),t=e[0],n=e[1],r=l(ke(),2),a=r[0],o=a.basket,s=a.user,u=(r[1],l((0,i.useState)([]),2)),c=(u[0],u[1],l((0,i.useState)(""),2)),f=(c[0],c[1],l((0,i.useState)([]),2)),h=(f[0],f[1],function(){s&&YT.signOut()});(0,i.useEffect)(de(ve().mark((function e(){return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s?HT.collection("Farmers Account").doc(s.email).collection("farmer").get().then((function(e){e.docs.forEach((function(e){var t;"farmer"==(null===(t=e.data())||void 0===t?void 0:t.type)?n(!0):n(!1)}))})):n(!1);case 1:case"end":return e.stop()}}),e)}))),[s]),(0,i.useEffect)((function(){var e=document.querySelector(".burgerIcon"),t=document.querySelector(".burgerLinks");document.querySelectorAll(".burgerMenu > div:nth-of-type(1) > div");e.addEventListener("click",(function(){t.classList.toggle("burgerLinksactive")})),document.querySelectorAll(".Burgernavlinks > a").forEach((function(e){e.addEventListener("click",(function(){t.classList.contains("burgerLinksactive")&&t.classList.remove("burgerLinksactive")}))}))}),[]);return(0,i.useEffect)((function(){}),[]),(0,me.jsx)("div",{className:"headerContainer",children:(0,me.jsxs)("div",{className:"header",children:[(0,me.jsx)("div",{}),(0,me.jsx)("div",{class:"burgerLinks",children:(0,me.jsxs)("div",{className:"Burgernavbar",children:[(0,me.jsx)("div",{className:"burgerLinksLoginDiv",children:(0,me.jsx)("span",{style:{color:"white"},children:s?s.email:"Guest"})}),(0,me.jsxs)("ul",{className:"Burgernavlinks",children:[(0,me.jsxs)(se,{to:"/",children:[(0,me.jsx)("i",{class:"fa fa-home","aria-hidden":"true"}),(0,me.jsx)("li",{children:"Home"})]}),(0,me.jsxs)(se,{to:"/shop",children:[(0,me.jsx)("i",{class:"fa fa-shopping-bag","aria-hidden":"true"}),(0,me.jsx)("li",{children:"Shop"})]}),(0,me.jsxs)(se,{to:"/aboutuspage",children:[(0,me.jsx)("i",{class:"fa fa-user","aria-hidden":"true"}),(0,me.jsx)("li",{children:"About"})]}),(0,me.jsxs)(se,{to:"/orders",children:[(0,me.jsx)("i",{class:"fa fa-first-order","aria-hidden":"true"}),(0,me.jsx)("li",{children:"Orders"})]}),(0,me.jsxs)(se,{to:"/contact",children:[(0,me.jsx)("i",{class:"fa fa-phone","aria-hidden":"true"}),(0,me.jsx)("li",{children:"Contact Us"})]}),!s&&(0,me.jsxs)(se,{to:"/farmer",children:[(0,me.jsx)("i",{class:"fa fa-share-alt-square","aria-hidden":"true"}),(0,me.jsx)("li",{children:"Sell"})]}),s&&"adminxya@gmail.com"===s.email&&(0,me.jsxs)(se,{to:"/addProducts",children:[(0,me.jsx)("i",{class:"fa fa-product-hunt","aria-hidden":"true"}),(0,me.jsx)("li",{children:"Add Products"})]}),s&&"adminxya@gmail.com"===s.email&&(0,me.jsxs)(se,{to:"/admin",children:[(0,me.jsx)("i",{class:"fa fa-user-circle","aria-hidden":"true"}),(0,me.jsx)("li",{children:"Admin"})]}),s&&"adminxya@gmail.com"===s.email&&(0,me.jsxs)(se,{to:"/addrequest",children:[(0,me.jsx)("i",{class:"fa fa-plus","aria-hidden":"true"}),(0,me.jsx)("li",{children:"ADD REQUEST"})]}),s&&t&&(0,me.jsx)(se,{to:"/farmerDashBoard",children:(0,me.jsx)("li",{children:"Farmer"})})]})]})}),(0,me.jsx)(se,{to:"/",children:(0,me.jsx)("img",{className:"header_logo",src:KT,alt:""})}),(0,me.jsx)("div",{className:"burgerRightSide",children:(0,me.jsxs)("div",{className:"BurgerheaderOptions",children:[(0,me.jsx)("div",{className:"Burgerheader_login",children:(0,me.jsx)("div",{className:"BurgerheaderSignIn",children:(0,me.jsxs)(se,{to:!s&&"/signin",children:[(0,me.jsx)("i",{class:"fa fa-user","aria-hidden":"true"}),(0,me.jsx)("span",{onClick:h,children:s?"Sign Out":"Sign In"})]})})}),(0,me.jsx)("div",{className:"Burgerheader_login",children:(0,me.jsxs)(se,{to:"/checkout",children:[(0,me.jsx)("span",{children:(0,me.jsx)("img",{src:QT,alt:""})}),(0,me.jsx)("span",{children:" "+o.length})]})})]})}),(0,me.jsx)("div",{className:"navbar",children:(0,me.jsxs)("ul",{className:"navlinks",children:[(0,me.jsx)(se,{to:"/",children:(0,me.jsx)("li",{children:"Home"})}),(0,me.jsx)(se,{to:"/shop",children:(0,me.jsx)("li",{children:"Shop"})}),(0,me.jsx)(se,{to:"/aboutuspage",children:(0,me.jsx)("li",{children:"About"})}),(0,me.jsx)(se,{to:"/orders",children:(0,me.jsx)("li",{children:"Orders"})}),(0,me.jsx)(se,{to:"/contact",children:(0,me.jsx)("li",{children:"Contact Us"})}),s&&"adminxya@gmail.com"===s.email&&(0,me.jsx)(se,{to:"/addProducts",children:(0,me.jsx)("li",{children:"Add Products"})}),s&&"adminxya@gmail.com"===s.email&&(0,me.jsx)(se,{to:"/admin",children:(0,me.jsx)("li",{children:"Admin"})}),s&&"adminxya@gmail.com"===s.email&&(0,me.jsx)(se,{to:"/addrequest",children:(0,me.jsx)("li",{children:"ADD REQUEST"})}),s&&t&&(0,me.jsx)(se,{to:"/farmerDashBoard",children:(0,me.jsx)("li",{children:"Farmer"})})]})}),(0,me.jsxs)("div",{className:"headerOptions",children:[(0,me.jsxs)("div",{className:"header_login",children:[(0,me.jsx)("span",{children:s?s.email:"Guest"}),(0,me.jsx)("div",{className:"headerSignIn",children:(0,me.jsx)(se,{to:!s&&"/signin",children:(0,me.jsx)("span",{onClick:h,children:s?"Sign Out":"Sign In"})})})]}),(0,me.jsx)("div",{className:"header_login",children:(0,me.jsxs)(se,{to:"/checkout",children:[(0,me.jsx)("span",{children:(0,me.jsx)("img",{src:QT,alt:""})}),(0,me.jsx)("span",{children:" "+o.length})]})})]})]})})}function XT(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var $T=["children","className"],ZT="splide",eI="data-".concat(ZT),tI={CREATED:1,MOUNTED:2,IDLE:3,MOVING:4,DESTROYED:5};function nI(e){e.length=0}function rI(e){return!sI(e)&&"object"===typeof e}function iI(e){return Array.isArray(e)}function aI(e){return"string"===typeof e}function oI(e){return"undefined"===typeof e}function sI(e){return null===e}function uI(e){return e instanceof HTMLElement}function cI(e){return iI(e)?e:[e]}function lI(e,t){cI(e).forEach(t)}function fI(e,t){return e.indexOf(t)>-1}function hI(e,t){return e.push.apply(e,ut(cI(t))),e}var dI=Array.prototype;function pI(e,t,n){return dI.slice.call(e,t,n)}function vI(e,t,n){e&&lI(t,(function(t){t&&e.classList[n?"add":"remove"](t)}))}function mI(e,t){vI(e,aI(t)?t.split(" "):t,!0)}function yI(e,t){lI(t,e.appendChild.bind(e))}function gI(e,t){lI(e,(function(e){var n=t.parentNode;n&&n.insertBefore(e,t)}))}function kI(e,t){return uI(e)&&(e.msMatchesSelector||e.matches).call(e,t)}function wI(e,t){return e?pI(e.children).filter((function(e){return kI(e,t)})):[]}function bI(e,t){return t?wI(e,t)[0]:e.firstElementChild}function xI(e,t,n){if(e){var r=Object.keys(e);r=n?r.reverse():r;for(var i=0;i<r.length;i++){var a=r[i];if("__proto__"!==a&&!1===t(e[a],a))break}}return e}function _I(e){return pI(arguments,1).forEach((function(t){xI(t,(function(n,r){e[r]=t[r]}))})),e}function SI(e,t){return xI(t,(function(t,n){iI(t)?e[n]=t.slice():rI(t)?e[n]=SI(rI(e[n])?e[n]:{},t):e[n]=t})),e}function EI(e,t){e&&lI(t,(function(t){e.removeAttribute(t)}))}function TI(e,t,n){rI(t)?xI(t,(function(t,n){TI(e,n,t)})):sI(n)?EI(e,t):e.setAttribute(t,String(n))}function II(e,t,n){var r=document.createElement(e);return t&&(aI(t)?mI(r,t):TI(r,t)),n&&yI(n,r),r}function CI(e,t,n){if(oI(n))return getComputedStyle(e)[t];if(!sI(n)){var r=e.style;n="".concat(n),r[t]!==n&&(r[t]=n)}}function NI(e,t){CI(e,"display",t)}function AI(e,t){return e.getAttribute(t)}function PI(e,t){return e&&e.classList.contains(t)}function DI(e){return e.getBoundingClientRect()}function OI(e){lI(e,(function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}))}function RI(e){return bI((new DOMParser).parseFromString(e,"text/html").body)}function jI(e,t){e.preventDefault(),t&&(e.stopPropagation(),e.stopImmediatePropagation())}function LI(e,t){return e&&e.querySelector(t)}function MI(e,t){return pI(e.querySelectorAll(t))}function FI(e,t){vI(e,t,!1)}function UI(e){return aI(e)?e:e?"".concat(e,"px"):""}function VI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e)throw new Error("[".concat(ZT,"] ").concat(t))}function BI(e){setTimeout(e)}var qI=function(){};function zI(e){return requestAnimationFrame(e)}var WI=Math.min,HI=Math.max,YI=Math.floor,GI=Math.ceil,KI=Math.abs;function QI(e,t,n,r){var i=WI(t,n),a=HI(t,n);return r?i<e&&e<a:i<=e&&e<=a}function JI(e,t,n){var r=WI(t,n),i=HI(t,n);return WI(HI(r,e),i)}function XI(e){return+(e>0)-+(e<0)}function $I(e,t){return lI(t,(function(t){e=e.replace("%s","".concat(t))})),e}function ZI(e){return e<10?"0".concat(e):"".concat(e)}var eC={};var tC="mounted",nC="ready",rC="move",iC="moved",aC="shifted",oC="click",sC="active",uC="inactive",cC="visible",lC="hidden",fC="slide:keydown",hC="refresh",dC="updated",pC="resize",vC="resized",mC="repositioned",yC="drag",gC="dragging",kC="dragged",wC="scroll",bC="scrolled",xC="destroy",_C="arrows:mounted",SC="arrows:updated",EC="pagination:mounted",TC="pagination:updated",IC="navigation:mounted",CC="autoplay:play",NC="autoplay:playing",AC="autoplay:pause",PC="lazyload:loaded";function DC(e){var t=e.event,n={},r=[];function i(e,t,n){a(e,t,(function(e,t){r=r.filter((function(r){return!!(r[0]!==e||r[1]!==t||n&&r[2]!==n)||(e.removeEventListener(t,r[2],r[3]),!1)}))}))}function a(e,t,n){lI(e,(function(e){e&&t.split(" ").forEach(n.bind(null,e))}))}function o(){r=r.filter((function(e){return i(e[0],e[1])})),t.offBy(n)}return t.on(xC,o,n),{on:function(e,r,i){t.on(e,r,n,i)},off:function(e){t.off(e,n)},emit:t.emit,bind:function(e,t,n,i){a(e,t,(function(e,t){r.push([e,t,n,i]),e.addEventListener(t,n,i)}))},unbind:i,destroy:o}}function OC(e,t,n,r){var i,a,o=Date.now,s=0,u=!0,c=0;function l(){if(!u){var a=o()-i;if(a>=e?(s=1,i=o()):s=a/e,n&&n(s),1===s&&(t(),r&&++c>=r))return f();zI(l)}}function f(){u=!0}function h(){cancelAnimationFrame(a),s=0,a=0,u=!0}return{start:function(t){!t&&h(),i=o()-(t?s*e:0),u=!1,zI(l)},rewind:function(){i=o(),s=0,n&&n(s)},pause:f,cancel:h,set:function(t){e=t},isPaused:function(){return u}}}function RC(e,t){var n;return function(){var r=arguments,i=this;n||(n=OC(t||0,(function(){e.apply(i,r),n=null}),null,1)).start()}}var jC="ttb",LC={marginRight:["marginBottom","marginLeft"],autoWidth:["autoHeight"],fixedWidth:["fixedHeight"],paddingLeft:["paddingTop","paddingRight"],paddingRight:["paddingBottom","paddingLeft"],width:["height"],left:["top","right"],right:["bottom","left"],x:["y"],X:["Y"],Y:["X"],ArrowLeft:["ArrowUp","ArrowRight"],ArrowRight:["ArrowDown","ArrowLeft"]};var MC=ZT,FC="".concat(ZT,"__slider"),UC="".concat(ZT,"__track"),VC="".concat(ZT,"__list"),BC="".concat(ZT,"__slide"),qC="".concat(BC,"--clone"),zC="".concat(BC,"__container"),WC="".concat(ZT,"__arrows"),HC="".concat(ZT,"__arrow"),YC="".concat(HC,"--prev"),GC="".concat(HC,"--next"),KC="".concat(ZT,"__pagination"),QC="".concat(KC,"__page"),JC="".concat(ZT,"__progress"),XC="".concat(JC,"__bar"),$C="".concat(ZT,"__autoplay"),ZC="".concat(ZT,"__play"),eN="".concat(ZT,"__pause"),tN="".concat(ZT,"__spinner"),nN="is-active",rN="is-prev",iN="is-next",aN="is-visible",oN="is-loading",sN=[nN,aN,rN,iN,oN],uN={slide:BC,clone:qC,arrows:WC,arrow:HC,prev:YC,next:GC,pagination:KC,page:QC,spinner:tN};var cN="role",lN="aria-controls",fN="aria-current",hN="aria-label",dN="aria-hidden",pN="tabindex",vN="aria-orientation",mN=[cN,lN,fN,hN,dN,vN,pN,"disabled"],yN="slide",gN="loop",kN="fade";function wN(e,t,n,r){var i,a=DC(e),o=a.on,s=a.emit,u=a.bind,c=a.destroy,l=e.Components,f=e.root,h=e.options,d=h.isNavigation,p=h.updateOnMove,v=l.Direction.resolve,m=AI(r,"style"),y=n>-1,g=bI(r,".".concat(zC)),k=h.focusableNodes&&MI(r,h.focusableNodes);function w(){var i=y?n:t,a=$I(h.i18n.slideX,i+1),o=e.splides.map((function(e){return e.splide.root.id})).join(" ");TI(r,hN,a),TI(r,lN,o),TI(r,cN,"menuitem"),_(S())}function b(){i||x()}function x(){if(!i){var n=e.index;_(S()),function(e){var t=!e&&(!S()||y);TI(r,dN,t||null),TI(r,pN,!t&&h.slideFocus?0:null),k&&k.forEach((function(e){TI(e,pN,t?-1:null)}));e!==PI(r,aN)&&(vI(r,aN,e),s(e?cC:lC,E))}(function(){if(e.is(kN))return S();var t=DI(l.Elements.track),n=DI(r),i=v("left"),a=v("right");return YI(t[i])<=GI(n[i])&&YI(n[a])<=GI(t[a])}()),vI(r,rN,t===n-1),vI(r,iN,t===n+1)}}function _(e){e!==PI(r,nN)&&(vI(r,nN,e),d&&TI(r,fN,e||null),s(e?sC:uC,E))}function S(){var r=e.index;return r===t||h.cloneStatus&&r===n}var E={index:t,slideIndex:n,slide:r,container:g,isClone:y,mount:function(){y||(r.id="".concat(f.id,"-slide").concat(ZI(t+1))),u(r,"click keydown",(function(e){s("click"===e.type?oC:fC,E,e)})),o([hC,mC,aC,iC,bC],x),o(IC,w),p&&o(rC,b)},destroy:function(){i=!0,c(),FI(r,sN),EI(r,mN),TI(r,"style",m)},update:x,style:function(e,t,n){CI(n&&g||r,e,t)},isWithin:function(n,r){var i=KI(n-t);return y||!h.rewind&&!e.is(gN)||(i=WI(i,e.length-i)),i<=r}};return E}var bN="".concat(eI,"-interval");var xN={passive:!1,capture:!0},_N="touchmove mousemove",SN="touchend touchcancel mouseup";var EN=["Left","Right","Up","Down"],TN="keydown";var IN="".concat(eI,"-lazy"),CN="".concat(IN,"-srcset"),NN="[".concat(IN,"], [").concat(CN,"]");var AN=[" ","Enter","Spacebar"];var PN=Object.freeze({__proto__:null,Options:function(e,t,n){var r,i,a,o=RC(u);function s(e){e&&removeEventListener("resize",o)}function u(){var t,o=(t=function(e){return e[1].matches},pI(i).filter(t)[0]||[]);o[0]!==a&&function(t){var i=n.breakpoints[t]||r;i.destroy?(e.options=r,e.destroy("completely"===i.destroy)):(e.state.is(5)&&(s(!0),e.mount()),e.options=i)}(a=o[0])}return{setup:function(){try{SI(n,JSON.parse(AI(e.root,eI)))}catch(o){VI(!1,o.message)}r=SI({},n);var t=n.breakpoints;if(t){var a="min"===n.mediaQuery;i=Object.keys(t).sort((function(e,t){return a?+t-+e:+e-+t})).map((function(e){return[e,matchMedia("(".concat(a?"min":"max","-width:").concat(e,"px)"))]})),u()}},mount:function(){i&&addEventListener("resize",o)},destroy:s}},Direction:function(e,t,n){return{resolve:function(e,t){var r=n.direction;return LC[e]["rtl"!==r||t?r===jC?0:-1:1]||e},orient:function(e){return e*("rtl"===n.direction?1:-1)}}},Elements:function(e,t,n){var r,i,a,o,s=DC(e).on,u=e.root,c={},l=[];function f(){!function(){i=bI(u,".".concat(FC)),a=LI(u,".".concat(UC)),o=bI(a,".".concat(VC)),VI(a&&o,"A track/list element is missing."),hI(l,wI(o,".".concat(BC,":not(.").concat(qC,")")));var e=v(".".concat($C)),t=v(".".concat(WC));_I(c,{root:u,slider:i,track:a,list:o,slides:l,arrows:t,autoplay:e,prev:LI(t,".".concat(YC)),next:LI(t,".".concat(GC)),bar:LI(v(".".concat(JC)),".".concat(XC)),play:LI(e,".".concat(ZC)),pause:LI(e,".".concat(eN))})}(),function(){var e=u.id||(t=ZT,"".concat(t).concat(ZI(eC[t]=(eC[t]||0)+1)));var t;u.id=e,a.id=a.id||"".concat(e,"-track"),o.id=o.id||"".concat(e,"-list")}(),mI(u,r=m())}function h(){[u,a,o].forEach((function(e){EI(e,"style")})),nI(l),FI(u,r)}function d(){h(),f()}function p(){FI(u,r),mI(u,r=m())}function v(e){return bI(u,e)||bI(i,e)}function m(){return["".concat(MC,"--").concat(n.type),"".concat(MC,"--").concat(n.direction),n.drag&&"".concat(MC,"--draggable"),n.isNavigation&&"".concat(MC,"--nav"),nN]}return _I(c,{setup:f,mount:function(){s(hC,d,8),s(dC,p)},destroy:h})},Slides:function(e,t,n){var r=DC(e),i=r.on,a=r.emit,o=r.bind,s=t.Elements,u=s.slides,c=s.list,l=[];function f(){u.forEach((function(e,t){p(e,t,-1)}))}function h(){m((function(e){e.destroy()})),nI(l)}function d(){h(),f()}function p(t,n,r){var i=wN(e,n,r,t);i.mount(),l.push(i)}function v(e){return e?y((function(e){return!e.isClone})):l}function m(e,t){v(t).forEach(e)}function y(e){return l.filter("function"===typeof e?e:function(t){return aI(e)?kI(t.slide,e):fI(cI(e),t.index)})}return{mount:function(){f(),i(hC,d),i([tC,hC],(function(){l.sort((function(e,t){return e.index-t.index}))}))},destroy:h,update:function(){m((function(e){e.update()}))},register:p,get:v,getIn:function(e){var r=t.Controller,i=r.toIndex(e),a=r.hasFocus()?1:n.perPage;return y((function(e){return QI(e.index,i,i+a-1)}))},getAt:function(e){return y(e)[0]},add:function(e,t){lI(e,(function(e){if(aI(e)&&(e=RI(e)),uI(e)){var r=u[t];r?gI(e,r):yI(c,e),mI(e,n.classes.slide),function(e,t){var n=MI(e,"img"),r=n.length;r?n.forEach((function(e){o(e,"load error",(function(){--r||t()}))})):t()}(e,a.bind(null,pC))}})),a(hC)},remove:function(e){OI(y(e).map((function(e){return e.slide}))),a(hC)},forEach:m,filter:y,style:function(e,t,n){m((function(r){r.style(e,t,n)}))},getLength:function(e){return e?u.length:l.length},isEnough:function(){return l.length>n.perPage}}},Layout:function(e,t,n){var r,i,a=DC(e),o=a.on,s=a.bind,u=a.emit,c=t.Slides,l=t.Direction.resolve,f=t.Elements,h=f.root,d=f.track,p=f.list,v=c.getAt;function m(){i=null,r=n.direction===jC,CI(h,"maxWidth",UI(n.width)),CI(d,l("paddingLeft"),g(!1)),CI(d,l("paddingRight"),g(!0)),y()}function y(){var e=DI(h);i&&i.width===e.width&&i.height===e.height||(CI(d,"height",function(){var e="";r&&(VI(e=k(),"height or heightRatio is missing."),e="calc(".concat(e," - ").concat(g(!1)," - ").concat(g(!0),")"));return e}()),c.style(l("marginRight"),UI(n.gap)),c.style("width",(n.autoWidth?"":UI(n.fixedWidth)||(r?"":w()))||null),c.style("height",UI(n.fixedHeight)||(r?n.autoHeight?"":w():k())||null,!0),i=e,u(vC))}function g(e){var t=n.padding,r=l(e?"right":"left");return t&&UI(t[r]||(rI(t)?0:t))||"0px"}function k(){return UI(n.height||DI(p).width*n.heightRatio)}function w(){var e=UI(n.gap);return"calc((100%".concat(e&&" + ".concat(e),")/").concat(n.perPage||1).concat(e&&" - ".concat(e),")")}function b(e,t){var n=v(e);if(n){var r=DI(n.slide)[l("right")],i=DI(p)[l("left")];return KI(r-i)+(t?0:x())}return 0}function x(){var e=v(0);return e&&parseFloat(CI(e.slide,l("marginRight")))||0}return{mount:function(){m(),s(window,"resize load",RC(u.bind(this,pC))),o([dC,hC],m),o(pC,y)},listSize:function(){return DI(p)[l("width")]},slideSize:function(e,t){var n=v(e||0);return n?DI(n.slide)[l("width")]+(t?0:x()):0},sliderSize:function(){return b(e.length-1,!0)-b(-1,!0)},totalSize:b,getPadding:function(e){return parseFloat(CI(d,l("padding".concat(e?"Right":"Left"))))||0}}},Clones:function(e,t,n){var r,i=DC(e),a=i.on,o=i.emit,s=t.Elements,u=t.Slides,c=t.Direction.resolve,l=[];function f(){(r=v())&&(!function(t){var r=u.get().slice(),i=r.length;if(i){for(;r.length<t;)hI(r,r);hI(r.slice(-t),r.slice(0,t)).forEach((function(a,o){var c=o<t,f=function(t,r){var i=t.cloneNode(!0);return mI(i,n.classes.clone),i.id="".concat(e.root.id,"-clone").concat(ZI(r+1)),i}(a.slide,o);c?gI(f,r[0].slide):yI(s.list,f),hI(l,f),u.register(f,o-t+(c?0:i),a.index)}))}}(r),o(pC))}function h(){OI(l),nI(l)}function d(){h(),f()}function p(){r<v()&&o(hC)}function v(){var t=n.clones;if(e.is(gN)){if(!t){var r=function(e,t){if(aI(t)){var n=II("div",{style:"width: ".concat(t,"; position: absolute;")},e);t=DI(n).width,OI(n)}return t}(s.list,n[c("fixedWidth")]);t=(r&&GI(DI(s.track)[c("width")]/r)||n[c("autoWidth")]&&e.length||n.perPage)*(n.drag?(n.flickMaxPages||1)+1:2)}}else t=0;return t}return{mount:function(){f(),a(hC,d),a([dC,pC],p)},destroy:h}},Move:function(e,t,n){var r,i=DC(e),a=i.on,o=i.emit,s=t.Layout,u=s.slideSize,c=s.getPadding,l=s.totalSize,f=s.listSize,h=s.sliderSize,d=t.Direction,p=d.resolve,v=d.orient,m=t.Elements,y=m.list,g=m.track;function k(){T()||(t.Scroll.cancel(),w(e.index),o(mC))}function w(e){b(_(e,!0))}function b(t,n){if(!e.is(kN)){var r=n?t:function(t){if(e.is(gN)){var n=v(t-S()),r=I(!1,t)&&n<0,i=I(!0,t)&&n>0;(r||i)&&(t=x(t,i))}return t}(t);y.style.transform="translate".concat(p("X"),"(").concat(r,"px)"),t!==r&&o(aC)}}function x(e,t){var n=e-E(t),r=h();return e-=v(r*(GI(KI(n)/r)||1))*(t?1:-1)}function _(t,r){var i=v(l(t-1)-function(e){var t=n.focus;return"center"===t?(f()-u(e,!0))/2:+t*u(e)||0}(t));return r?function(t){n.trimSpace&&e.is(yN)&&(t=JI(t,0,v(h()-f())));return t}(i):i}function S(){var e=p("left");return DI(y)[e]-DI(g)[e]+v(c(!1))}function E(e){return _(e?t.Controller.getEnd():0,!!n.trimSpace)}function T(){return e.state.is(4)&&n.waitForTransition}function I(e,t){t=oI(t)?S():t;var n=!0!==e&&v(t)<v(E(!1)),r=!1!==e&&v(t)>v(E(!0));return n||r}return{mount:function(){r=t.Transition,a([tC,vC,dC,hC],k)},destroy:function(){EI(y,"style")},move:function(i,a,s,u){if(!T()){var c=e.state.set,l=S();i!==a&&(r.cancel(),b(x(l,i>a),!0)),c(4),o(rC,a,s,i),r.start(a,(function(){c(3),o(iC,a,s,i),"move"===n.trimSpace&&i!==s&&l===S()?t.Controller.go(i>s?">":"<",!1,u):u&&u()}))}},jump:w,translate:b,shift:x,cancel:function(){b(S()),r.cancel()},toIndex:function(e){for(var n=t.Slides.get(),r=0,i=1/0,a=0;a<n.length;a++){var o=n[a].index,s=KI(_(o,!0)-e);if(!(s<=i))break;i=s,r=o}return r},toPosition:_,getPosition:S,getLimit:E,isBusy:T,exceededLimit:I}},Controller:function(e,t,n){var r,i,a,o=DC(e).on,s=t.Move,u=s.getPosition,c=s.getLimit,f=t.Slides,h=f.isEnough,d=f.getLength,p=e.is(gN),v=e.is(yN),m=n.start||0,y=m;function g(){r=d(!0),i=n.perMove,a=n.perPage,m=JI(m,0,r-1)}function k(e,n,r,i,a){var o=n?e:C(e);t.Scroll.scroll(n||r?s.toPosition(o,!0):e,i,(function(){N(s.toIndex(s.getPosition())),a&&a()}))}function w(e){return x(!1,e)}function b(e){return x(!0,e)}function x(e,t){var n=i||(A()?1:a),r=_(m+n*(e?-1:1),m);return-1===r&&v&&!function(e,t,n){return KI(e-t)<n}(u(),c(!e),1)?e?0:S():t?r:E(r)}function _(e,t,o){if(h()){var s=S();e<0||e>s?e=QI(0,e,t,!0)||QI(s,t,e,!0)?T(I(e)):p?i||A()?e:e<0?-(r%a||a):r:n.rewind?e<0?s:0:-1:o||e===t||(e=i?e:T(I(t)+(e<t?-1:1)))}else e=-1;return e}function S(){var e=r-a;return(A()||p&&i)&&(e=r-1),HI(e,0)}function E(e){return p?h()?e%r+(e<0?r:0):-1:e}function T(e){return JI(A()?e:a*e,0,S())}function I(e){return A()||(e=QI(e,r-a,r-1)?r-1:e,e=YI(e/a)),e}function C(e){var t=s.toIndex(e);return v?JI(t,0,S()):t}function N(e){e!==m&&(y=m,m=e)}function A(){return!oI(n.focus)||n.isNavigation}return{mount:function(){g(),o([dC,hC],g,9)},go:function(e,t,r){var i=function(e){var t=m;if(aI(e)){var n=l(e.match(/([+\-<>])(\d+)?/)||[],3),r=n[1],i=n[2];"+"===r||"-"===r?t=_(m+ +"".concat(r).concat(+i||1),m,!0):">"===r?t=i?T(+i):w(!0):"<"===r&&(t=b(!0))}else t=p?e:JI(e,0,S());return t}(e);if(n.useScroll)k(i,!0,!0,n.speed,r);else{var a=E(i);a>-1&&!s.isBusy()&&(t||a!==m)&&(N(a),s.move(i,a,y,r))}},scroll:k,getNext:w,getPrev:b,getAdjacent:x,getEnd:S,setIndex:N,getIndex:function(e){return e?y:m},toIndex:T,toPage:I,toDest:C,hasFocus:A}},Arrows:function(e,t,n){var r,i=DC(e),a=i.on,o=i.bind,s=i.emit,u=n.classes,c=n.i18n,l=t.Elements,f=t.Controller,h=l.arrows,d=l.prev,p=l.next,v={};function m(){if(n.arrows&&(d&&p||(h=II("div",u.arrows),d=y(!0),p=y(!1),r=!0,yI(h,[d,p]),gI(h,bI("slider"===n.arrows&&l.slider||e.root)))),d&&p)if(v.prev)NI(h,!1===n.arrows?"none":"");else{var t=l.track.id;TI(d,lN,t),TI(p,lN,t),v.prev=d,v.next=p,function(){var e=f.go;a([tC,iC,dC,hC,bC],g),o(p,"click",(function(){e(">",!0)})),o(d,"click",(function(){e("<",!0)}))}(),s(_C,d,p)}}function y(e){return RI('<button class="'.concat(u.arrow," ").concat(e?u.prev:u.next,'" type="button"><svg xmlns="').concat("http://www.w3.org/2000/svg",'" viewBox="0 0 ').concat(40," ").concat(40,'" width="').concat(40,'" height="').concat(40,'"><path d="').concat(n.arrowPath||"m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z",'" />'))}function g(){var t=e.index,n=f.getPrev(),r=f.getNext(),i=n>-1&&t<n?c.last:c.prev,a=r>-1&&t>r?c.first:c.next;d.disabled=n<0,p.disabled=r<0,TI(d,hN,i),TI(p,hN,a),s(SC,d,p,n,r)}return{arrows:v,mount:function(){m(),a(dC,m)},destroy:function(){r?OI(h):(EI(d,mN),EI(p,mN))}}},Autoplay:function(e,t,n){var r,i,a,o=DC(e),s=o.on,u=o.bind,c=o.emit,l=OC(n.interval,e.go.bind(e,">"),(function(e){var t=h.bar;t&&CI(t,"width","".concat(100*e,"%")),c(NC,e)})),f=l.isPaused,h=t.Elements;function d(e){var t=e?"pause":"play",r=h[t];r&&(TI(r,lN,h.track.id),TI(r,hN,n.i18n[t]),u(r,"click",e?v:p))}function p(){f()&&t.Slides.isEnough()&&(l.start(!n.resetProgress),i=r=a=!1,c(CC))}function v(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];f()||(l.pause(),c(AC)),a=e}function m(){a||(r||i?v(!1):p())}function y(){var r=t.Slides.getAt(e.index);l.set(r&&+AI(r.slide,bN)||n.interval)}return{mount:function(){var e=n.autoplay;e&&(d(!0),d(!1),function(){var e=h.root;n.pauseOnHover&&u(e,"mouseenter mouseleave",(function(e){r="mouseenter"===e.type,m()}));n.pauseOnFocus&&u(e,"focusin focusout",(function(e){i="focusin"===e.type,m()}));s([rC,wC,hC],l.rewind),s(rC,y)}(),"pause"!==e&&p())},destroy:l.cancel,play:p,pause:v,isPaused:f}},Cover:function(e,t,n){var r=DC(e).on;function i(e){t.Slides.forEach((function(t){var n=bI(t.container||t.slide,"img");n&&n.src&&a(e,n,t)}))}function a(e,t,n){n.style("background",e?'center/cover no-repeat url("'.concat(t.src,'")'):"",!0),NI(t,e?"none":"")}return{mount:function(){n.cover&&(r(PC,(function(e,t){a(!0,e,t)})),r([tC,dC,hC],i.bind(null,!0)))},destroy:function(){i(!1)}}},Scroll:function(e,t,n){var r,i,a=DC(e),o=a.on,s=a.emit,u=t.Move,c=u.getPosition,l=u.getLimit,f=u.exceededLimit;function h(t,a,o,v){var m,y=c(),g=1;a=a||(m=KI(t-y),HI(m/1.5,800)),i=o,p(),r=OC(a,d,(function(r){var i,a=c(),o=y+(t-y)*function(e){var t=n.easingFunc;return t?t(e):1-Math.pow(1-e,4)}(r),s=(o-c())*g;u.translate(a+s),e.is(yN)&&!v&&f()&&(g*=.6,KI(s)<10&&(i=f(!1),h(l(!i),600,null,!0)))}),1),s(wC),r.start()}function d(){var t=c(),n=u.toIndex(t);QI(n,0,e.length-1)||u.translate(u.shift(t,n>0),!0),i&&i(),s(bC)}function p(){r&&r.cancel()}function v(){r&&!r.isPaused()&&(p(),d())}return{mount:function(){o(rC,p),o([dC,hC],v)},destroy:p,scroll:h,cancel:v}},Drag:function(e,t,n){var r,i,a,o,s,u,c,l,f,h=DC(e),d=h.on,p=h.emit,v=h.bind,m=h.unbind,y=t.Move,g=t.Scroll,k=t.Controller,w=t.Elements.track,b=t.Direction,x=b.resolve,_=b.orient,S=y.getPosition,E=y.exceededLimit,T=!1;function I(){var e=n.drag;M(!e),s="free"===e}function C(e){if(!l){var t=n.noDrag,r=L(e),i=!t||!kI(e.target,t);c=!1,!i||!r&&e.button||(y.isBusy()?jI(e,!0):(f=r?w:window,a=null,o=null,v(f,_N,N,xN),v(f,SN,A,xN),y.cancel(),g.cancel(),P(e)))}}function N(t){if(o||p(yC),o=t,t.cancelable){var a=R(t)-R(i);if(u){y.translate(r+function(t){return t/(T&&e.is(yN)?5:1)}(a));var s=j(t)-j(i)>200,l=T!==(T=E());(s||l)&&P(t),p(gC),c=!0,jI(t)}else{var f=n.dragMinThreshold;f=rI(f)?f:{mouse:0,touch:+f||10},u=KI(a)>(L(t)?f.touch:f.mouse),O()&&jI(t)}}}function A(r){m(f,_N,N),m(f,SN,A);var c=e.index;if(o){if(u||r.cancelable&&O()){var l=function(t){if(e.is(gN)||!T){var n=i===o&&a||i,r=R(o)-R(n),s=j(t)-j(n),u=j(t)-j(o)<200;if(s&&u)return r/s}return 0}(r),h=function(e){return S()+XI(e)*WI(KI(e)*(n.flickPower||600),s?1/0:t.Layout.listSize()*(n.flickMaxPages||1))}(l);s?k.scroll(h):e.is(kN)?k.go(c+_(XI(l))):k.go(k.toDest(h),!0),jI(r)}p(kC)}else s||S()===y.toPosition(c)||k.go(c,!0);u=!1}function P(e){a=i,i=e,r=S()}function D(e){!l&&c&&jI(e,!0)}function O(){return KI(R(o)-R(i))>KI(R(o,!0)-R(i,!0))}function R(e,t){return(L(e)?e.touches[0]:e)["page".concat(x(t?"Y":"X"))]}function j(e){return e.timeStamp}function L(e){return"undefined"!==typeof TouchEvent&&e instanceof TouchEvent}function M(e){l=e}return{mount:function(){v(w,_N,qI,xN),v(w,SN,qI,xN),v(w,"touchstart mousedown",C,xN),v(w,"click",D,{capture:!0}),v(w,"dragstart",jI),d([tC,dC],I)},disable:M,isDragging:function(){return u}}},Keyboard:function(e,t,n){var r,i,a=DC(e),o=a.on,s=a.bind,u=a.unbind,c=e.root,l=t.Direction.resolve;function f(){var e=n.keyboard;e&&("focused"===e?(r=c,TI(c,pN,0)):r=window,s(r,TN,v))}function h(){u(r,TN),uI(r)&&EI(r,pN)}function d(){var e=i;i=!0,BI((function(){i=e}))}function p(){h(),f()}function v(t){if(!i){var n=t.key,r=fI(EN,n)?"Arrow".concat(n):n;r===l("ArrowLeft")?e.go("<"):r===l("ArrowRight")&&e.go(">")}}return{mount:function(){f(),o(dC,p),o(rC,d)},destroy:h,disable:function(e){i=e}}},LazyLoad:function(e,t,n){var r=DC(e),i=r.on,a=r.off,o=r.bind,s=r.emit,u="sequential"===n.lazyLoad,c=[],l=0;function f(){d(),h()}function h(){t.Slides.forEach((function(e){MI(e.slide,NN).forEach((function(t){var r=AI(t,IN),i=AI(t,CN);if(r!==t.src||i!==t.srcset){var a=n.classes.spinner,o=t.parentElement,s=bI(o,".".concat(a))||II("span",a,o);TI(s,cN,"presentation"),c.push({_img:t,_Slide:e,src:r,srcset:i,_spinner:s}),!t.src&&NI(t,"none")}}))})),u&&m()}function d(){l=0,c=[]}function p(){(c=c.filter((function(t){var r=n.perPage*((n.preloadPages||1)+1)-1;return!t._Slide.isWithin(e.index,r)||v(t)}))).length||a(iC)}function v(e){var t=e._img;mI(e._Slide.slide,oN),o(t,"load error",(function(t){!function(e,t){var n=e._Slide;FI(n.slide,oN),t||(OI(e._spinner),NI(e._img,""),s(PC,e._img,n),s(pC));u&&m()}(e,"error"===t.type)})),["src","srcset"].forEach((function(n){e[n]&&(TI(t,n,e[n]),EI(t,"src"===n?IN:CN))}))}function m(){l<c.length&&v(c[l++])}return{mount:function(){n.lazyLoad&&(h(),i(hC,f),u||i([tC,hC,iC,bC],p))},destroy:d}},Pagination:function(e,t,n){var r,i=DC(e),a=i.on,o=i.emit,s=i.bind,u=i.unbind,c=t.Slides,l=t.Elements,f=t.Controller,h=f.hasFocus,d=f.getIndex,p=[];function v(){m(),n.pagination&&c.isEnough()&&(!function(){var t=e.length,i=n.classes,a=n.i18n,o=n.perPage,u="slider"===n.pagination&&l.slider||l.root,f=h()?t:GI(t/o);r=II("ul",i.pagination,u);for(var d=0;d<f;d++){var v=II("li",null,r),m=II("button",{class:i.page,type:"button"},v),g=c.getIn(d).map((function(e){return e.slide.id})),k=!h()&&o>1?a.pageX:a.slideX;s(m,"click",y.bind(null,d)),TI(m,lN,g.join(" ")),TI(m,hN,$I(k,d+1)),p.push({li:v,button:m,page:d})}}(),o(EC,{list:r,items:p},g(e.index)),k())}function m(){r&&(OI(r),p.forEach((function(e){u(e.button,"click")})),nI(p),r=null)}function y(e){f.go(">".concat(e),!0,(function(){var t,n=c.getAt(f.toIndex(e));n&&((t=n.slide).setActive&&t.setActive()||t.focus({preventScroll:!0}))}))}function g(e){return p[f.toPage(e)]}function k(){var e=g(d(!0)),t=g(d());e&&(FI(e.button,nN),EI(e.button,fN)),t&&(mI(t.button,nN),TI(t.button,fN,!0)),o(TC,{list:r,items:p},e,t)}return{items:p,mount:function(){v(),a([dC,hC],v),a([rC,bC],k)},destroy:m,getAt:g,update:k}},Sync:function(e,t,n){var r=t.Elements.list,i=[];function a(){e.splides.forEach((function(t){var n;!t.isParent&&(n=t.splide,[e,n].forEach((function(t){var r=DC(t),a=t===e?n:e;r.on(rC,(function(e,t,n){a.go(a.is(gN)?n:e)})),i.push(r)})))})),n.isNavigation&&function(){var t=DC(e),n=t.on;n(oC,u),n(fC,c),n([tC,dC],s),TI(r,cN,"menu"),i.push(t),t.emit(IC,e.splides)}()}function o(){EI(r,mN),i.forEach((function(e){e.destroy()})),nI(i)}function s(){TI(r,vN,n.direction!==jC?"horizontal":null)}function u(t){e.go(t.index)}function c(e,t){fI(AN,t.key)&&(u(e),jI(t))}return{mount:a,destroy:o,remount:function(){o(),a()}}},Wheel:function(e,t,n){var r=DC(e).bind;function i(r){if(r.cancelable){var i=r.deltaY;if(i){var a=i<0;e.go(a?"<":">"),function(r){return!n.releaseWheel||e.state.is(4)||-1!==t.Controller.getAdjacent(r)}(a)&&jI(r)}}}return{mount:function(){n.wheel&&r(t.Elements.track,"wheel",i,xN)}}}}),DN={type:"slide",speed:400,waitForTransition:!0,perPage:1,cloneStatus:!0,arrows:!0,pagination:!0,interval:5e3,pauseOnHover:!0,pauseOnFocus:!0,resetProgress:!0,keyboard:!0,easing:"cubic-bezier(0.25, 1, 0.5, 1)",drag:!0,direction:"ltr",slideFocus:!0,trimSpace:!0,focusableNodes:"a, button, textarea, input, select, iframe",classes:uN,i18n:{prev:"Previous slide",next:"Next slide",first:"Go to first slide",last:"Go to last slide",slideX:"Go to slide %s",pageX:"Go to page %s",play:"Start autoplay",pause:"Pause autoplay"}};function ON(e,t,n){var r=DC(e).on;return{mount:function(){r([tC,hC],(function(){BI((function(){t.Slides.style("transition","opacity ".concat(n.speed,"ms ").concat(n.easing))}))}))},start:function(e,n){var r=t.Elements.track;CI(r,"height",UI(DI(r).height)),BI((function(){n(),CI(r,"height","")}))},cancel:qI}}function RN(e,t,n){var r,i=DC(e).bind,a=t.Move,o=t.Controller,s=t.Elements.list;function u(){c("")}function c(e){CI(s,"transition",e)}return{mount:function(){i(s,"transitionend",(function(e){e.target===s&&r&&(u(),r())}))},start:function(t,i){var s=a.toPosition(t,!0),u=a.getPosition(),l=function(t){var r=n.rewindSpeed;if(e.is(yN)&&r){var i=o.getIndex(!0),a=o.getEnd();if(0===i&&t>=a||i>=a&&0===t)return r}return n.speed}(t);KI(s-u)>=1&&l>=1?(c("transform ".concat(l,"ms ").concat(n.easing)),a.translate(s,!0),r=i):(a.jump(t),i())},cancel:u}}var jN=function(){function e(t,n){we(this,e),this.event=function(){var e={};function t(t,r){n(t,(function(t,n){var i=e[t];e[t]=i&&i.filter((function(e){return e._key?e._key!==r:r||e._namespace!==n}))}))}function n(e,t){cI(e).join(" ").split(" ").forEach((function(e){var n=e.split(".");t(n[0],n[1])}))}return{on:function(t,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;n(t,(function(t,n){e[t]=e[t]||[],hI(e[t],{_event:t,_callback:r,_namespace:n,_priority:a,_key:i}).sort((function(e,t){return e._priority-t._priority}))}))},off:t,offBy:function(n){xI(e,(function(e,r){t(r,n)}))},emit:function(t){var n=arguments;(e[t]||[]).forEach((function(e){e._callback.apply(e,pI(n,1))}))},destroy:function(){e={}}}}(),this.Components={},this.state=function(e){var t=e;return{set:function(e){t=e},is:function(e){return fI(cI(e),t)}}}(1),this.splides=[],this._options={},this._Extensions={};var r=aI(t)?LI(document,t):t;VI(r,"".concat(r," is invalid.")),this.root=r,SI(DN,e.defaults),SI(SI(this._options,DN),n||{})}return xe(e,[{key:"mount",value:function(e,t){var n=this,r=this.state,i=this.Components;return VI(r.is([1,5]),"Already mounted!"),r.set(1),this._Components=i,this._Transition=t||this._Transition||(this.is(kN)?ON:RN),this._Extensions=e||this._Extensions,xI(_I({},PN,this._Extensions,{Transition:this._Transition}),(function(e,t){var r=e(n,i,n._options);i[t]=r,r.setup&&r.setup()})),xI(i,(function(e){e.mount&&e.mount()})),this.emit(tC),mI(this.root,"is-initialized"),r.set(3),this.emit(nC),this}},{key:"sync",value:function(e){return this.splides.push({splide:e}),e.splides.push({splide:this,isParent:!0}),this.state.is(3)&&(this._Components.Sync.remount(),e.Components.Sync.remount()),this}},{key:"go",value:function(e){return this._Components.Controller.go(e),this}},{key:"on",value:function(e,t){return this.event.on(e,t,null,20),this}},{key:"off",value:function(e){return this.event.off(e),this}},{key:"emit",value:function(e){var t;return(t=this.event).emit.apply(t,[e].concat(ut(pI(arguments,1)))),this}},{key:"add",value:function(e,t){return this._Components.Slides.add(e,t),this}},{key:"remove",value:function(e){return this._Components.Slides.remove(e),this}},{key:"is",value:function(e){return this._options.type===e}},{key:"refresh",value:function(){return this.emit(hC),this}},{key:"destroy",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.event,n=this.state;return n.is(1)?t.on(nC,this.destroy.bind(this,e),this):(xI(this._Components,(function(t){t.destroy&&t.destroy(e)}),!0),t.emit(xC),t.destroy(),e&&nI(this.splides),n.set(5)),this}},{key:"options",get:function(){return this._options},set:function(e){var t=this._options;SI(t,e),this.state.is(1)||this.emit(dC,t)}},{key:"length",get:function(){return this._Components.Slides.getLength(!0)}},{key:"index",get:function(){return this._Components.Controller.getIndex()}}]),e}(),LN=jN;LN.defaults={},LN.STATES=tI;var MN=[[tC,"onMounted"],[nC,"onReady"],[rC,"onMove"],[iC,"onMoved"],[oC,"onClick"],[sC,"onActive"],[uC,"onInactive"],[cC,"onVisible"],[lC,"onHidden"],[hC,"onRefresh"],[dC,"onUpdated"],[pC,"onResize"],[vC,"onResized"],[yC,"onDrag"],[gC,"onDragging"],[kC,"onDragged"],[wC,"onScroll"],[bC,"onScrolled"],[xC,"onDestroy"],[_C,"onArrowsMounted"],[SC,"onArrowsUpdated"],[EC,"onPaginationMounted"],[TC,"onPaginationUpdated"],[IC,"onNavigationMounted"],[CC,"onAutoplayPlay"],[NC,"onAutoplayPlaying"],[AC,"onAutoplayPause"],[PC,"onLazyLoadLoaded"]];function FN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}function UN(e){return null!==e&&"object"===typeof e}function VN(e,t){if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&!e.some((function(e,n){return!VN(e,t[n])}));if(UN(e)&&UN(t)){var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&!n.some((function(n){return!Object.prototype.hasOwnProperty.call(t,n)||!VN(e[n],t[n])}))}return e===t}function BN(e,t){var n=e;return function(e,t){if(e)for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];if("__proto__"!==i&&!1===t(e[i],i))break}}(t,(function(e,t){Array.isArray(e)?n[t]=e.slice():UN(e)?n[t]=BN(UN(n[t])?n[t]:{},e):n[t]=e})),n}var qN=function(e){Ee(n,e);var t=Ae(n);function n(){var e;return we(this,n),(e=t.apply(this,arguments)).splideRef=i.createRef(),e.slides=[],e}return xe(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.options,n=e.Extensions,r=e.Transition,i=this.splideRef.current;i&&(this.splide=new LN(i,t),this.bind(this.splide),this.splide.mount(n,r),this.options=BN({},t||{}),this.slides=this.getSlides())}},{key:"componentWillUnmount",value:function(){this.splide&&(this.splide.destroy(),this.splide=void 0),this.options=void 0,this.slides.length=0}},{key:"componentDidUpdate",value:function(){if(this.splide){var e=this.props.options;e&&!VN(this.options,e)&&(this.splide.options=e,this.options=BN({},e));var t,n,r=this.getSlides();t=this.slides,n=r,(t.length!==n.length||t.some((function(e,t){return e!==n[t]})))&&(this.splide.refresh(),this.slides=r)}}},{key:"sync",value:function(e){var t;null==(t=this.splide)||t.sync(e)}},{key:"go",value:function(e){var t;null==(t=this.splide)||t.go(e)}},{key:"getSlides",value:function(){var e;if(this.splide){var t=null==(e=this.splide.Components.Elements)?void 0:e.list.children;return t&&Array.prototype.slice.call(t)||[]}return[]}},{key:"bind",value:function(e){var t=this;MN.forEach((function(n){var r=l(n,2),i=r[0],a=r[1],o=t.props[a];"function"===typeof o&&e.on(i,(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];o.apply(void 0,[e].concat(n))}))}))}},{key:"renderTrack",value:function(){return i.createElement("div",{className:"splide__track"},i.createElement("ul",{className:"splide__list"},this.props.children))}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,r=e.hasSliderWrapper,a=e.hasAutoplayProgress,o=e.hasAutoplayControls,s=e.playButtonLabel,u=void 0===s?"Play":s,c=e.pauseButtonLabel,l=void 0===c?"Pause":c,f=e.renderControls;return i.createElement("div",{id:t,className:FN("splide",n),ref:this.splideRef},r?i.createElement("div",{className:"splide__slider"},this.renderTrack()):this.renderTrack(),a&&i.createElement("div",{className:"splide__progress"},i.createElement("div",{className:"splide__progress__bar"})),o&&i.createElement("div",{className:"splide__autoplay"},i.createElement("button",{className:"splide__play"},u),i.createElement("button",{className:"splide__pause"},l)),f&&f())}}]),n}(i.Component),zN=function(e){var t=e.children,n=e.className,r=XT(e,$T);return i.createElement("li",le({className:FN("splide__slide",n)},r),t)};function WN(){return(0,me.jsx)("div",{className:"home",children:(0,me.jsx)("div",{children:(0,me.jsxs)(qN,{options:{autoplay:!0,perPage:1,type:"loop",rewind:!0,arrows:!0},children:[(0,me.jsx)(zN,{children:(0,me.jsxs)("div",{className:"splideRelativeText",children:[(0,me.jsxs)("div",{className:"home_text",children:[(0,me.jsx)("span",{children:"fresh & clean"}),(0,me.jsx)("span",{children:"vegetables and fruits at your door step"}),(0,me.jsx)("button",{children:(0,me.jsx)(se,{to:"/aboutuspage",children:"Learn More"})})]}),(0,me.jsx)("img",{className:"home_image",src:"https://cdn.pixabay.com/photo/2016/11/29/06/15/tomatoes-1867744_960_720.jpg",alt:""})]})}),(0,me.jsx)(zN,{children:(0,me.jsxs)("div",{className:"splideRelativeText",children:[(0,me.jsxs)("div",{className:"home_text",children:[(0,me.jsx)("span",{children:"Daily and occasional offer "}),(0,me.jsx)("span",{children:"are available for maximum saving."}),(0,me.jsx)("button",{children:(0,me.jsx)(se,{to:"/aboutuspage",children:"Learn More"})})]}),(0,me.jsx)("img",{className:"home_image",src:"https://www.healthyeating.org/images/default-source/home-0.0/nutrition-topics-2.0/general-nutrition-wellness/2-2-2-2foodgroups_vegetables_detailfeature.jpg?sfvrsn=226f1bc7_6",alt:""})]})}),(0,me.jsx)(zN,{children:(0,me.jsxs)("div",{className:"splideRelativeText",children:[(0,me.jsxs)("div",{className:"home_text",children:[(0,me.jsx)("span",{children:"cash on delivery are "}),(0,me.jsx)("span",{children:"available "}),(0,me.jsx)("button",{children:(0,me.jsx)(se,{to:"/aboutuspage",children:"Learn More"})})]}),(0,me.jsx)("img",{className:"home_image",src:"https://cdn.pixabay.com/photo/2021/10/07/15/24/fruits-6688947_960_720.jpg",alt:""})]})}),(0,me.jsx)(zN,{children:(0,me.jsxs)("div",{className:"splideRelativeText",children:[(0,me.jsxs)("div",{className:"home_text",children:[(0,me.jsx)("span",{children:"Flat 25% discount on "}),(0,me.jsx)("span",{children:"branded spice"}),(0,me.jsx)("button",{children:(0,me.jsx)(se,{to:"/aboutuspage",children:"Learn More"})})]}),(0,me.jsx)("img",{className:"home_image",src:"https://cdn.pixabay.com/photo/2018/06/10/17/39/market-3466906_960_720.jpg",alt:""})]})})]})})})}var HN=n(4173),YN=n(2542),GN=n(5253);function KN(){return(0,me.jsxs)("div",{className:"intro",children:[(0,me.jsxs)("div",{className:"introImage",children:[(0,me.jsx)("img",{src:"https://cdn.pixabay.com/photo/2016/11/19/20/55/apples-1841132_960_720.jpg",alt:""}),(0,me.jsx)("div",{className:"imgBackground"})]}),(0,me.jsxs)("div",{className:"introText",children:[(0,me.jsx)("div",{className:"introHeading",children:"A Farmers Farm"}),(0,me.jsx)("div",{className:"introSubheading",children:"Little Story About Us"}),(0,me.jsx)("div",{className:"introDesc",children:(0,me.jsx)("p",{children:"Aren\u2019t you fed up of getting home the same fruits and vegetables daily and eating the same things on repeat just because of the lack of availability of variety in the market? Well, don\u2019t be upset. We have got you covered on this one! Imagine getting the best quality fruits, vegetables and dairy products just with a tap right when you are running late to serve your guests. Isn\u2019t it great to have your errands been run at your fingertips?"})}),(0,me.jsxs)("div",{className:"IntroExtraBottom",children:[(0,me.jsxs)("div",{children:[(0,me.jsx)("div",{children:(0,me.jsx)("img",{src:YN,alt:""})}),(0,me.jsxs)("div",{children:[(0,me.jsx)("span",{children:"Organic fruits"}),(0,me.jsx)("span",{children:"Grown with zero toxins and 100% purity, our organically produced fruits are rich in nutrients"})]})]}),(0,me.jsxs)("div",{children:[(0,me.jsx)("div",{children:(0,me.jsx)("img",{src:HN,alt:""})}),(0,me.jsxs)("div",{children:[(0,me.jsx)("span",{children:"Organic Vegetables"}),(0,me.jsx)("span",{children:"Eating organic isn\u2019t a trend, it\u2019s a return to the tradition. Eat best, forget the rest!"})]})]}),(0,me.jsxs)("div",{children:[(0,me.jsx)("div",{children:(0,me.jsx)("img",{src:GN,alt:""})}),(0,me.jsxs)("div",{children:[(0,me.jsx)("span",{children:"Organic Dairy"}),(0,me.jsx)("span",{children:"Organic farming is a major principle at BSF."})]})]})]})]})]})}function QN(e){e.id,e.title,e.image,e.price,e.products;var t=e.product,n=l((0,i.useState)(1),2),r=n[0],a=n[1];(0,i.useEffect)((function(){var e=document.querySelectorAll(".add_to_cart_button"),t=document.querySelector(".onaddpopup");e.forEach((function(e){e.addEventListener("click",(function(){t.classList.remove("onaddpopupActive"),t.classList.add("onaddpopupActive"),t.addEventListener("animationend",(function(){t.classList.remove("onaddpopupActive")}))}))}))}));var o=l(ke(),2),s=(o[0].basket,o[1]);return(0,me.jsxs)("div",{className:"product",children:[(0,me.jsx)("img",{src:t.url,alt:""}),(0,me.jsx)("h2",{children:t.title}),(0,me.jsxs)("h3",{children:[t.price+" "," \u20b9"]}),(0,me.jsxs)("div",{className:"quantityAddCartButton",children:[(0,me.jsxs)("div",{children:[(0,me.jsx)("button",{onClick:function(){a(r+1)},children:(0,me.jsx)("i",{class:"fa fa-arrow-up","aria-hidden":"true"})}),(0,me.jsx)("button",{onClick:function(){1!=r&&a(r-1)},children:(0,me.jsx)("i",{class:"fa fa-arrow-down","aria-hidden":"true"})})]}),(0,me.jsxs)("button",{onClick:function(){s({type:"ADD_TO_BASKET",item:{id:t.ID,title:t.title,image:t.url,price:t.price*r,quantity:r}})},className:"add_to_cart_button",children:[(0,me.jsx)("i",{class:"fas fa-cart-plus"}),"Add to cart ",r]})]})]})}n(7315);function JN(e){return e.products.slice(0,6).map((function(e){return(0,me.jsx)(QN,{product:e},e.id)}))}function XN(){var e=l((0,i.useState)([]),2),t=e[0],n=e[1],r=function(){var e=de(ve().mark((function e(){var t,r,i,a,o,s;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HT.collection("Products").get();case 2:t=e.sent,r=[],i=fe(t.docs);try{for(i.s();!(a=i.n()).done;)o=a.value,(s=o.data()).ID=o.id,r.push(le({},s)),r.length===t.docs.length&&n(r)}catch(u){i.e(u)}finally{i.f()}case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){r()}),[]),(0,me.jsxs)("div",{className:"product_sections",children:[(0,me.jsxs)("div",{className:"product_header",children:[(0,me.jsx)("h1",{children:"Featured Products"}),(0,me.jsx)("h3",{children:"Fresh From Our Farm"})]}),(0,me.jsxs)("div",{className:"product_content",children:[t.length>0&&(0,me.jsx)(JN,{products:t}),t.length<1&&(0,me.jsx)(me.Fragment,{children:"Please wait...."})]}),(0,me.jsx)(se,{to:"/shop",children:(0,me.jsx)("button",{className:"showMoreButton",children:"Show More"})})]})}var $N=n(9895),ZN=n(970);function eA(){return(0,me.jsxs)("div",{className:"whyChooseUs",children:[(0,me.jsxs)("div",{className:"whychooseusHeading",children:[(0,me.jsx)("h2",{children:"Why Choose Us "}),(0,me.jsx)("h4",{children:"Features"})]}),(0,me.jsxs)("div",{className:"whyChooseUsContent",children:[(0,me.jsxs)("div",{className:"whyChooseUsContentLeft",children:[(0,me.jsxs)("div",{children:[(0,me.jsx)("span",{children:"Product Quality"}),(0,me.jsx)("span",{children:(0,me.jsx)("img",{src:ZN,alt:""})})]}),(0,me.jsxs)("div",{children:[(0,me.jsx)("span",{children:"Always Fresh"}),(0,me.jsx)("span",{children:(0,me.jsx)("img",{src:ZN,alt:""})})]}),(0,me.jsxs)("div",{children:[(0,me.jsx)("span",{children:"100% Natural"}),(0,me.jsx)("span",{children:(0,me.jsx)("img",{src:ZN,alt:""})})]})]}),(0,me.jsx)("div",{className:"whyChooseUsContentImg",children:(0,me.jsx)("img",{src:$N,alt:""})}),(0,me.jsxs)("div",{className:"whyChooseUsContentRight",children:[(0,me.jsxs)("div",{children:[(0,me.jsx)("span",{children:(0,me.jsx)("img",{src:ZN,alt:""})}),(0,me.jsx)("span",{children:"100% Organic"})]}),(0,me.jsxs)("div",{children:[(0,me.jsx)("span",{children:(0,me.jsx)("img",{src:ZN,alt:""})}),(0,me.jsx)("span",{children:"Super Healthy"})]}),(0,me.jsxs)("div",{children:[(0,me.jsx)("span",{children:(0,me.jsx)("img",{src:ZN,alt:""})}),(0,me.jsx)("span",{children:"Best Quality"})]})]})]})]})}function tA(){var e=l((0,i.useState)(!1),2),t=(e[0],e[1]),n=l(ke(),2),r=n[0],a=(r.basket,r.user);n[1];return(0,i.useEffect)((function(){a?HT.collection("Farmers Account").doc(a.email).collection("farmer").get().then((function(e){e.docs.forEach((function(e){var n;"farmer"==(null===(n=e.data())||void 0===n?void 0:n.type)?t(!0):t(!1)}))})):t(!1)}),[a]),(0,me.jsxs)("footer",{class:"site-footer",children:[(0,me.jsxs)("div",{style:{padding:"1rem 0"},children:[(0,me.jsx)("i",{class:"fa fa-facebook","aria-hidden":"true"}),(0,me.jsx)("i",{class:"fa fa-instagram","aria-hidden":"true"}),(0,me.jsx)("i",{class:"fa fa-youtube","aria-hidden":"true"})]}),(0,me.jsxs)("div",{children:[(0,me.jsx)(se,{to:"/",children:(0,me.jsx)("li",{children:"Home"})}),(0,me.jsx)(se,{to:"/shop",children:(0,me.jsx)("li",{children:"Shop"})}),(0,me.jsx)(se,{to:"/orders",children:(0,me.jsx)("li",{children:"Orders"})}),(0,me.jsx)(se,{to:"/contact",children:(0,me.jsx)("li",{children:"Contact Us"})}),(0,me.jsx)(se,{to:"/privacy",children:(0,me.jsx)("li",{children:"Privacy Policy"})}),(0,me.jsx)(se,{to:"/termsandconditions",children:(0,me.jsx)("li",{children:"T&C"})})]}),(0,me.jsx)("div",{children:"bfsmart \xa9 2022"})]})}n(4274);function nA(){return(0,me.jsx)("div",{id:"aboutus",className:"about",children:(0,me.jsx)("div",{className:"aboutTop",children:(0,me.jsxs)("div",{className:"aboutTopContent",children:[(0,me.jsx)("h3",{children:"About Us"}),(0,me.jsx)("p",{children:"The richness that online shopping platforms have brought to each household is vast. But let's focus on the fact that even essentials have now been successful in creating a room of spectacular opulence in e-commerce. BSF is a live example of how something as tiresome and necessary as fruits, dairy and vegetables shopping is available at the touch of a button. We will bring to you an organically grown, farm produce right at your doorstep with a 100% surety of quality and at minimal prices.Apart from the regular local produce, you can also shop for the seasonal products like asparagus, broccoli, white onion, etc on BSF\u2019s online store. Keep your worries about the packaging and hygiene at a bay because for us superior quality and hygiene during delivery of our products till your doorstep is of utmost importance. Quality is uncompromised regardless of the area you choose to be supplied at or the size of your order.Apart from the quality, we also believe in making fresh foods available to all and thus, you can find very nominal pricing while shopping online with us. Online grocery shopping has never been easier. Need things fresh? Wholesale or retail, fruits or vegetables, dairy or meat, we have got you no matter what! Get fresh eggs, meat, fish and more online at your convenience.Hassle-free Home delivery options. Make use of the digital era you are living in. stop hustling and once and for all, cut the hard work and opt for smart work. What are you waiting for? Go buy the next week\u2019s groceries now just at the click of a button only at BSF, at your service from the farm to your table."}),(0,me.jsx)("button",{children:"Contact Us"})]})})})}function rA(e){var t=e.a,n=e.image;return(0,me.jsxs)("div",{className:"card",children:[(0,me.jsx)("div",{className:"card-img",children:(0,me.jsx)("img",{src:n,alt:""})}),(0,me.jsx)("div",{className:"card-text",children:t})]})}var iA="New Vegetables";function aA(){return(0,me.jsxs)("div",{children:[(0,me.jsx)(WN,{}),(0,me.jsx)("h1",{children:"Popular Categories"}),(0,me.jsxs)("div",{className:"category-card",children:[(0,me.jsx)(se,{to:"/CategoryShop",onClick:function(){return iA="Fruits"},children:(0,me.jsx)(rA,{a:"Fruits",image:"https://cdn.pixabay.com/photo/2015/12/30/11/57/fruits-1114060_960_720.jpg"})}),(0,me.jsx)(se,{to:"/CategoryShop",onClick:function(){return iA="New Vegetables"},children:(0,me.jsx)(rA,{a:"Vegetables",image:"https://cdn.pixabay.com/photo/2016/03/05/19/02/vegetables-1238252_960_720.jpg"})}),(0,me.jsx)(se,{to:"/CategoryShop",onClick:function(){return iA="Dairy Products"},children:(0,me.jsx)(rA,{a:"Dairy",image:"https://cdn.pixabay.com/photo/2017/07/05/15/41/milk-2474993_960_720.jpg"})}),(0,me.jsx)(se,{to:"/CategoryShop",onClick:function(){return iA="Catch Spices"},children:(0,me.jsx)(rA,{a:"Spices",image:"https://cdn.pixabay.com/photo/2018/06/10/17/39/market-3466906_960_720.jpg"})})]}),(0,me.jsx)(XN,{})]})}function oA(e){var t=e.id,n=e.image,r=e.hideButton,i=e.title,a=e.price,o=e.weight,s=e.quantity,u=l(ke(),2),c=(u[0].basket,u[1]);return(0,me.jsxs)("div",{className:"basketProduct",children:[(0,me.jsx)("img",{className:"basket_product_image",src:n}),(0,me.jsxs)("div",{className:"basket_product_info",children:[(0,me.jsx)("p",{className:"basket_product_title",children:i}),(0,me.jsxs)("p",{className:"basket_product_title",children:["Weight: ",o]}),(0,me.jsxs)("p",{children:["Quantity: ",s]}),(0,me.jsxs)("p",{className:"basket_product_price",children:[(0,me.jsx)("small",{children:"\u20b9"}),(0,me.jsx)("strong",{children:a})]}),!r&&(0,me.jsx)("button",{onClick:function(){c({type:"REMOVE_FROM_BASKET",id:t})},children:"Remove from Basket"})]})]})}var sA=n(2482),uA=n.n(sA),cA=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return t.price+e}),0)},lA=function(e,t){switch(t.type){case"ADD_TO_BASKET":return le(le({},e),{},{basket:[].concat(ut(e.basket),[t.item])});case"REMOVE_FROM_BASKET":var n=e.basket.findIndex((function(e){return e.id===t.id})),r=ut(e.basket);return n>=0?r.splice(n,1):console.warn("Can't remove product (id :".concat(t.id,") as it's not in the basket")),le(le({},e),{},{basket:r});case"SET_USER":return le(le({},e),{},{user:t.user});default:return e}};function fA(){var e=V(),t=l(ke(),2),n=t[0],r=n.basket,i=n.user;t[1];return(0,me.jsxs)("div",{className:"subtotal",children:[(0,me.jsx)(uA(),{renderText:function(e){return(0,me.jsx)(me.Fragment,{children:(0,me.jsxs)("p",{children:["Subtotal (",null===r||void 0===r?void 0:r.length," Items): ",(0,me.jsx)("strong",{children:e})]})})},decimalScale:2,value:cA(r),displayType:"text",thousandSeparator:!0,prefix:"\u20b9"}),i?(0,me.jsx)("button",{onClick:function(t){return e("/payment")},children:"Proceed to checkout"}):(0,me.jsx)("button",{onClick:function(t){return e("/signin")},children:"Proceed to checkout"})]})}function hA(){var e=l(ke(),2),t=e[0],n=t.basket,r=t.user;e[1];return(0,me.jsxs)("div",{className:"checkout",children:[(0,me.jsxs)("h3",{children:["Hello, ",null===r||void 0===r?void 0:r.email]}),(0,me.jsx)("div",{className:"checkout_title",children:(0,me.jsx)("h2",{children:"Your Shopping Basket"})}),(0,me.jsxs)("div",{className:"checkoutBottom",children:[(0,me.jsx)("div",{className:"checkout_left",children:(0,me.jsx)("div",{className:"checkoutBasketContainer",children:n.map((function(e){return(0,me.jsx)(oA,{id:e.id,title:e.title,image:e.image,price:e.price,weight:e.weight,quantity:e.quantity})}))})}),(0,me.jsx)("div",{className:"checkout_right",children:(0,me.jsx)(fA,{})})]})]})}function dA(){var e=l((0,i.useState)(""),2),t=e[0],n=e[1],r=l((0,i.useState)(""),2),a=r[0],o=r[1],s=V();return(0,me.jsx)("div",{className:"signin",children:(0,me.jsxs)("div",{className:"login_container",children:[(0,me.jsx)("h1",{children:"Sign In"}),(0,me.jsxs)("form",{children:[(0,me.jsx)("h5",{children:"E-mail"}),(0,me.jsx)("input",{type:"text",value:t,onChange:function(e){return n(e.target.value)}}),(0,me.jsx)("h5",{children:"Password"}),(0,me.jsx)("input",{type:"password",value:a,onChange:function(e){return o(e.target.value)}}),(0,me.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),YT.signInWithEmailAndPassword(t.trim(),a.trim()).then((function(e){s("/")})).catch((function(e){return alert(e.message)}))},className:"login_signIn",children:"Sign In"})]}),(0,me.jsx)("p",{children:"We don't share your data with third party apps or websites"}),(0,me.jsx)("button",{onClick:function(e){s("/signup")},className:"login_register",children:"Create your account"})]})})}var pA=n(4569),vA=n.n(pA)().create({baseURL:"http://localhost:5001/ecommerce-ab127/us-central1/api"});function mA(){var e=l(ke(),2),t=e[0],n=t.basket,r=t.user,a=(e[1],V()),o=0,s=(0,k.useStripe)(),u=(0,k.useElements)(),c=l((0,i.useState)(null),2),f=c[0],h=c[1],d=l((0,i.useState)(null),2),p=d[0],v=d[1],m=l((0,i.useState)(!1),2),y=m[0],g=m[1],w=l((0,i.useState)(""),2),b=w[0],x=w[1],_=l((0,i.useState)(!0),2),S=_[0],E=_[1],T=l((0,i.useState)(!1),2),I=T[0],C=T[1],N=l((0,i.useState)(""),2),A=N[0],P=N[1],D=l((0,i.useState)(""),2),O=D[0],R=D[1],j=l((0,i.useState)(""),2),L=j[0],M=j[1],F=l((0,i.useState)(""),2),U=F[0],B=F[1],q=l((0,i.useState)(""),2),z=q[0],W=q[1],H=l((0,i.useState)(),2),Y=H[0],G=H[1],K=l((0,i.useState)(),2),Q=K[0],J=K[1],X=l((0,i.useState)(""),2),$=X[0],Z=X[1],ee=l((0,i.useState)(0),2),te=ee[0],ne=ee[1],re=l((0,i.useState)(""),2),ie=re[0],ae=re[1],oe=l((0,i.useState)(),2),ue=oe[0],ce=oe[1],le=l((0,i.useState)(),2),fe=le[0],he=le[1],pe=function(){var e=de(ve().mark((function e(){var t;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HT.collection("Coupon").doc("coupon").get();case 2:t=e.sent,ae(t.data().couponName),ce(t.data().couponPrice),he(t.data().couponEligibility);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=new Date,ge=ye.getFullYear()+"-"+(ye.getMonth()+1)+"-"+ye.getDate(),we=ye.getHours()+":"+ye.getMinutes()+":"+ye.getSeconds();(0,i.useEffect)((function(){pe()}),[]),(0,i.useEffect)((function(){var e=function(){var e=de(ve().mark((function e(){var t;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vA({method:"post",url:"payments/create?total=".concat(100*(cA(n)-te))});case 2:t=e.sent,E(t.data.clientSecret),console.log("client secret >>>>>> "+S);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n,te]),(0,i.useEffect)((function(){document.querySelector(".paymentNewOrder");document.querySelector(".paymentNewOrder > input").value="new order recieved"}),[]);var be=function(){var e=de(ve().mark((function e(t){var i;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=document.querySelector(".paymentNewOrder"),document.querySelector(".paymentNewOrder > input").value="new order recieved",t.preventDefault(),!I){e.next=11;break}return x(!0),e.next=8,s.confirmCardPayment(S,{payment_method:{card:u.getElement(k.CardElement)}}).then((function(e){var t=e.paymentIntent;HT.collection("users").doc(null===r||void 0===r?void 0:r.uid).collection("order").doc(t.id).set({basket:n,amount:t.amount,created:t.created,address:O+" "+L+" "+U+" "+z+" "+Y,Status:"Received"}),HT.collection("NumberOfOrders").get().then((function(e){e.forEach((function(e){var i=e.data();o=i.number,o+=1,HT.collection("NumberOfOrders").doc("number").set({number:o}),HT.collection("allorders").doc("items"+o++).set({basket:n,Userid:r.uid,amount:t.amount,created:t.created,paymentId:t.id,address:O+L+U+z+Y,Status:"Received",OrderNumber:o,Mobile:Q})}))})),i.submit(),g(!0),h(null),x(!1),C(!1),a("/orders")}));case 8:e.sent,e.next=12;break;case 11:alert("fill the address");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=de(ve().mark((function e(){var t;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.querySelector(".paymentNewOrder"),document.querySelector(".paymentNewOrder > input").value="new order recieved",!I){e.next=12;break}return e.next=6,HT.collection("users").doc(null===r||void 0===r?void 0:r.uid).collection("order").doc(ye.getFullYear()+""+(ye.getMonth()+1)+ye.getDate()+ye.getHours()+ye.getMinutes()+ye.getSeconds()).set({basket:n,amount:100*(cA(n)-te),address:O+" "+L+" "+U+" "+z+" "+Y,Status:"Received",created:ge+" "+we});case 6:return e.sent,e.next=9,HT.collection("NumberOfOrders").get().then((function(e){e.forEach((function(e){var t=e.data();o=t.number,o+=1,HT.collection("NumberOfOrders").doc("number").set({number:o}),HT.collection("allorders").doc("items"+o++).set({basket:n,Userid:r.uid,amount:100*(cA(n)-te),paymentId:ye.getFullYear()+""+(ye.getMonth()+1)+ye.getDate()+ye.getHours()+ye.getMinutes()+ye.getSeconds(),address:O+L+U+z+Y,Status:"Received",OrderNumber:o,created:ge+" "+we,Mobile:Q})}))})).then((function(){t.submit(),C(!1),a("/orders")}));case 9:e.sent,e.next=13;break;case 12:alert("fill the address");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){console.log($)}),[$]),(0,i.useEffect)((function(){var e=document.querySelector(".accordianItem1"),t=document.querySelector(".accordianItem2"),n=document.querySelector(".accordianItem1 > div"),r=document.querySelector(".accordianItem2 > div");e.addEventListener("click",(function(){n.classList.toggle("activeAccordianItem")})),t.addEventListener("click",(function(){r.classList.toggle("activeAccordianItem")}))})),(0,me.jsxs)("div",{className:"payment",children:[(0,me.jsx)("form",{style:{display:"none"},className:"paymentNewOrder",action:"https://formspree.io/f/mbjwdwal",method:"post",children:(0,me.jsx)("input",{type:"text",name:"message"})}),(0,me.jsxs)("div",{className:"payment_container",children:[(0,me.jsxs)("h1",{children:["Checkout (",(0,me.jsxs)(se,{to:"/checkout",children:[null===n||void 0===n?void 0:n.length," items"]}),")"]}),(0,me.jsxs)("div",{className:"payment_section",children:[(0,me.jsx)("div",{className:"payment_title",children:(0,me.jsx)("h5",{children:"Delivery Here"})}),(0,me.jsxs)("div",{className:"payment_address",children:[(0,me.jsx)("p",{children:"Full Address"}),(0,me.jsxs)("form",{onSubmit:function(e){e.preventDefault(),P("address saved"),C(!0)},className:"addressform",children:[(0,me.jsx)("label",{children:"House Number / Street Address"}),(0,me.jsx)("input",{onChange:function(e){return R(e.target.value)},value:O,required:!0,type:"text"}),(0,me.jsx)("label",{children:"Area"}),(0,me.jsx)("input",{onChange:function(e){return M(e.target.value)},value:L,required:!0,type:"text"}),(0,me.jsx)("label",{children:"City"}),(0,me.jsx)("input",{onChange:function(e){return B(e.target.value)},value:U,required:!0,type:"text"}),(0,me.jsx)("label",{children:"State"}),(0,me.jsx)("input",{onChange:function(e){return W(e.target.value)},value:z,required:!0,type:"text"}),(0,me.jsx)("label",{children:"Pincode"}),(0,me.jsx)("input",{onChange:function(e){return G(e.target.value)},value:Y,required:!0,type:"number"}),(0,me.jsx)("label",{children:"Mobile"}),(0,me.jsx)("input",{onChange:function(e){return J(e.target.value)},value:Q,required:!0,type:"number"}),(0,me.jsx)("button",{className:"submit_area",type:"submit",children:"Submit Address"}),(0,me.jsx)("br",{}),(0,me.jsx)("div",{children:A})]})]})]}),(0,me.jsxs)("div",{className:"payment_section",children:[(0,me.jsx)("div",{className:"payment_title",children:(0,me.jsx)("h3",{children:"Review items and delivery"})}),(0,me.jsx)("div",{className:"payment_items",children:n.map((function(e){return(0,me.jsx)(oA,{id:e.id,title:e.title,image:e.image,price:e.price,weight:e.weight,rating:e.rating,quantity:e.quantity})}))})]}),(0,me.jsxs)("div",{className:"payment_section",children:[(0,me.jsxs)("div",{className:"applyCoupon",children:[(0,me.jsxs)("div",{children:[(0,me.jsx)("label",{children:"Coupon"}),(0,me.jsx)("input",{type:"text",onChange:function(e){return Z(e.target.value)}})]}),(0,me.jsx)("button",{onClick:function(){""!=$&&cA(n)>=fe&&$==ie&&(ne(ue),console.log("coupn>>>>"+te),console.log("basket total>>>>"+100*(cA(n)-te)),console.log("basket >>>>"+n),console.log("user >>>>"+r.uid))},children:"Apply"}),0!=te&&(0,me.jsxs)("div",{style:{color:"green"},children:["You Got ",te," \u20b9 off!!"]})]}),(0,me.jsx)("div",{className:"payment_title",children:(0,me.jsx)("h3",{children:"Payment Method"})}),(0,me.jsxs)("div",{className:"accordian",children:[(0,me.jsxs)("div",{className:"accordianItem1",children:[(0,me.jsx)("li",{children:"Card"}),(0,me.jsx)("div",{className:"payment_details",children:(0,me.jsxs)("form",{onSubmit:be,children:[(0,me.jsx)(k.CardElement,{onChange:function(e){v(e.empty),h(e.error?e.error.message:"")}}),(0,me.jsxs)("div",{className:"payment_price_container",children:[(0,me.jsx)(uA(),{renderText:function(e){return(0,me.jsxs)("h3",{children:["Order Total : ",e]})},decimalScale:2,value:cA(n)-te,displayType:"text",thousandSeparator:!0,prefix:"\u20b9"}),(0,me.jsx)("button",{disable:b||p||y,children:(0,me.jsx)("span",{children:b?(0,me.jsx)("p",{children:"Processing"}):"Buy Now"})})]}),f&&(0,me.jsx)("div",{children:f})]})})]}),(0,me.jsxs)("div",{className:"accordianItem2",children:[(0,me.jsx)("li",{children:"Cash On Delivery"}),(0,me.jsx)("div",{className:"accordianItem2button",children:(0,me.jsx)("button",{onClick:xe,children:"Proceed with COD"})})]})]})]})]})]})}function yA(){return(0,me.jsx)("div",{className:"body",children:(0,me.jsxs)("section",{class:"contact_wrapper",children:[(0,me.jsxs)("div",{class:"contact_info",children:[(0,me.jsx)("h3",{class:"title",children:"Contact Info"}),(0,me.jsxs)("ul",{class:"icons_wrapp",children:[(0,me.jsxs)("li",{children:[(0,me.jsx)("div",{class:"icon",children:(0,me.jsx)("span",{class:"material-icons-outlined",children:" place "})}),(0,me.jsxs)("div",{class:"text",children:["Nambardar Farm House, near Lloyed collage , knowledge park 3,"," ",(0,me.jsx)("br",{}),"Gr.Noida ,UP"]})]}),(0,me.jsxs)("li",{children:[(0,me.jsx)("div",{class:"icon",children:(0,me.jsx)("span",{class:"material-icons-outlined",children:" mail_outline "})}),(0,me.jsx)("div",{class:"text",children:"info@bfsmart.in"})]}),(0,me.jsxs)("li",{children:[(0,me.jsx)("div",{class:"icon",children:(0,me.jsx)("span",{class:"material-icons-outlined",children:" phone_in_talk "})}),(0,me.jsx)("div",{class:"text",children:"8585980008"})]}),(0,me.jsx)("li",{children:(0,me.jsx)("div",{class:"text",children:"8585924455 (Whatsapp)"})})]}),(0,me.jsxs)("ul",{class:"soci_wrap",children:[(0,me.jsx)("li",{children:(0,me.jsx)("a",{href:"#",children:(0,me.jsx)("span",{class:"material-icons-outlined",children:" facebook "})})}),(0,me.jsx)("li",{children:(0,me.jsx)("a",{href:"#",children:(0,me.jsx)("span",{class:"material-icons-outlined",children:" face "})})}),(0,me.jsx)("li",{children:(0,me.jsx)("a",{href:"#",children:(0,me.jsx)("span",{class:"material-icons-outlined",children:" facebook "})})}),(0,me.jsx)("li",{children:(0,me.jsx)("a",{href:"#",children:(0,me.jsx)("span",{class:"material-icons-outlined",children:" face "})})})]})]}),(0,me.jsxs)("div",{class:"contact_msg",children:[(0,me.jsx)("h3",{class:"title",children:"Send a Message"}),(0,me.jsx)("form",{action:"https://formspree.io/f/mbjwdwal",method:"POST",children:(0,me.jsxs)("div",{class:"form_fild",children:[(0,me.jsxs)("div",{class:"input_group w_50",children:[(0,me.jsx)("input",{name:"First Name",type:"text",class:"input",required:!0}),(0,me.jsx)("label",{class:"placeholder",children:"First Name"})]}),(0,me.jsxs)("div",{class:"input_group w_50",children:[(0,me.jsx)("input",{name:"second name",type:"text",class:"input",required:!0}),(0,me.jsx)("label",{class:"placeholder",children:"Last Name"})]}),(0,me.jsxs)("div",{class:"input_group w_50",children:[(0,me.jsx)("input",{name:"_replyto",type:"text",class:"input",required:!0}),(0,me.jsx)("label",{class:"placeholder",children:"Emal Address"})]}),(0,me.jsxs)("div",{class:"input_group w_50",children:[(0,me.jsx)("input",{name:"number",type:"tel",class:"input",required:!0}),(0,me.jsx)("label",{class:"placeholder",children:"Mobile Number"})]}),(0,me.jsxs)("div",{class:"input_group w_100",children:[(0,me.jsx)("textarea",{name:"message",class:"input input_textarea ",rows:"6",required:!0}),(0,me.jsx)("label",{class:"placeholder textarea",children:"Write your message here..."})]}),(0,me.jsx)("div",{class:"input_group",children:(0,me.jsx)("input",{type:"submit",class:"btn",value:"Send"})})]})})]})]})})}n(2426);function gA(e){var t,n=e.order;return(0,me.jsxs)("div",{className:"order",children:[(0,me.jsx)("h2",{children:"Order"}),(0,me.jsx)("p",{children:n.data.created}),(0,me.jsx)("p",{className:"order_id",children:(0,me.jsx)("small",{children:n.id})}),null===(t=n.data.basket)||void 0===t?void 0:t.map((function(e){return(0,me.jsx)(oA,{id:e.title,title:e.title,image:e.image,price:e.price,weight:e.weight,quantity:e.quantity,hideButton:!0})})),(0,me.jsxs)("div",{className:"orderStatusSection",children:["Status : ",n.data.Status]}),(0,me.jsx)(uA(),{renderText:function(e){return(0,me.jsxs)("h3",{className:"order_total",children:["Order Total : ",e]})},decimalScale:2,value:n.data.amount/100,displayType:"text",thousandSeparator:!0,prefix:"\u20b9"})]})}function kA(){var e=l(ke(),2),t=e[0],n=(t.basket,t.user),r=(e[1],l((0,i.useState)(),2)),a=r[0],o=r[1];return(0,i.useEffect)((function(){n?HT.collection("users").doc(null===n||void 0===n?void 0:n.uid).collection("order").orderBy("created","desc").onSnapshot((function(e){return o(e.docs.map((function(e){return{id:e.id,data:e.data()}})))})):o([])}),[n]),(0,me.jsxs)("div",{children:[(0,me.jsx)("h1",{children:"Your orders"}),(0,me.jsx)("div",{className:"orders_order",children:null===a||void 0===a?void 0:a.map((function(e){return(0,me.jsx)(gA,{order:e})}))})]})}function wA(){var e=l(ke(),2),t=e[0],n=(t.basket,t.user),r=(e[1],V()),a=l((0,i.useState)(""),2),o=a[0],s=a[1],u=l((0,i.useState)(""),2),c=u[0],f=u[1],h=l((0,i.useState)(""),2),d=h[0],p=h[1],v=l((0,i.useState)(null),2),m=v[0],y=v[1],g=l((0,i.useState)(""),2),k=g[0],w=g[1],b=l((0,i.useState)(""),2),x=b[0],_=b[1],S=l((0,i.useState)(""),2),E=S[0],T=S[1],I=l((0,i.useState)(""),2),C=I[0],N=I[1],A=l((0,i.useState)(""),2),P=A[0],D=A[1],O=["image/jpg","image/jpeg","image/png","image/PNG"];document.querySelector(".category");return(0,me.jsx)(me.Fragment,{children:n&&"adminxya@gmail.com"===n.email?(0,me.jsxs)("div",{className:"addProducts",children:[(0,me.jsx)("br",{}),(0,me.jsx)("br",{}),(0,me.jsx)("br",{}),(0,me.jsx)("h1",{children:"Add Products"}),(0,me.jsx)("hr",{}),E&&(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)("div",{className:"success-msg",children:E}),(0,me.jsx)("br",{})]}),(0,me.jsxs)("form",{autoComplete:"off",className:"form_group",onSubmit:function(e){if(e.preventDefault(),"Fruits"==k)GT.ref("product-images/".concat(m.name)).put(m).on("state_changed",(function(e){e.bytesTransferred,e.totalBytes}),(function(e){return N(e.message)}),(function(){GT.ref("product-images").child(m.name).getDownloadURL().then((function(e){HT.collection(k).add({Name:o,weight:c,Price:Number(d),image:e}).then((function(){T("Product added Succesfully"),s(""),f(""),p(""),document.querySelector("#file").value="",_(""),N(""),setTimeout((function(){T("")}),3e3)}))})).catch((function(e){return N(e.message)}))}));else if("Dairy Products"==k||"Dry Fruits"==k){GT.ref("product-images/".concat(m.name)).put(m).on("state_changed",(function(e){e.bytesTransferred,e.totalBytes}),(function(e){return N(e.message)}),(function(){GT.ref("product-images").child(m.name).getDownloadURL().then((function(e){HT.collection(k).add({title:o,weight:c,price:Number(d),image:e}).then((function(){T("Product added Succesfully"),s(""),f(""),p(""),document.querySelector("#file").value="",_(""),N(""),setTimeout((function(){T("")}),3e3)}))})).catch((function(e){return N(e.message)}))}))}else if("New Vegetables"==k){GT.ref("product-images/".concat(m.name)).put(m).on("state_changed",(function(e){e.bytesTransferred,e.totalBytes}),(function(e){return N(e.message)}),(function(){GT.ref("product-images").child(m.name).getDownloadURL().then((function(e){HT.collection(k).add({title:o,user:n.email,weightCategory:P,price:Number(d),url:e}).then((function(){T("Product added Succesfully"),s(""),D(""),f(""),p(""),document.querySelector("#file").value="",_(""),N(""),setTimeout((function(){T("")}),3e3)}))})).catch((function(e){return N(e.message)}))}))}},children:[(0,me.jsx)("label",{children:"Product Category"}),(0,me.jsxs)("select",{onChange:function(){var e=document.querySelector(".dropDownValues");w(e.value),console.log(e.value)},className:"dropDownValues",children:[(0,me.jsx)("option",{value:"Fruits",children:"Fruits"}),(0,me.jsx)("option",{value:"New Vegetables",children:"Vegetables"}),(0,me.jsx)("option",{value:"Dairy Products",children:"Dairy"}),(0,me.jsx)("option",{value:"Dry Fruits",children:"Dry Fruits"})]}),(0,me.jsx)("label",{children:"Product Title"}),(0,me.jsx)("input",{type:"text",className:"form_control",required:!0,onChange:function(e){return s(e.target.value)},value:o}),(0,me.jsx)("br",{}),"New Vegetables"!=k&&"Catch Spices"!=k&&(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)("label",{children:"Product Weight (Eg: 1kg/500gm/12pcs)"}),(0,me.jsx)("input",{type:"text",className:"form_control",required:!0,onChange:function(e){return f(e.target.value)},value:c})]}),"New Vegetables"===k&&(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)("label",{children:"Select price of weight:"}),(0,me.jsxs)("select",{className:"weightCategory",onChange:function(){var e=document.querySelector(".weightCategory");D(e.value),console.log(P)},children:[(0,me.jsx)("option",{value:"price100",children:"Price of 100gm"}),(0,me.jsx)("option",{value:"price250",children:"Price of 250gm"}),(0,me.jsx)("option",{value:"price500",children:"Price of 500gm"}),(0,me.jsx)("option",{value:"price1kg",children:"Price of 1kg"})]})]}),(0,me.jsx)("br",{}),(0,me.jsx)("label",{children:"Product Price (In Rs)"}),(0,me.jsx)("input",{type:"text",className:"form_control",required:!0,onChange:function(e){return p(e.target.value)},value:d}),(0,me.jsx)("br",{}),(0,me.jsx)("label",{children:"Upload Product Image"}),(0,me.jsx)("input",{type:"file",id:"file",className:"form_control",required:!0,onChange:function(e){var t=e.target.files[0];t?t&&O.includes(t.type)?(y(t),_("")):(y(null),_("pelase select a valid image type (png,jpg,jpeg)")):console.log("please select a file")}}),(0,me.jsx)("br",{}),x&&(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)("br",{}),(0,me.jsx)("div",{className:"error_message",children:x})]}),(0,me.jsx)("div",{children:(0,me.jsx)("button",{type:"submit",children:"Submit"})})]}),C&&(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)("br",{}),(0,me.jsx)("div",{className:"error_message",children:C})]})]}):r("/")})}function bA(e){var t=e.product,n=l((0,i.useState)(""),2),r=n[0],a=n[1];console.log(t.paymentId);var o=l((0,i.useState)(""),2);o[0],o[1];return(0,me.jsxs)("div",{className:"individualorder",children:[(0,me.jsx)("div",{children:(0,me.jsxs)("div",{children:["Order Number :"," "+t.OrderNumber]})}),(0,me.jsxs)("div",{children:[(0,me.jsx)("div",{children:"User Id :"})," ",t.Userid]}),(0,me.jsxs)("div",{children:[(0,me.jsx)("div",{children:"Payment Id :"})," ",t.paymentId]}),(0,me.jsxs)("div",{children:[(0,me.jsx)("div",{children:"Amount Paid :"})," ",t.amount/100," \u20b9"]}),(0,me.jsxs)("div",{children:[(0,me.jsx)("div",{children:"Address : "}),t.address]}),(0,me.jsxs)("div",{children:[(0,me.jsx)("div",{children:"Mobile : "}),t.Mobile]}),(0,me.jsxs)("div",{className:"individualOrderItems",children:[(0,me.jsx)("h4",{children:"Items Ordered"}),t.basket.map((function(e){return(0,me.jsxs)("div",{children:[(0,me.jsx)("div",{children:e.title+" "}),"undefined"!=e.price&&(0,me.jsx)("div",{children:" "+e.price+" "}),"undefined"!=(null===e||void 0===e?void 0:e.weight)&&(0,me.jsx)("div",{children:" "+(null===e||void 0===e?void 0:e.weight)+" "}),(0,me.jsxs)("div",{children:[" Quantity "+e.quantity," "]})]})}))]}),(0,me.jsxs)("div",{className:"updateStatusForm",children:[(0,me.jsxs)("h4",{children:["Order Status (Current Status ",t.Status,")"]}),(0,me.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=document.querySelector(".orderstatus");a("Status Updated");HT.collection("users").doc(t.Userid).collection("order").doc(t.paymentId).update({Status:n.value}),HT.collection("allorders").doc("items"+(t.OrderNumber-1)).update({Status:n.value});setTimeout((function(){a("")}),5e3)},children:[(0,me.jsx)("label",{children:" Select Status "}),(0,me.jsxs)("select",{className:"orderstatus",children:[(0,me.jsx)("option",{value:"received",children:"Received"}),(0,me.jsx)("option",{value:"processing",children:"Processing"}),(0,me.jsx)("option",{value:"shipped",children:"Shipped"}),(0,me.jsx)("option",{value:"delivered",children:" delivered "})]}),(0,me.jsx)("button",{type:"submit",children:"Update"}),(0,me.jsx)("div",{style:{color:"green"},children:r})]})]})]})}function xA(e){return e.products.map((function(e){return(0,me.jsx)(bA,{product:e},e.id)}))}function _A(){var e=l(ke(),2),t=e[0],n=(t.basket,t.user),r=(e[1],V()),a=l((0,i.useState)([]),2),o=(a[0],a[1],l((0,i.useState)(""),2)),s=o[0],u=o[1],c=l((0,i.useState)(0),2),f=c[0],h=c[1],d=l((0,i.useState)(""),2),p=d[0],v=d[1],m=l((0,i.useState)(0),2),y=m[0],g=m[1],k=l((0,i.useState)([]),2),w=k[0],b=k[1],x=function(){var e=de(ve().mark((function e(){var t,n,r,i,a,o;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HT.collection("allorders").orderBy("created","desc").get();case 2:t=e.sent,n=[],r=fe(t.docs);try{for(r.s();!(i=r.n()).done;)a=i.value,(o=a.data()).ID=a.id,n.push(le({},o)),n.length===t.docs.length&&b(n)}catch(s){r.e(s)}finally{r.f()}case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){x()}),[]),(0,me.jsx)(me.Fragment,{children:n&&"adminxya@gmail.com"===n.email?(0,me.jsxs)("div",{className:"Admin",children:[(0,me.jsxs)("div",{className:"setcoupon",children:[(0,me.jsx)("h1",{children:"Set Coupon"}),(0,me.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!=s&&0!=f?(console.log("coupon name >>>>>"+s+"\ncoupon price >>>>>"+f),HT.collection("Coupon").doc("coupon").set({couponName:s,couponPrice:f,couponEligibility:Number(y)}).then((function(){v("Coupon added Successfully"),u(""),h(0),g(0),setTimeout((function(){v("")}),3e3)}))):alert("coupon empty")},children:[(0,me.jsx)("label",{children:"Set coupon name"}),(0,me.jsx)("input",{type:"text",onChange:function(e){return u(e.target.value)}}),(0,me.jsx)("label",{children:"Set coupon Price"}),(0,me.jsx)("input",{type:"number",onChange:function(e){return h(e.target.value)}}),(0,me.jsx)("label",{children:"Coupon eligibility (100 for offer on more than 100Rs)"}),(0,me.jsx)("input",{type:"number",onChange:function(e){return g(e.target.value)}}),(0,me.jsx)("button",{children:"Set Coupon"})]}),p&&(0,me.jsxs)("h3",{children:[" ",p]})]}),(0,me.jsx)("h1",{children:"All Orders"}),w.length>0&&(0,me.jsx)(xA,{products:w})]}):r("/")})}var SA=n(2656);function EA(){var e=l(ke(),2),t=e[0],n=(t.basket,t.user),r=(e[1],V());return(0,me.jsx)(me.Fragment,{children:n?r("/"):(0,me.jsxs)("div",{className:"farmerspage",children:[(0,me.jsxs)("div",{children:[(0,me.jsxs)("div",{children:[(0,me.jsx)("h2",{children:"Dear Farmers,"}),(0,me.jsx)("p",{children:"Join hands with us to sell your organically grown produce to expand and create the perfect blend of technology and lifestyle. You are invited to be a part of the BSF team by selling your produce through us, after it has gone through a certain level of quality check by us. Be a part of this revolutionary shift of daily errands from crowded street vendors to an online, digital world."}),(0,me.jsx)("button",{onClick:function(){n?(YT.signOut(),r("/farmersignin")):r("/farmersignin")},children:"Sign Up"})]}),(0,me.jsx)("div",{children:(0,me.jsx)("img",{src:SA,alt:""})})]}),(0,me.jsxs)("div",{className:"farmersFeatures",children:[(0,me.jsx)("h3",{children:"Features"}),(0,me.jsxs)("div",{children:[(0,me.jsx)("div",{children:(0,me.jsxs)("div",{children:["Fair Deals of Prices ",(0,me.jsx)("br",{})," Doorstep Delivery ",(0,me.jsx)("br",{}),"Quality Assured"]})}),(0,me.jsx)("div",{children:(0,me.jsxs)("div",{children:["100% Organic ",(0,me.jsx)("br",{}),"Quick Delivery"]})})]})]})]})})}function TA(){var e=l((0,i.useState)(),2),t=e[0],n=e[1],r=l((0,i.useState)(),2),a=r[0],o=r[1],s=l((0,i.useState)(),2),u=s[0],c=s[1],f=l((0,i.useState)(),2),h=f[0],d=f[1],p=V();return(0,me.jsx)("div",{className:"Farmersignin",children:(0,me.jsxs)("div",{className:"login_container",children:[(0,me.jsx)("h1",{children:"Sign In"}),(0,me.jsxs)("form",{className:"farmerSignInForm",children:[(0,me.jsx)("h5",{children:"Name"}),(0,me.jsx)("input",{type:"text",value:t,onChange:function(e){return n(e.target.value)}}),(0,me.jsx)("h5",{children:"Mobile Number"}),(0,me.jsx)("input",{type:"number",value:a,onChange:function(e){return o(e.target.value)}}),(0,me.jsx)("h5",{children:"E-mail"}),(0,me.jsx)("input",{type:"text",value:u,onChange:function(e){return c(e.target.value)}}),(0,me.jsx)("h5",{children:"Password"}),(0,me.jsx)("input",{type:"password",value:h,onChange:function(e){return d(e.target.value)}}),(0,me.jsx)("h5",{children:"Type : Farmer"}),(0,me.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),YT.signInWithEmailAndPassword(u,h).then((function(e){p("/")})).catch((function(e){return alert(e.message)}))},className:"login_signIn",children:"Sign In"})]}),(0,me.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Enim velit vitae inventore quae ipsum impedit iusto odit harum! Porro quisquam magnam consequuntur aspernatur, recusandae adipisci autem optio"}),(0,me.jsx)("button",{onClick:function(e){e.preventDefault(),HT.collection("Farmers Account").doc(u).collection("farmer").add({name:t,number:a,email:u,type:"farmer"}),YT.createUserWithEmailAndPassword(u,h).then((function(e){})).catch((function(e){return alert(e.message)})),YT&&p("/")},className:"login_register",children:"Create your account"})]})})}function IA(){var e=l(ke(),2),t=e[0],n=(t.basket,t.user),r=(e[1],l((0,i.useState)(!1),2)),a=r[0],o=r[1],s=l((0,i.useState)(""),2),u=s[0],c=s[1],f=l((0,i.useState)(""),2),h=f[0],d=f[1],p=l((0,i.useState)(""),2),v=p[0],m=p[1],y=l((0,i.useState)(null),2),g=y[0],k=y[1],w=l((0,i.useState)(""),2),b=w[0],x=w[1],_=l((0,i.useState)(""),2),S=_[0],E=_[1],T=l((0,i.useState)(""),2),I=T[0],C=T[1],N=["image/jpg","image/jpeg","image/png","image/PNG"],A=V();return console.log(a),(0,i.useEffect)((function(){n&&HT.collection("Farmers Account").doc(n.email).collection("farmer").get().then((function(e){e.docs.forEach((function(e){var t;"farmer"==(null===(t=e.data())||void 0===t?void 0:t.type)?o(!0):o(!1)}))}))}),[n]),(0,me.jsx)("div",{children:n&&a?(0,me.jsxs)("div",{className:"addProducts",children:[(0,me.jsx)("br",{}),(0,me.jsx)("br",{}),(0,me.jsx)("br",{}),(0,me.jsx)("h1",{children:"Add Products"}),(0,me.jsx)("hr",{}),S&&(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)("div",{className:"success-msg",children:S}),(0,me.jsx)("br",{})]}),(0,me.jsxs)("form",{autoComplete:"off",className:"form_group",onSubmit:function(e){e.preventDefault(),GT.ref("farmer-product-images/".concat(g.name)).put(g).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log(t)}),(function(e){return C(e.message)}),(function(){GT.ref("farmer-product-images").child(g.name).getDownloadURL().then((function(e){HT.collection("farmer-Products").add({user:n.email,title:u,description:h,price:Number(v),url:e}).then((function(){E("Product added Succesfully"),c(""),d(""),m(""),document.querySelector("#file").value="",x(""),C(""),setTimeout((function(){})),E("")}),3e3)})).catch((function(e){return C(e.message)}))}))},children:[(0,me.jsx)("label",{children:"Product Title"}),(0,me.jsx)("input",{type:"text",className:"form_control",required:!0,onChange:function(e){return c(e.target.value)},value:u}),(0,me.jsx)("br",{}),(0,me.jsx)("label",{children:"Product Description"}),(0,me.jsx)("input",{type:"text",className:"form_control",required:!0,onChange:function(e){return d(e.target.value)},value:h}),(0,me.jsx)("br",{}),(0,me.jsx)("label",{children:"Product Price (In Rs)"}),(0,me.jsx)("input",{type:"text",className:"form_control",required:!0,onChange:function(e){return m(e.target.value)},value:v}),(0,me.jsx)("br",{}),(0,me.jsx)("label",{children:"Upload Product Image"}),(0,me.jsx)("input",{type:"file",id:"file",className:"form_control",required:!0,onChange:function(e){var t=e.target.files[0];t?t&&N.includes(t.type)?(k(t),x("")):(k(null),x("pelase select a valid image type (png,jpg,jpeg)")):console.log("please select a file")}}),(0,me.jsx)("br",{}),b&&(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)("br",{}),(0,me.jsx)("div",{className:"error_message",children:b})]}),(0,me.jsx)("div",{children:(0,me.jsx)("button",{type:"submit",children:"Submit"})})]}),I&&(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)("br",{}),(0,me.jsx)("div",{className:"error_message",children:I})]})]}):A("/")})}function CA(e){var t=e.product,n=l((0,i.useState)(""),2),r=n[0],a=n[1];return(0,me.jsx)("div",{children:(0,me.jsxs)("div",{className:"individualorder",children:[(0,me.jsxs)("div",{children:["Request Title : ",t.title]}),(0,me.jsxs)("div",{children:["Request Price : ",t.price]}),(0,me.jsxs)("div",{children:["Request Description : ",t.description]}),(0,me.jsxs)("div",{children:["Request User : ",t.user]}),(0,me.jsxs)("div",{children:["Request image :"," ",(0,me.jsx)("img",{style:{width:"15rem",objectFit:"contain"},src:t.url,alt:""})]}),(0,me.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),"accept"==document.querySelector(".decisionStatus").value){a("Request Updated");HT.collection("Products").add({title:t.title,description:t.description,price:Number(t.price),url:t.url}).then((function(){HT.collection("farmer-Products").doc(t.ID).delete()}))}else{a("Request Updated");HT.collection("farmer-Products").doc(t.ID).delete()}},children:[(0,me.jsx)("label",{children:" Decision "}),(0,me.jsxs)("select",{className:"decisionStatus",children:[(0,me.jsx)("option",{value:"accept",children:"Accept"}),(0,me.jsx)("option",{value:"reject",children:"Reject"})]}),r.length>0?(0,me.jsx)("button",{disabled:!0,type:"submit",children:"Update"}):(0,me.jsx)("button",{type:"submit",children:"Update"}),(0,me.jsx)("div",{style:{color:"green"}})]}),(0,me.jsx)("h3",{children:r})]})})}function NA(e){return e.products.map((function(e){return(0,me.jsx)(CA,{product:e},e.id)}))}function AA(){var e=l(ke(),2),t=e[0],n=(t.basket,t.user),r=(e[1],V()),a=l((0,i.useState)([]),2),o=a[0],s=a[1],u=function(){var e=de(ve().mark((function e(){var t,n,r,i,a,o;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HT.collection("farmer-Products").get();case 2:t=e.sent,n=[],r=fe(t.docs);try{for(r.s();!(i=r.n()).done;)a=i.value,(o=a.data()).ID=a.id,n.push(le({},o)),n.length===t.docs.length&&s(n)}catch(u){r.e(u)}finally{r.f()}case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){u()}),[]),(0,me.jsx)(me.Fragment,{children:n&&"adminxya@gmail.com"===n.email?(0,me.jsxs)("div",{className:"addrequest",children:[(0,me.jsx)("h3",{children:"All Request"}),o.length>0&&(0,me.jsx)(NA,{products:o})]}):r("/")})}var PA=n(6038);function DA(e){var t=e.product,n=e.discount,r=l(ke(),2),a=(r[0].basket,r[1]),o=l((0,i.useState)(1),2),s=o[0],u=o[1];return(0,me.jsxs)("div",{className:"categoryIndividualProduct",children:[(0,me.jsxs)("div",{className:"categoryIndividualProductImage",children:[(0,me.jsx)("div",{className:"discountImage",children:n&&(0,me.jsx)("img",{src:PA,alt:""})}),(0,me.jsx)("img",{src:null===t||void 0===t?void 0:t.image,alt:""})]}),(0,me.jsxs)("div",{className:"categoryIndividualProductContent",children:[(0,me.jsxs)("div",{className:"categoryIndividualProductTitle",children:[null===t||void 0===t?void 0:t.title," ",null===t||void 0===t?void 0:t.Name]}),(0,me.jsx)("div",{className:"categoryIndividualProductPrice",children:(0,me.jsxs)(me.Fragment,{children:[null===t||void 0===t?void 0:t.price1kg," ",null===t||void 0===t?void 0:t.price500," ",null===t||void 0===t?void 0:t.price250," ",null===t||void 0===t?void 0:t.price100," ",null===t||void 0===t?void 0:t.Price," ",null===t||void 0===t?void 0:t.price,null!==t&&void 0!==t&&t.salesPrice?(0,me.jsxs)("div",{className:"catchSpicesPrice",children:[(0,me.jsx)("h5",{children:null===t||void 0===t?void 0:t.MRPprice}),(null===t||void 0===t?void 0:t.salesPrice)+"\u20b9"]}):"\u20b9",null!==t&&void 0!==t&&t.weight?"/"+(null===t||void 0===t?void 0:t.weight):null===t||void 0===t?void 0:t.weight]})}),(0,me.jsx)("div",{className:"categoryIndividualProductAddToCartButton",children:(0,me.jsxs)("div",{className:"quantityAddCartCategoryButton",children:[(0,me.jsxs)("div",{children:[(0,me.jsx)("button",{onClick:function(){u(s+1)},children:(0,me.jsx)("i",{class:"fa fa-arrow-up","aria-hidden":"true"})}),(0,me.jsx)("button",{onClick:function(){1!=s&&u(s-1)},children:(0,me.jsx)("i",{class:"fa fa-arrow-down","aria-hidden":"true"})})]}),(0,me.jsxs)("button",{onClick:function(){var e=0,n="";null!=(null===t||void 0===t?void 0:t.price)&&(e=t.price),null!=(null===t||void 0===t?void 0:t.Price)&&(e=t.Price),null!=(null===t||void 0===t?void 0:t.salesPrice)&&(e=t.salesPrice),null!=(null===t||void 0===t?void 0:t.price100)&&(e=t.price100),null!=(null===t||void 0===t?void 0:t.price250)&&(e=t.price250),null!=(null===t||void 0===t?void 0:t.price500)&&(e=t.price500),null!=(null===t||void 0===t?void 0:t.price1kg)&&(e=t.price1kg),"undefined"!=typeof t.Name&&(n=t.Name),"undefined"!=typeof t.title&&(n=t.title),a({type:"ADD_TO_BASKET",item:{id:t.ID,title:n,image:t.image,price:e*s,weight:t.weight,quantity:s}})},children:[(0,me.jsx)("i",{class:"fas fa-cart-plus"}),"Add To Cart ",s]})]})})]})]})}function OA(e){var t=e.products,n=e.discount,r=(e.multiplevege,e.settingSearchItemrouter,l((0,i.useState)(""),2)),a=r[0],o=r[1];return(0,me.jsxs)("div",{className:"allcategory",children:[(0,me.jsx)("label",{children:"Search"}),(0,me.jsx)("input",{className:"allcategorysearch",type:"text",placeholder:"Search...",onChange:function(e){return o(e.target.value)}}),(0,me.jsx)("div",{children:t.filter((function(e){return""==a||null!==e&&void 0!==e&&e.title.toLowerCase().includes(a.toLowerCase())?e:void 0})).map((function(e){return(0,me.jsx)(DA,{discount:n,product:e},e.id)}))})]})}function RA(){var e=l((0,i.useState)(iA),2),t=e[0],n=e[1],r=l((0,i.useState)([]),2),a=r[0],o=r[1],s=l((0,i.useState)(!1),2),u=s[0],c=s[1],f=l((0,i.useState)(!0),2),h=f[0],d=f[1],p=function(){var e=de(ve().mark((function e(){var n,r,i,a,s,u;return ve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,HT.collection(iA).get();case 3:if(r=e.sent,"fruits"!=t){e.next=10;break}return c(!1),e.next=8,HT.collection("Fruits").get();case 8:r=e.sent,d(!1);case 10:if("vegetable"!=t){e.next=16;break}return c(!1),e.next=14,HT.collection("New Vegetables").get();case 14:r=e.sent,d(!0);case 16:if("spices"!=t){e.next=22;break}return c(!0),e.next=20,HT.collection("Catch Spices").get();case 20:r=e.sent,d(!1);case 22:if("dairy"!=t){e.next=28;break}return c(!1),e.next=26,HT.collection("Dairy Products").get();case 26:r=e.sent,d(!1);case 28:if("dryfruits"!=t){e.next=34;break}return c(!1),e.next=32,HT.collection("Dry Fruits").get();case 32:r=e.sent,d(!1);case 34:if("seasonal"!=t){e.next=40;break}return c(!1),e.next=38,HT.collection("On Demand or Seasonal").get();case 38:r=e.sent,d(!0);case 40:i=fe(r.docs);try{for(i.s();!(a=i.n()).done;)s=a.value,(u=s.data()).ID=s.id,n.push(le({},u)),n.length==r.docs.length&&o(n)}catch(l){i.e(l)}finally{i.f()}case 42:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){p()}),[t]),(0,i.useEffect)((function(){p()}),[]),(0,me.jsxs)("div",{className:"categoryShop",children:[(0,me.jsxs)("div",{className:"category-sections",children:[(0,me.jsx)("h2",{children:"Choose Category"}),(0,me.jsxs)("div",{className:"category-buttons",children:[(0,me.jsx)("button",{onClick:function(){return n("vegetable")},children:"Vegetables"}),(0,me.jsx)("button",{onClick:function(){return n("fruits")},children:"Fruits"}),(0,me.jsx)("button",{onClick:function(){return n("dairy")},children:"Dairy"}),(0,me.jsx)("button",{onClick:function(){return n("spices")},children:"Spices"})]}),h&&(0,me.jsxs)("div",{className:"multipleVegetables",children:[(0,me.jsxs)("div",{onClick:function(){return n("vegetable")},children:[(0,me.jsx)("img",{src:"https://cdn.pixabay.com/photo/2016/03/10/18/44/top-view-1248955_960_720.jpg",alt:""}),(0,me.jsx)("h5",{children:"Regular"})]}),(0,me.jsxs)("div",{children:[(0,me.jsx)("img",{src:"https://cdn.pixabay.com/photo/2020/09/12/21/12/tomatoes-5566741_960_720.jpg",alt:""}),(0,me.jsx)("h5",{children:"Organic"})]}),(0,me.jsxs)("div",{onClick:function(){return n("seasonal")},children:[(0,me.jsx)("img",{src:"https://cdn.pixabay.com/photo/2015/07/17/13/44/cucumbers-849269_960_720.jpg",alt:""}),(0,me.jsx)("h5",{children:"Herbs and Seasonal"})]})]}),(0,me.jsxs)("div",{className:"showingnumber",children:["Showing 1-",a.length," of ",a.length," items",(0,me.jsx)("hr",{})]})]})," ",(0,me.jsxs)("div",{className:"allProductsCategory",children:[a.length>0&&(0,me.jsx)(OA,{discount:u,products:a,multiplevege:h}),a.length<1&&(0,me.jsx)(me.Fragment,{children:"Please Wait..."})]})]})}function jA(){return(0,me.jsxs)("div",{children:[" ",(0,me.jsx)(KN,{}),(0,me.jsx)(nA,{}),(0,me.jsx)(eA,{})]})}function LA(){var e=l((0,i.useState)(""),2),t=e[0],n=e[1],r=l((0,i.useState)(""),2),a=r[0],o=r[1],s=l((0,i.useState)(),2),u=s[0],c=s[1],f=V();return(0,me.jsx)("div",{className:"signin",children:(0,me.jsxs)("div",{className:"login_container",children:[(0,me.jsx)("h1",{children:"Sign Up"}),(0,me.jsxs)("form",{children:[(0,me.jsx)("h5",{children:"E-mail"}),(0,me.jsx)("input",{type:"text",value:t,onChange:function(e){return n(e.target.value)}}),(0,me.jsx)("h5",{children:"Password"}),(0,me.jsx)("input",{type:"password",value:a,onChange:function(e){return o(e.target.value)}}),(0,me.jsx)("h5",{children:"Mobile"}),(0,me.jsx)("input",{required:!0,type:"text",value:u,onChange:function(e){return c(e.target.value)}}),(0,me.jsx)("button",{onClick:function(e){e.preventDefault(),YT.createUserWithEmailAndPassword(t.trim(),a.trim()).then((function(e){})).catch((function(e){return alert(e.message)})),YT&&f("/")},className:"login_register",children:"Create your account"})]}),(0,me.jsx)("p",{children:"We don't share your data with third party apps or websites"}),(0,me.jsx)("button",{onClick:function(){return f("/signin")},children:"Login"})]})})}function MA(){return(0,me.jsxs)("div",{className:"tandc",children:[(0,me.jsx)("h4",{children:"Terms & Condition"}),(0,me.jsx)("p",{children:'Services of the Site would be available to only select geographies in India. Persons who are "incompetent to contract" within the meaning of the Indian Contract Act, 1872 including un-discharged insolvents etc. are not eligible to use the Site. If you are a minor i.e. under the age of 18 years but at least 13 years of age you may use the Site only under the supervision of a parent or legal guardian who agrees to be bound by these Terms of Use. If your age is below 18 years your parents or legal guardians can transact on behalf of you if they are registered users. You are prohibited from purchasing any material which is for adult consumption and the sale of which to minors is prohibited'}),(0,me.jsx)("h4",{children:"Account & Registration Obligations"}),(0,me.jsx)("p",{children:"All shoppers have to register and login for placing orders on the Site. You have to keep your account and registration details current and correct for communications related to your purchases from the site. By agreeing to the terms and conditions, the shopper agrees to receive promotional communication and newsletters upon registration."}),(0,me.jsx)("h4",{children:"Pricing"}),(0,me.jsx)("p",{children:"All the products listed on the Site will be sold at MRP unless otherwise specified. The prices mentioned at the time of ordering will be the prices charged on the date of the delivery. Although prices of most of the products do not fluctuate on a daily basis but some of the commodities and fresh food prices do change on a daily basis. In case the prices are higher or lower on the date of delivery no additional charges will be collected or refunded as the case may be at the time of the delivery of the order."}),(0,me.jsx)("h4",{children:"Cancellation by Site / Customer"}),(0,me.jsx)("p",{children:"You as a customer can cancel your order anytime up to product being shipped by our team in the order section in accounts settings. In such a case we will refund any payments already made by you for the order in your bfsmart wallet. If we suspect any fraudulent transaction by any customer or any transaction which defies the terms & conditions of using the website, we at our sole discretion could cancel such orders. We will maintain a negative list of all fraudulent transactions and customers and would deny access to them or cancel any orders placed by them."}),(0,me.jsx)("h4",{children:"You Agree and Confirm"}),(0,me.jsxs)("ul",{children:[(0,me.jsx)("li",{children:"That in the event that a non-delivery occurs on account of a mistake by you (i.e. wrong name or address or any other wrong information) any extra cost incurred by bfsmart for redelivery shall be claimed from you."}),(0,me.jsx)("li",{children:"That you will use the services provided by the Site, its affiliates, consultants and contracted companies, for lawful purposes only and comply with all applicable laws and regulations while using and transacting on the Site."}),(0,me.jsx)("li",{children:"You will provide authentic and true information in all instances where such information is requested of you. bfsmart reserves the right to confirm and validate the information and other details provided by you at any point of time. If upon confirmation your details are found not to be true (wholly or partly), it has the right in its sole discretion to reject the registration and debar you from using the Services and / or other affiliated websites without prior intimation whatsoever."}),(0,me.jsx)("li",{children:"You authorise bfsmart to contact you for any transactional purposes related to your order/account."}),(0,me.jsx)("li",{children:"That you are accessing the services available on this Site and transacting at your sole risk and are using your best and prudent judgment before entering into any transaction through this Site."}),(0,me.jsx)("li",{children:"That the address at which delivery of the product ordered by you is to be made will be correct and proper in all respects."}),(0,me.jsx)("li",{children:"That before placing an order you will check the product description carefully. By placing an order for a product you agree to be bound by the conditions of sale included in the item's description."}),(0,me.jsx)("li",{children:"The quantity of fruits and vegetables delivered may be slightly less or more than the order, because of variation of product size."})]}),(0,me.jsx)("h4",{children:"You may not use the Site for any of the following purposes:"}),(0,me.jsx)("p",{children:"You may not use the Site for any of the following purposes:"}),(0,me.jsxs)("ul",{children:[(0,me.jsx)("li",{children:"Transmitting material that encourages conduct that constitutes a criminal offence or results in civil liability or otherwise breaches any relevant laws, regulations or code of practice."}),(0,me.jsx)("li",{children:"Gaining unauthorized access to other computer systems."}),(0,me.jsx)("li",{children:"Interfering with any other person's use or enjoyment of the Site."}),(0,me.jsx)("li",{children:"Breaching any applicable laws."}),(0,me.jsx)("li",{children:"Interfering or disrupting networks or web sites connected to the Site."}),(0,me.jsx)("li",{children:"Making, transmitting or storing electronic copies of materials protected by copyright without the permission of the owner."})]}),(0,me.jsx)("h4",{children:"Modification of Terms & Conditions of Service"}),(0,me.jsx)("p",{children:"bfsmart may at any time modify the Terms & Conditions of Use of the Website without any prior notification to you. You can access the latest version of these Terms & Conditions at any given time on the Site. You should regularly review the Terms & Conditions on the Site. In the event the modified Terms & Conditions is not acceptable to you, you should discontinue using the Service. However, if you continue to use the Service you shall be deemed to have agreed to accept and abide by the modified Terms & Conditions of Use of this Site."})]})}function FA(){return(0,me.jsxs)("div",{className:"privacy-policy",children:[(0,me.jsx)("h4",{children:"Privacy Policy"}),(0,me.jsxs)("div",{children:[(0,me.jsx)("p",{children:"bfsmart respects your privacy. This Privacy Policy provides succinctly the manner your data is collected and used by us on the Site. As a visitor to the Site/ Customer you are advised to please read the Privacy Policy carefully. By accessing the services provided by the Site you agree to the collection and use of your data by bfsmart in the manner provided in this Privacy Policy."}),(0,me.jsx)("h4",{children:"What information is, or may be, collected form you?"}),(0,me.jsx)("p",{children:"As part of the registration process on the Site, bfsmart may collect the following personally identifiable information about you: Name including first and last name, email address, mobile phone number and contact details, Postal code, Demographic profile (like your age, gender, occupation, education, address etc.) and information about the pages on the site you visit/access, the links you click on the site, the number of times you access the page and any such browsing information"}),(0,me.jsx)("h4",{children:"How do we Collect the Information ?"}),(0,me.jsx)("p",{children:"bfsmart will collect personally identifiable information about you only as part of a voluntary registration process, on-line survey or any combination thereof. The Site may contain links to other Web sites. IRCPL is not responsible for the privacy practices of such Web sites which it does not own, manage or control. The Site and third-party vendors, including Google, use first-party cookies (such as the Google Analytics cookie) and third-party cookies (such as the DoubleClick cookie) together to inform, optimize, and serve ads based on someone's past visits to the Site."}),(0,me.jsx)("h4",{children:"How is information used ?"}),(0,me.jsx)("p",{children:"bfsmart will use your personal information to provide personalized features to you on the Site and to provide for promotional offers to you through the Site and other channels. bfsmart will also provide this information to its business associates and partners to get in touch with you when necessary to provide the services requested by you. bfsmart will use this information to preserve transaction history as governed by existing law or policy. bfsmart may also use contact information internally to direct its efforts for product improvement, to contact you as a survey respondent, to notify you if you win any contest; and to send you promotional materials from its contest sponsors or advertisers. Information about Customers on an aggregate (exlcuding any information that may identify you specifically) covering Customer transaction data and Customer demographic and location data may be provided to partners of bfsmart for the purpose of creating additional features on the website, creating appropriate merchandising or creating new products and services and conducting marketing research and statistical analysis of customer behaviour and transactions."}),(0,me.jsx)("h4",{children:"With whom your information will be shared ?"}),(0,me.jsx)("p",{children:"IRCPL will not use your financial information for any purpose other than to complete a transaction with you. bfsmart does not rent, sell or share your personal information and will not disclose any of your personally identifiable information to third parties. In cases where it has your permission to provide products or services you've requested and such information is necessary to provide these products or services the information may be shared with bfsmart business associates and partners. bfsmart may, however, share consumer information on an aggregate with its partners or third parties where it deems necessary. In addition bfsmart may use this information for promotional offers, to help investigate, prevent or take action regarding unlawful and illegal activities, suspected fraud, potential threat to the safety or security of any person, violations of the Site\u2019s terms of use or to defend against legal claims; special circumstances such as compliance with subpoenas, court orders, requests/order from legal authorities or law enforcement agencies requiring such disclosure."}),(0,me.jsx)("h4",{children:"Policy updates"}),(0,me.jsx)("p",{children:"bfsmart reserves the right to change or update this policy at any time. Such changes shall be effective immediately upon posting to the Site."})]})]})}var UA=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];g=!0;var r=Date.now();return y.then((function(e){return m(e,t,r)}))}("pk_test_51KFKPQSEzGgZfCwJZ3niSn0wMhqbTXq5TW1eQnFkKsf28nfz48M65nb832i0DgmnDaLQxMG4JxjRdl6RLm3K6amT00PICsytjv");var VA=function(){var e=l(ke(),2);!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e[0]);var t=e[1];return(0,i.useEffect)((function(){YT.onAuthStateChanged((function(e){t(e?{type:"SET_USER",user:e}:{type:"SET_USER",user:null})}))}),[]),(0,me.jsx)(oe,{basename:"/",children:(0,me.jsxs)("div",{className:"App",children:[(0,me.jsx)(JT,{}),(0,me.jsxs)(L,{children:[(0,me.jsx)(R,{path:"/",element:(0,me.jsx)(aA,{})}),(0,me.jsx)(R,{path:"/checkout",element:(0,me.jsx)(hA,{})}),(0,me.jsx)(R,{path:"/payment",element:(0,me.jsx)(k.Elements,{stripe:UA,children:(0,me.jsx)(mA,{})})}),(0,me.jsx)(R,{path:"/signin",element:(0,me.jsx)(dA,{})}),(0,me.jsx)(R,{path:"/shop",element:(0,me.jsx)(RA,{})}),(0,me.jsx)(R,{path:"/contact",element:(0,me.jsx)(yA,{})}),(0,me.jsx)(R,{path:"/orders",element:(0,me.jsx)(kA,{})}),(0,me.jsx)(R,{path:"/admin",element:(0,me.jsx)(_A,{})}),(0,me.jsx)(R,{path:"/addProducts",element:(0,me.jsx)(wA,{})}),(0,me.jsx)(R,{path:"/farmer",element:(0,me.jsx)(EA,{})}),(0,me.jsx)(R,{path:"/farmersignin",element:(0,me.jsx)(TA,{})}),(0,me.jsx)(R,{path:"/farmerDashBoard",element:(0,me.jsx)(IA,{})}),(0,me.jsx)(R,{path:"/addrequest",element:(0,me.jsx)(AA,{})}),(0,me.jsx)(R,{path:"/categoryShop",element:(0,me.jsx)(RA,{})}),(0,me.jsx)(R,{path:"/aboutuspage",element:(0,me.jsx)(jA,{})}),(0,me.jsx)(R,{path:"/signup",element:(0,me.jsx)(LA,{})}),(0,me.jsx)(R,{path:"/termsandconditions",element:(0,me.jsx)(MA,{})}),(0,me.jsx)(R,{path:"/privacy",element:(0,me.jsx)(FA,{})})]}),(0,me.jsx)(tA,{})]})})},BA=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};a.render((0,me.jsx)(i.StrictMode,{children:(0,me.jsx)(ge,{initialState:{basket:[],user:null},reducer:lA,children:(0,me.jsx)(VA,{})})}),document.getElementById("root")),BA()},5764:function(e,t,n){!function(e,t){"use strict";function n(e,t){return e(t={exports:{}},t.exports),t.exports}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function i(){}function a(){}a.resetWarningCache=i;var o=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n},s=n((function(e){e.exports=o()}));function u(e){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){return d(e)||p(e,t)||v(e,t)||y()}function d(e){if(Array.isArray(e))return e}function p(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}function v(e,t){if(e){if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var g=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},k=function(e){return null!==e&&"object"===u(e)},w=function(e){return k(e)&&"function"===typeof e.then},b=function(e){return k(e)&&"function"===typeof e.elements&&"function"===typeof e.createToken&&"function"===typeof e.createPaymentMethod&&"function"===typeof e.confirmCardPayment},x="[object Object]",_=function e(t,n){if(!k(t)||!k(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var i=Object.prototype.toString.call(t)===x;if(i!==(Object.prototype.toString.call(n)===x))return!1;if(!i&&!r)return t===n;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(var s={},u=0;u<a.length;u+=1)s[a[u]]=!0;for(var c=0;c<o.length;c+=1)s[o[c]]=!0;var l=Object.keys(s);if(l.length!==a.length)return!1;var f=t,h=n,d=function(t){return e(f[t],h[t])};return l.every(d)},S=function(e,t,n){return k(e)?Object.keys(e).reduce((function(r,i){var a=!k(t)||!_(e[i],t[i]);return n.includes(i)?(a&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),r):a?f(f({},r||{}),{},c({},i,e[i])):r}),null):null},E="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",T=function(e){if(null===e||b(e))return e;throw new Error(E)},I=function(e){if(w(e))return{tag:"async",stripePromise:Promise.resolve(e).then(T)};var t=T(e);return null===t?{tag:"empty"}:{tag:"sync",stripe:t}},C=t.createContext(null);C.displayName="ElementsContext";var N=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},A=function(e){var n=e.stripe,r=e.options,i=e.children,a=t.useRef(!1),o=t.useRef(!0),s=t.useMemo((function(){return I(n)}),[n]),u=h(t.useState((function(){return{stripe:null,elements:null}})),2),c=u[0],l=u[1],f=g(n);null!==f&&f!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it."),a.current||("sync"===s.tag&&(a.current=!0,l({stripe:s.stripe,elements:s.stripe.elements(r)})),"async"===s.tag&&(a.current=!0,s.stripePromise.then((function(e){e&&o.current&&l({stripe:e,elements:e.elements(r)})}))));var d=g(r);return t.useEffect((function(){if(c.elements){var e=S(r,d,["clientSecret","fonts"]);e&&c.elements.update(e)}}),[r,d,c.elements]),t.useEffect((function(){return function(){o.current=!1}}),[]),t.useEffect((function(){var e=c.stripe;e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"1.7.0"}),e.registerAppInfo({name:"react-stripe-js",version:"1.7.0",url:"https://stripe.com/docs/stripe-js/react"}))}),[c.stripe]),t.createElement(C.Provider,{value:c},i)};A.propTypes={stripe:s.any,options:s.object};var P=function(e){var n=t.useContext(C);return N(n,e)},D=function(){return P("calls useElements()").elements},O=function(){return P("calls useStripe()").stripe},R=function(e){return(0,e.children)(P("mounts <ElementsConsumer>"))};R.propTypes={children:s.func.isRequired};var j=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),function(){n.current&&n.current.apply(n,arguments)}},L=function(){},M=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},F=function(e,n){var r="".concat(M(e),"Element"),i=n?function(e){P("mounts <".concat(r,">"));var n=e.id,i=e.className;return t.createElement("div",{id:n,className:i})}:function(n){var i=n.id,a=n.className,o=n.options,s=void 0===o?{}:o,u=n.onBlur,c=void 0===u?L:u,l=n.onFocus,f=void 0===l?L:l,h=n.onReady,d=void 0===h?L:h,p=n.onChange,v=void 0===p?L:p,m=n.onEscape,y=void 0===m?L:m,k=n.onClick,w=void 0===k?L:k,b=P("mounts <".concat(r,">")).elements,x=t.useRef(null),_=t.useRef(null),E=j(d),T=j(c),I=j(f),C=j(w),N=j(v),A=j(y);t.useLayoutEffect((function(){if(null==x.current&&b&&null!=_.current){var t=b.create(e,s);x.current=t,t.mount(_.current),t.on("ready",(function(){return E(t)})),t.on("change",N),t.on("blur",T),t.on("focus",I),t.on("escape",A),t.on("click",C)}}));var D=g(s);return t.useEffect((function(){if(x.current){var e=S(s,D,["paymentRequest"]);e&&x.current.update(e)}}),[s,D]),t.useLayoutEffect((function(){return function(){x.current&&x.current.destroy()}}),[]),t.createElement("div",{id:i,className:a,ref:_})};return i.propTypes={id:s.string,className:s.string,onChange:s.func,onBlur:s.func,onFocus:s.func,onReady:s.func,onClick:s.func,options:s.object},i.displayName=r,i.__elementType=e,i},U="undefined"===typeof window,V=F("auBankAccount",U),B=F("card",U),q=F("cardNumber",U),z=F("cardExpiry",U),W=F("cardCvc",U),H=F("fpxBank",U),Y=F("iban",U),G=F("idealBank",U),K=F("p24Bank",U),Q=F("epsBank",U),J=F("payment",U),X=F("paymentRequestButton",U),$=F("linkAuthentication",U),Z=F("shippingAddress",U),ee=F("affirmMessage",U),te=F("afterpayClearpayMessage",U);e.AffirmMessageElement=ee,e.AfterpayClearpayMessageElement=te,e.AuBankAccountElement=V,e.CardCvcElement=W,e.CardElement=B,e.CardExpiryElement=z,e.CardNumberElement=q,e.Elements=A,e.ElementsConsumer=R,e.EpsBankElement=Q,e.FpxBankElement=H,e.IbanElement=Y,e.IdealBankElement=G,e.LinkAuthenticationElement=$,e.P24BankElement=K,e.PaymentElement=J,e.PaymentRequestButtonElement=X,e.ShippingAddressElement=Z,e.useElements=D,e.useStripe=O,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(2791))},4569:function(e,t,n){e.exports=n(8036)},3381:function(e,t,n){"use strict";var r=n(3589),i=n(7297),a=n(9301),o=n(9774),s=n(1804),u=n(9145),c=n(5411),l=n(6467),f=n(221),h=n(9346);e.exports=function(e){return new Promise((function(t,n){var d,p=e.data,v=e.headers,m=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(d),e.signal&&e.signal.removeEventListener("abort",d)}r.isFormData(p)&&delete v["Content-Type"];var g=new XMLHttpRequest;if(e.auth){var k=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";v.Authorization="Basic "+btoa(k+":"+w)}var b=s(e.baseURL,e.url);function x(){if(g){var r="getAllResponseHeaders"in g?u(g.getAllResponseHeaders()):null,a={data:m&&"text"!==m&&"json"!==m?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:e,request:g};i((function(e){t(e),y()}),(function(e){n(e),y()}),a),g=null}}if(g.open(e.method.toUpperCase(),o(b,e.params,e.paramsSerializer),!0),g.timeout=e.timeout,"onloadend"in g?g.onloadend=x:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(x)},g.onabort=function(){g&&(n(l("Request aborted",e,"ECONNABORTED",g)),g=null)},g.onerror=function(){n(l("Network Error",e,null,g)),g=null},g.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||f.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},r.isStandardBrowserEnv()){var _=(e.withCredentials||c(b))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;_&&(v[e.xsrfHeaderName]=_)}"setRequestHeader"in g&&r.forEach(v,(function(e,t){"undefined"===typeof p&&"content-type"===t.toLowerCase()?delete v[t]:g.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),m&&"json"!==m&&(g.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&g.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(d=function(e){g&&(n(!e||e&&e.type?new h("canceled"):e),g.abort(),g=null)},e.cancelToken&&e.cancelToken.subscribe(d),e.signal&&(e.signal.aborted?d():e.signal.addEventListener("abort",d))),p||(p=null),g.send(p)}))}},8036:function(e,t,n){"use strict";var r=n(3589),i=n(4049),a=n(3773),o=n(777);var s=function e(t){var n=new a(t),s=i(a.prototype.request,n);return r.extend(s,a.prototype,n),r.extend(s,n),s.create=function(n){return e(o(t,n))},s}(n(221));s.Axios=a,s.Cancel=n(9346),s.CancelToken=n(6857),s.isCancel=n(5517),s.VERSION=n(7600).version,s.all=function(e){return Promise.all(e)},s.spread=n(8089),s.isAxiosError=n(9580),e.exports=s,e.exports.default=s},9346:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},6857:function(e,t,n){"use strict";var r=n(9346);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},5517:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3773:function(e,t,n){"use strict";var r=n(3589),i=n(9774),a=n(7470),o=n(2733),s=n(777),u=n(7835),c=u.validators;function l(e){this.defaults=e,this.interceptors={request:new a,response:new a}}l.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&u.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,a=[];if(this.interceptors.response.forEach((function(e){a.push(e.fulfilled,e.rejected)})),!r){var l=[o,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(a),i=Promise.resolve(e);l.length;)i=i.then(l.shift(),l.shift());return i}for(var f=e;n.length;){var h=n.shift(),d=n.shift();try{f=h(f)}catch(p){d(p);break}}try{i=o(f)}catch(p){return Promise.reject(p)}for(;a.length;)i=i.then(a.shift(),a.shift());return i},l.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=l},7470:function(e,t,n){"use strict";var r=n(3589);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},1804:function(e,t,n){"use strict";var r=n(4044),i=n(9549);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},6467:function(e,t,n){"use strict";var r=n(6460);e.exports=function(e,t,n,i,a){var o=new Error(e);return r(o,t,n,i,a)}},2733:function(e,t,n){"use strict";var r=n(3589),i=n(2693),a=n(5517),o=n(221),s=n(9346);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return u(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(u(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},6460:function(e){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},777:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function o(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function u(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||a,i=t(e);r.isUndefined(i)&&t!==u||(n[e]=i)})),n}},7297:function(e,t,n){"use strict";var r=n(6467);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},2693:function(e,t,n){"use strict";var r=n(3589),i=n(221);e.exports=function(e,t,n){var a=this||i;return r.forEach(n,(function(n){e=n.call(a,e,t)})),e}},221:function(e,t,n){"use strict";var r=n(3589),i=n(4341),a=n(6460),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(3381)),e}(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||u.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(o){if("SyntaxError"===s.name)throw a(s,this,"E_JSON_PARSE");throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(o)})),e.exports=u},7600:function(e){e.exports={version:"0.24.0"}},4049:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},9774:function(e,t,n){"use strict";var r=n(3589);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},9549:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},9301:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4044:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},9580:function(e){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},5411:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},4341:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},9145:function(e,t,n){"use strict";var r=n(3589),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},8089:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7835:function(e,t,n){"use strict";var r=n(7600).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var a={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,o){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!a[r]&&(a[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,o)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var s=e[a],u=void 0===s||o(s,a,e);if(!0!==u)throw new TypeError("option "+a+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+a)}},validators:i}},3589:function(e,t,n){"use strict";var r=n(4049),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function o(e){return"undefined"===typeof e}function s(e){return null!==e&&"object"===typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isPlainObject:u,isUndefined:o,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:l,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):a(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},2426:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function c(e){return void 0===e}function l(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function f(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function d(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Gn(e,t,n,r,!0).utc()}function v(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function m(e){return null==e._pf&&(e._pf=v()),e._pf}function y(e){if(null==e._isValid){var t=m(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function g(e){var t=p(NaN);return null!=e?d(m(t),e):m(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var k=r.momentProperties=[],w=!1;function b(e,t){var n,r,i;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=m(t)),c(t._locale)||(e._locale=t._locale),k.length>0)for(n=0;n<k.length;n++)c(i=t[r=k[n]])||(e[r]=i);return e}function x(e){b(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===w&&(w=!0,r.updateOffset(this),w=!1)}function _(e){return e instanceof x||null!=e&&null!=e._isAMomentObject}function S(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function E(e,t){var n=!0;return d((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,a,o,u=[];for(a=0;a<arguments.length;a++){if(i="","object"===typeof arguments[a]){for(o in i+="\n["+a+"] ",arguments[0])s(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[a];u.push(i)}S(e+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var T,I={};function C(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),I[e]||(S(t),I[e]=!0)}function N(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function A(e){var t,n;for(n in e)s(e,n)&&(N(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function P(e,t){var n,r=d({},e);for(n in t)s(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},d(r[n],e[n]),d(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)s(e,n)&&!s(t,n)&&o(e[n])&&(r[n]=d({},r[n]));return r}function D(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,T=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var O={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function R(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return N(r)?r.call(t,n):r}function j(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,M=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},U={};function V(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(U[e]=i),t&&(U[t[0]]=function(){return j(i.apply(this,arguments),t[1],t[2])}),n&&(U[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function B(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function q(e){var t,n,r=e.match(L);for(t=0,n=r.length;t<n;t++)U[r[t]]?r[t]=U[r[t]]:r[t]=B(r[t]);return function(t){var i,a="";for(i=0;i<n;i++)a+=N(r[i])?r[i].call(t,e):r[i];return a}}function z(e,t){return e.isValid()?(t=W(t,e.localeData()),F[t]=F[t]||q(t),F[t](e)):e.localeData().invalidDate()}function W(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(M.lastIndex=0;n>=0&&M.test(e);)e=e.replace(M,r),M.lastIndex=0,n-=1;return e}var H={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Y(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(L).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var G="Invalid date";function K(){return this._invalidDate}var Q="%d",J=/\d{1,2}/;function X(e){return this._ordinal.replace("%d",e)}var $={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Z(e,t,n,r){var i=this._relativeTime[n];return N(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return N(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function re(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ie(e){var t,n,r={};for(n in e)s(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var ae={};function oe(e,t){ae[e]=t}function se(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:ae[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function ue(e){return e%4===0&&e%100!==0||e%400===0}function ce(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function le(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=ce(t)),n}function fe(e,t){return function(n){return null!=n?(de(this,e,n),r.updateOffset(this,t),this):he(this,e)}}function he(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function de(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ue(e.year())&&1===e.month()&&29===e.date()?(n=le(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Ze(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function pe(e){return N(this[e=re(e)])?this[e]():this}function ve(e,t){if("object"===typeof e){var n,r=se(e=ie(e));for(n=0;n<r.length;n++)this[r[n].unit](e[r[n].unit])}else if(N(this[e=re(e)]))return this[e](t);return this}var me,ye=/\d/,ge=/\d\d/,ke=/\d{3}/,we=/\d{4}/,be=/[+-]?\d{6}/,xe=/\d\d?/,_e=/\d\d\d\d?/,Se=/\d\d\d\d\d\d?/,Ee=/\d{1,3}/,Te=/\d{1,4}/,Ie=/[+-]?\d{1,6}/,Ce=/\d+/,Ne=/[+-]?\d+/,Ae=/Z|[+-]\d\d:?\d\d/gi,Pe=/Z|[+-]\d\d(?::?\d\d)?/gi,De=/[+-]?\d+(\.\d{1,3})?/,Oe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Re(e,t,n){me[e]=N(t)?t:function(e,r){return e&&n?n:t}}function je(e,t){return s(me,e)?me[e](t._strict,t._locale):new RegExp(Le(e))}function Le(e){return Me(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function Me(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}me={};var Fe={};function Ue(e,t){var n,r=t;for("string"===typeof e&&(e=[e]),l(t)&&(r=function(e,n){n[t]=le(e)}),n=0;n<e.length;n++)Fe[e[n]]=r}function Ve(e,t){Ue(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function Be(e,t,n){null!=t&&s(Fe,e)&&Fe[e](t,n._a,n,e)}var qe,ze=0,We=1,He=2,Ye=3,Ge=4,Ke=5,Qe=6,Je=7,Xe=8;function $e(e,t){return(e%t+t)%t}function Ze(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=$e(t,12);return e+=(t-n)/12,1===n?ue(e)?29:28:31-n%7%2}qe=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},V("M",["MM",2],"Mo",(function(){return this.month()+1})),V("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),V("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),oe("month",8),Re("M",xe),Re("MM",xe,ge),Re("MMM",(function(e,t){return t.monthsShortRegex(e)})),Re("MMMM",(function(e,t){return t.monthsRegex(e)})),Ue(["M","MM"],(function(e,t){t[We]=le(e)-1})),Ue(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[We]=i:m(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rt=Oe,it=Oe;function at(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone}function ot(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function st(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=qe.call(this._shortMonthsParse,o))?i:null:-1!==(i=qe.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=qe.call(this._shortMonthsParse,o))||-1!==(i=qe.call(this._longMonthsParse,o))?i:null:-1!==(i=qe.call(this._longMonthsParse,o))||-1!==(i=qe.call(this._shortMonthsParse,o))?i:null}function ut(e,t,n){var r,i,a;if(this._monthsParseExact)return st.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ct(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=le(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Ze(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function lt(e){return null!=e?(ct(this,e),r.updateOffset(this,!0),this):he(this,"Month")}function ft(){return Ze(this.year(),this.month())}function ht(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function dt(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=it),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pt(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],a=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),a.sort(e),t=0;t<12;t++)r[t]=Me(r[t]),i[t]=Me(i[t]);for(t=0;t<24;t++)a[t]=Me(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function vt(e){return ue(e)?366:365}V("Y",0,0,(function(){var e=this.year();return e<=9999?j(e,4):"+"+e})),V(0,["YY",2],0,(function(){return this.year()%100})),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),oe("year",1),Re("Y",Ne),Re("YY",xe,ge),Re("YYYY",Te,we),Re("YYYYY",Ie,be),Re("YYYYYY",Ie,be),Ue(["YYYYY","YYYYYY"],ze),Ue("YYYY",(function(e,t){t[ze]=2===e.length?r.parseTwoDigitYear(e):le(e)})),Ue("YY",(function(e,t){t[ze]=r.parseTwoDigitYear(e)})),Ue("Y",(function(e,t){t[ze]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return le(e)+(le(e)>68?1900:2e3)};var mt=fe("FullYear",!0);function yt(){return ue(this.year())}function gt(e,t,n,r,i,a,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,a,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,a,o),s}function kt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function wt(e,t,n){var r=7+t-n;return-(7+kt(e,0,r).getUTCDay()-t)%7+r-1}function bt(e,t,n,r,i){var a,o,s=1+7*(t-1)+(7+n-r)%7+wt(e,r,i);return s<=0?o=vt(a=e-1)+s:s>vt(e)?(a=e+1,o=s-vt(e)):(a=e,o=s),{year:a,dayOfYear:o}}function xt(e,t,n){var r,i,a=wt(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?r=o+_t(i=e.year()-1,t,n):o>_t(e.year(),t,n)?(r=o-_t(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function _t(e,t,n){var r=wt(e,t,n),i=wt(e+1,t,n);return(vt(e)-r+i)/7}function St(e){return xt(e,this._week.dow,this._week.doy).week}V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),oe("week",5),oe("isoWeek",5),Re("w",xe),Re("ww",xe,ge),Re("W",xe),Re("WW",xe,ge),Ve(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=le(e)}));var Et={dow:0,doy:6};function Tt(){return this._week.dow}function It(){return this._week.doy}function Ct(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Nt(e){var t=xt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function At(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Pt(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Dt(e,t){return e.slice(t,7).concat(e.slice(0,t))}V("d",0,"do","day"),V("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),V("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),V("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),oe("day",11),oe("weekday",11),oe("isoWeekday",11),Re("d",xe),Re("e",xe),Re("E",xe),Re("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Re("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Re("dddd",(function(e,t){return t.weekdaysRegex(e)})),Ve(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:m(n).invalidWeekday=e})),Ve(["d","e","E"],(function(e,t,n,r){t[r]=le(e)}));var Ot="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Rt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),jt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Lt=Oe,Mt=Oe,Ft=Oe;function Ut(e,t){var n=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Dt(n,this._week.dow):e?n[e.day()]:n}function Vt(e){return!0===e?Dt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Bt(e){return!0===e?Dt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function qt(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=qe.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=qe.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=qe.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=qe.call(this._weekdaysParse,o))||-1!==(i=qe.call(this._shortWeekdaysParse,o))||-1!==(i=qe.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=qe.call(this._shortWeekdaysParse,o))||-1!==(i=qe.call(this._weekdaysParse,o))||-1!==(i=qe.call(this._minWeekdaysParse,o))?i:null:-1!==(i=qe.call(this._minWeekdaysParse,o))||-1!==(i=qe.call(this._weekdaysParse,o))||-1!==(i=qe.call(this._shortWeekdaysParse,o))?i:null}function zt(e,t,n){var r,i,a;if(this._weekdaysParseExact)return qt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Wt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=At(e,this.localeData()),this.add(e-t,"d")):t}function Ht(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Yt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Pt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Gt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Lt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Kt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Mt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Qt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ft),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Jt(){function e(e,t){return t.length-e.length}var t,n,r,i,a,o=[],s=[],u=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=Me(this.weekdaysMin(n,"")),i=Me(this.weekdaysShort(n,"")),a=Me(this.weekdays(n,"")),o.push(r),s.push(i),u.push(a),c.push(r),c.push(i),c.push(a);o.sort(e),s.sort(e),u.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Xt(){return this.hours()%12||12}function $t(){return this.hours()||24}function Zt(e,t){V(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}V("H",["HH",2],0,"hour"),V("h",["hh",2],0,Xt),V("k",["kk",2],0,$t),V("hmm",0,0,(function(){return""+Xt.apply(this)+j(this.minutes(),2)})),V("hmmss",0,0,(function(){return""+Xt.apply(this)+j(this.minutes(),2)+j(this.seconds(),2)})),V("Hmm",0,0,(function(){return""+this.hours()+j(this.minutes(),2)})),V("Hmmss",0,0,(function(){return""+this.hours()+j(this.minutes(),2)+j(this.seconds(),2)})),Zt("a",!0),Zt("A",!1),ne("hour","h"),oe("hour",13),Re("a",en),Re("A",en),Re("H",xe),Re("h",xe),Re("k",xe),Re("HH",xe,ge),Re("hh",xe,ge),Re("kk",xe,ge),Re("hmm",_e),Re("hmmss",Se),Re("Hmm",_e),Re("Hmmss",Se),Ue(["H","HH"],Ye),Ue(["k","kk"],(function(e,t,n){var r=le(e);t[Ye]=24===r?0:r})),Ue(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Ue(["h","hh"],(function(e,t,n){t[Ye]=le(e),m(n).bigHour=!0})),Ue("hmm",(function(e,t,n){var r=e.length-2;t[Ye]=le(e.substr(0,r)),t[Ge]=le(e.substr(r)),m(n).bigHour=!0})),Ue("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ye]=le(e.substr(0,r)),t[Ge]=le(e.substr(r,2)),t[Ke]=le(e.substr(i)),m(n).bigHour=!0})),Ue("Hmm",(function(e,t,n){var r=e.length-2;t[Ye]=le(e.substr(0,r)),t[Ge]=le(e.substr(r))})),Ue("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ye]=le(e.substr(0,r)),t[Ge]=le(e.substr(r,2)),t[Ke]=le(e.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=fe("Hours",!0);function an(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var on,sn={calendar:O,longDateFormat:H,invalidDate:G,ordinal:Q,dayOfMonthOrdinalParse:J,relativeTime:$,months:et,monthsShort:tt,week:Et,weekdays:Ot,weekdaysMin:jt,weekdaysShort:Rt,meridiemParse:nn},un={},cn={};function ln(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function fn(e){return e?e.toLowerCase().replace("_","-"):e}function hn(e){for(var t,n,r,i,a=0;a<e.length;){for(t=(i=fn(e[a]).split("-")).length,n=(n=fn(e[a+1]))?n.split("-"):null;t>0;){if(r=dn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&ln(i,n)>=t-1)break;t--}a++}return on}function dn(t){var n=null;if(void 0===un[t]&&e&&e.exports)try{n=on._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),pn(n)}catch(r){un[t]=null}return un[t]}function pn(e,t){var n;return e&&((n=c(t)?yn(e):vn(e,t))?on=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),on._abbr}function vn(e,t){if(null!==t){var n,r=sn;if(t.abbr=e,null!=un[e])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=un[e]._config;else if(null!=t.parentLocale)if(null!=un[t.parentLocale])r=un[t.parentLocale]._config;else{if(null==(n=dn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return un[e]=new D(P(r,t)),cn[e]&&cn[e].forEach((function(e){vn(e.name,e.config)})),pn(e),un[e]}return delete un[e],null}function mn(e,t){if(null!=t){var n,r,i=sn;null!=un[e]&&null!=un[e].parentLocale?un[e].set(P(un[e]._config,t)):(null!=(r=dn(e))&&(i=r._config),t=P(i,t),null==r&&(t.abbr=e),(n=new D(t)).parentLocale=un[e],un[e]=n),pn(e)}else null!=un[e]&&(null!=un[e].parentLocale?(un[e]=un[e].parentLocale,e===pn()&&pn(e)):null!=un[e]&&delete un[e]);return un[e]}function yn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return on;if(!a(e)){if(t=dn(e))return t;e=[e]}return hn(e)}function gn(){return T(un)}function kn(e){var t,n=e._a;return n&&-2===m(e).overflow&&(t=n[We]<0||n[We]>11?We:n[He]<1||n[He]>Ze(n[ze],n[We])?He:n[Ye]<0||n[Ye]>24||24===n[Ye]&&(0!==n[Ge]||0!==n[Ke]||0!==n[Qe])?Ye:n[Ge]<0||n[Ge]>59?Ge:n[Ke]<0||n[Ke]>59?Ke:n[Qe]<0||n[Qe]>999?Qe:-1,m(e)._overflowDayOfYear&&(t<ze||t>He)&&(t=He),m(e)._overflowWeeks&&-1===t&&(t=Je),m(e)._overflowWeekday&&-1===t&&(t=Xe),m(e).overflow=t),e}var wn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xn=/Z|[+-]\d\d(?::?\d\d)?/,_n=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Sn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],En=/^\/?Date\((-?\d+)/i,Tn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,In={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Cn(e){var t,n,r,i,a,o,s=e._i,u=wn.exec(s)||bn.exec(s);if(u){for(m(e).iso=!0,t=0,n=_n.length;t<n;t++)if(_n[t][1].exec(u[1])){i=_n[t][0],r=!1!==_n[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=Sn.length;t<n;t++)if(Sn[t][1].exec(u[3])){a=(u[2]||" ")+Sn[t][0];break}if(null==a)return void(e._isValid=!1)}if(!r&&null!=a)return void(e._isValid=!1);if(u[4]){if(!xn.exec(u[4]))return void(e._isValid=!1);o="Z"}e._f=i+(a||"")+(o||""),Vn(e)}else e._isValid=!1}function Nn(e,t,n,r,i,a){var o=[An(e),tt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}function An(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Pn(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Dn(e,t,n){return!e||Rt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(m(n).weekdayMismatch=!0,n._isValid=!1,!1)}function On(e,t,n){if(e)return In[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Rn(e){var t,n=Tn.exec(Pn(e._i));if(n){if(t=Nn(n[4],n[3],n[2],n[5],n[6],n[7]),!Dn(n[1],t,e))return;e._a=t,e._tzm=On(n[8],n[9],n[10]),e._d=kt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0}else e._isValid=!1}function jn(e){var t=En.exec(e._i);null===t?(Cn(e),!1===e._isValid&&(delete e._isValid,Rn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Ln(e,t,n){return null!=e?e:null!=t?t:n}function Mn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Fn(e){var t,n,r,i,a,o=[];if(!e._d){for(r=Mn(e),e._w&&null==e._a[He]&&null==e._a[We]&&Un(e),null!=e._dayOfYear&&(a=Ln(e._a[ze],r[ze]),(e._dayOfYear>vt(a)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),n=kt(a,0,e._dayOfYear),e._a[We]=n.getUTCMonth(),e._a[He]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ye]&&0===e._a[Ge]&&0===e._a[Ke]&&0===e._a[Qe]&&(e._nextDay=!0,e._a[Ye]=0),e._d=(e._useUTC?kt:gt).apply(null,o),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ye]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(m(e).weekdayMismatch=!0)}}function Un(e){var t,n,r,i,a,o,s,u,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(a=1,o=4,n=Ln(t.GG,e._a[ze],xt(Kn(),1,4).year),r=Ln(t.W,1),((i=Ln(t.E,1))<1||i>7)&&(u=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,c=xt(Kn(),a,o),n=Ln(t.gg,e._a[ze],c.year),r=Ln(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+a,(t.e<0||t.e>6)&&(u=!0)):i=a),r<1||r>_t(n,a,o)?m(e)._overflowWeeks=!0:null!=u?m(e)._overflowWeekday=!0:(s=bt(n,r,i,a,o),e._a[ze]=s.year,e._dayOfYear=s.dayOfYear)}function Vn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],m(e).empty=!0;var t,n,i,a,o,s,u=""+e._i,c=u.length,l=0;for(i=W(e._f,e._locale).match(L)||[],t=0;t<i.length;t++)a=i[t],(n=(u.match(je(a,e))||[])[0])&&((o=u.substr(0,u.indexOf(n))).length>0&&m(e).unusedInput.push(o),u=u.slice(u.indexOf(n)+n.length),l+=n.length),U[a]?(n?m(e).empty=!1:m(e).unusedTokens.push(a),Be(a,n,e)):e._strict&&!n&&m(e).unusedTokens.push(a);m(e).charsLeftOver=c-l,u.length>0&&m(e).unusedInput.push(u),e._a[Ye]<=12&&!0===m(e).bigHour&&e._a[Ye]>0&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[Ye]=Bn(e._locale,e._a[Ye],e._meridiem),null!==(s=m(e).era)&&(e._a[ze]=e._locale.erasConvertYear(s,e._a[ze])),Fn(e),kn(e)}else Rn(e);else Cn(e)}function Bn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function qn(e){var t,n,r,i,a,o,s=!1;if(0===e._f.length)return m(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)a=0,o=!1,t=b({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Vn(t),y(t)&&(o=!0),a+=m(t).charsLeftOver,a+=10*m(t).unusedTokens.length,m(t).score=a,s?a<r&&(r=a,n=t):(null==r||a<r||o)&&(r=a,n=t,o&&(s=!0));d(e,n||t)}function zn(e){if(!e._d){var t=ie(e._i),n=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Fn(e)}}function Wn(e){var t=new x(kn(Hn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Hn(e){var t=e._i,n=e._f;return e._locale=e._locale||yn(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),_(t)?new x(kn(t)):(f(t)?e._d=t:a(n)?qn(e):n?Vn(e):Yn(e),y(e)||(e._d=null),e))}function Yn(e){var t=e._i;c(t)?e._d=new Date(r.now()):f(t)?e._d=new Date(t.valueOf()):"string"===typeof t?jn(e):a(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),Fn(e)):o(t)?zn(e):l(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Gn(e,t,n,r,i){var s={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(o(e)&&u(e)||a(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=e,s._f=t,s._strict=r,Wn(s)}function Kn(e,t,n,r){return Gn(e,t,n,r,!1)}r.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Qn=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Kn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()})),Jn=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Kn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}));function Xn(e,t){var n,r;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return Kn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function $n(){return Xn("isBefore",[].slice.call(arguments,0))}function Zn(){return Xn("isAfter",[].slice.call(arguments,0))}var er=function(){return Date.now?Date.now():+new Date},tr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function nr(e){var t,n,r=!1;for(t in e)if(s(e,t)&&(-1===qe.call(tr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<tr.length;++n)if(e[tr[n]]){if(r)return!1;parseFloat(e[tr[n]])!==le(e[tr[n]])&&(r=!0)}return!0}function rr(){return this._isValid}function ir(){return Ir(NaN)}function ar(e){var t=ie(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._isValid=nr(t),this._milliseconds=+l+1e3*c+6e4*u+1e3*s*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=yn(),this._bubble()}function or(e){return e instanceof ar}function sr(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function ur(e,t,n){var r,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&le(e[r])!==le(t[r]))&&o++;return o+a}function cr(e,t){V(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+j(~~(e/60),2)+t+j(~~e%60,2)}))}cr("Z",":"),cr("ZZ",""),Re("Z",Pe),Re("ZZ",Pe),Ue(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=fr(Pe,e)}));var lr=/([\+\-]|\d\d)/gi;function fr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(lr)||["-",0,0])[1]+le(n[2]))?0:"+"===n[0]?r:-r}function hr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(_(e)||f(e)?e.valueOf():Kn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Kn(e).local()}function dr(e){return-Math.round(e._d.getTimezoneOffset())}function pr(e,t,n){var i,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=fr(Pe,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=dr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==e&&(!t||this._changeInProgress?Dr(this,Ir(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:dr(this)}function vr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function mr(e){return this.utcOffset(0,e)}function yr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(dr(this),"m")),this}function gr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=fr(Ae,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function kr(e){return!!this.isValid()&&(e=e?Kn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function wr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function br(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return b(t,this),(t=Hn(t))._a?(e=t._isUTC?p(t._a):Kn(t._a),this._isDSTShifted=this.isValid()&&ur(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function xr(){return!!this.isValid()&&!this._isUTC}function _r(){return!!this.isValid()&&this._isUTC}function Sr(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Er=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Tr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ir(e,t){var n,r,i,a=e,o=null;return or(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:l(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(o=Er.exec(e))?(n="-"===o[1]?-1:1,a={y:0,d:le(o[He])*n,h:le(o[Ye])*n,m:le(o[Ge])*n,s:le(o[Ke])*n,ms:le(sr(1e3*o[Qe]))*n}):(o=Tr.exec(e))?(n="-"===o[1]?-1:1,a={y:Cr(o[2],n),M:Cr(o[3],n),w:Cr(o[4],n),d:Cr(o[5],n),h:Cr(o[6],n),m:Cr(o[7],n),s:Cr(o[8],n)}):null==a?a={}:"object"===typeof a&&("from"in a||"to"in a)&&(i=Ar(Kn(a.from),Kn(a.to)),(a={}).ms=i.milliseconds,a.M=i.months),r=new ar(a),or(e)&&s(e,"_locale")&&(r._locale=e._locale),or(e)&&s(e,"_isValid")&&(r._isValid=e._isValid),r}function Cr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Nr(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ar(e,t){var n;return e.isValid()&&t.isValid()?(t=hr(t,e),e.isBefore(t)?n=Nr(e,t):((n=Nr(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Pr(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Dr(this,Ir(n,r),e),this}}function Dr(e,t,n,i){var a=t._milliseconds,o=sr(t._days),s=sr(t._months);e.isValid()&&(i=null==i||i,s&&ct(e,he(e,"Month")+s*n),o&&de(e,"Date",he(e,"Date")+o*n),a&&e._d.setTime(e._d.valueOf()+a*n),i&&r.updateOffset(e,o||s))}Ir.fn=ar.prototype,Ir.invalid=ir;var Or=Pr(1,"add"),Rr=Pr(-1,"subtract");function jr(e){return"string"===typeof e||e instanceof String}function Lr(e){return _(e)||f(e)||jr(e)||l(e)||Fr(e)||Mr(e)||null===e||void 0===e}function Mr(e){var t,n,r=o(e)&&!u(e),i=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<a.length;t+=1)n=a[t],i=i||s(e,n);return r&&i}function Fr(e){var t=a(e),n=!1;return t&&(n=0===e.filter((function(t){return!l(t)&&jr(e)})).length),t&&n}function Ur(e){var t,n,r=o(e)&&!u(e),i=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<a.length;t+=1)n=a[t],i=i||s(e,n);return r&&i}function Vr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Br(e,t){1===arguments.length&&(arguments[0]?Lr(arguments[0])?(e=arguments[0],t=void 0):Ur(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Kn(),i=hr(n,this).startOf("day"),a=r.calendarFormat(this,i)||"sameElse",o=t&&(N(t[a])?t[a].call(this,n):t[a]);return this.format(o||this.localeData().calendar(a,this,Kn(n)))}function qr(){return new x(this)}function zr(e,t){var n=_(e)?e:Kn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Wr(e,t){var n=_(e)?e:Kn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Hr(e,t,n,r){var i=_(e)?e:Kn(e),a=_(t)?t:Kn(t);return!!(this.isValid()&&i.isValid()&&a.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(a,n):!this.isAfter(a,n))}function Yr(e,t){var n,r=_(e)?e:Kn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Gr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Kr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Qr(e,t,n){var r,i,a;if(!this.isValid())return NaN;if(!(r=hr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":a=Jr(this,r)/12;break;case"month":a=Jr(this,r);break;case"quarter":a=Jr(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:ce(a)}function Jr(e,t){if(e.date()<t.date())return-Jr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Xr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function $r(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?z(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):N(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",z(n,"Z")):z(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Zr(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",a="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=a+'[")]',this.format(e+t+n+r)}function ei(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=z(this,e);return this.localeData().postformat(t)}function ti(e,t){return this.isValid()&&(_(e)&&e.isValid()||Kn(e).isValid())?Ir({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ni(e){return this.from(Kn(),e)}function ri(e,t){return this.isValid()&&(_(e)&&e.isValid()||Kn(e).isValid())?Ir({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ii(e){return this.to(Kn(),e)}function ai(e){var t;return void 0===e?this._locale._abbr:(null!=(t=yn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var oi=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function si(){return this._locale}var ui=1e3,ci=60*ui,li=60*ci,fi=3506328*li;function hi(e,t){return(e%t+t)%t}function di(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-fi:new Date(e,t,n).valueOf()}function pi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-fi:Date.UTC(e,t,n)}function vi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?pi:di,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=hi(t+(this._isUTC?0:this.utcOffset()*ci),li);break;case"minute":t=this._d.valueOf(),t-=hi(t,ci);break;case"second":t=this._d.valueOf(),t-=hi(t,ui)}return this._d.setTime(t),r.updateOffset(this,!0),this}function mi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?pi:di,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=li-hi(t+(this._isUTC?0:this.utcOffset()*ci),li)-1;break;case"minute":t=this._d.valueOf(),t+=ci-hi(t,ci)-1;break;case"second":t=this._d.valueOf(),t+=ui-hi(t,ui)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function yi(){return this._d.valueOf()-6e4*(this._offset||0)}function gi(){return Math.floor(this.valueOf()/1e3)}function ki(){return new Date(this.valueOf())}function wi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function bi(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function xi(){return this.isValid()?this.toISOString():null}function _i(){return y(this)}function Si(){return d({},m(this))}function Ei(){return m(this).overflow}function Ti(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ii(e,t){var n,i,a,o=this._eras||yn("en")._eras;for(n=0,i=o.length;n<i;++n)switch("string"===typeof o[n].since&&(a=r(o[n].since).startOf("day"),o[n].since=a.valueOf()),typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":a=r(o[n].until).startOf("day").valueOf(),o[n].until=a.valueOf()}return o}function Ci(e,t,n){var r,i,a,o,s,u=this.eras();for(e=e.toUpperCase(),r=0,i=u.length;r<i;++r)if(a=u[r].name.toUpperCase(),o=u[r].abbr.toUpperCase(),s=u[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return u[r];break;case"NNNN":if(a===e)return u[r];break;case"NNNNN":if(s===e)return u[r]}else if([a,o,s].indexOf(e)>=0)return u[r]}function Ni(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Ai(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Pi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Di(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Oi(){var e,t,n,i,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=a[e].since<=a[e].until?1:-1,i=this.clone().startOf("day").valueOf(),a[e].since<=i&&i<=a[e].until||a[e].until<=i&&i<=a[e].since)return(this.year()-r(a[e].since).year())*n+a[e].offset;return this.year()}function Ri(e){return s(this,"_erasNameRegex")||Bi.call(this),e?this._erasNameRegex:this._erasRegex}function ji(e){return s(this,"_erasAbbrRegex")||Bi.call(this),e?this._erasAbbrRegex:this._erasRegex}function Li(e){return s(this,"_erasNarrowRegex")||Bi.call(this),e?this._erasNarrowRegex:this._erasRegex}function Mi(e,t){return t.erasAbbrRegex(e)}function Fi(e,t){return t.erasNameRegex(e)}function Ui(e,t){return t.erasNarrowRegex(e)}function Vi(e,t){return t._eraYearOrdinalRegex||Ce}function Bi(){var e,t,n=[],r=[],i=[],a=[],o=this.eras();for(e=0,t=o.length;e<t;++e)r.push(Me(o[e].name)),n.push(Me(o[e].abbr)),i.push(Me(o[e].narrow)),a.push(Me(o[e].name)),a.push(Me(o[e].abbr)),a.push(Me(o[e].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function qi(e,t){V(0,[e,e.length],0,t)}function zi(e){return Qi.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Wi(e){return Qi.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Hi(){return _t(this.year(),1,4)}function Yi(){return _t(this.isoWeekYear(),1,4)}function Gi(){var e=this.localeData()._week;return _t(this.year(),e.dow,e.doy)}function Ki(){var e=this.localeData()._week;return _t(this.weekYear(),e.dow,e.doy)}function Qi(e,t,n,r,i){var a;return null==e?xt(this,r,i).year:(t>(a=_t(e,r,i))&&(t=a),Ji.call(this,e,t,n,r,i))}function Ji(e,t,n,r,i){var a=bt(e,t,n,r,i),o=kt(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Xi(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}V("N",0,0,"eraAbbr"),V("NN",0,0,"eraAbbr"),V("NNN",0,0,"eraAbbr"),V("NNNN",0,0,"eraName"),V("NNNNN",0,0,"eraNarrow"),V("y",["y",1],"yo","eraYear"),V("y",["yy",2],0,"eraYear"),V("y",["yyy",3],0,"eraYear"),V("y",["yyyy",4],0,"eraYear"),Re("N",Mi),Re("NN",Mi),Re("NNN",Mi),Re("NNNN",Fi),Re("NNNNN",Ui),Ue(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?m(n).era=i:m(n).invalidEra=e})),Re("y",Ce),Re("yy",Ce),Re("yyy",Ce),Re("yyyy",Ce),Re("yo",Vi),Ue(["y","yy","yyy","yyyy"],ze),Ue(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[ze]=n._locale.eraYearOrdinalParse(e,i):t[ze]=parseInt(e,10)})),V(0,["gg",2],0,(function(){return this.weekYear()%100})),V(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),qi("gggg","weekYear"),qi("ggggg","weekYear"),qi("GGGG","isoWeekYear"),qi("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),oe("weekYear",1),oe("isoWeekYear",1),Re("G",Ne),Re("g",Ne),Re("GG",xe,ge),Re("gg",xe,ge),Re("GGGG",Te,we),Re("gggg",Te,we),Re("GGGGG",Ie,be),Re("ggggg",Ie,be),Ve(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=le(e)})),Ve(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),V("Q",0,"Qo","quarter"),ne("quarter","Q"),oe("quarter",7),Re("Q",ye),Ue("Q",(function(e,t){t[We]=3*(le(e)-1)})),V("D",["DD",2],"Do","date"),ne("date","D"),oe("date",9),Re("D",xe),Re("DD",xe,ge),Re("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Ue(["D","DD"],He),Ue("Do",(function(e,t){t[He]=le(e.match(xe)[0])}));var $i=fe("Date",!0);function Zi(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}V("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),oe("dayOfYear",4),Re("DDD",Ee),Re("DDDD",ke),Ue(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=le(e)})),V("m",["mm",2],0,"minute"),ne("minute","m"),oe("minute",14),Re("m",xe),Re("mm",xe,ge),Ue(["m","mm"],Ge);var ea=fe("Minutes",!1);V("s",["ss",2],0,"second"),ne("second","s"),oe("second",15),Re("s",xe),Re("ss",xe,ge),Ue(["s","ss"],Ke);var ta,na,ra=fe("Seconds",!1);for(V("S",0,0,(function(){return~~(this.millisecond()/100)})),V(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),V(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),V(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),V(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),V(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),V(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),oe("millisecond",16),Re("S",Ee,ye),Re("SS",Ee,ge),Re("SSS",Ee,ke),ta="SSSS";ta.length<=9;ta+="S")Re(ta,Ce);function ia(e,t){t[Qe]=le(1e3*("0."+e))}for(ta="S";ta.length<=9;ta+="S")Ue(ta,ia);function aa(){return this._isUTC?"UTC":""}function oa(){return this._isUTC?"Coordinated Universal Time":""}na=fe("Milliseconds",!1),V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var sa=x.prototype;function ua(e){return Kn(1e3*e)}function ca(){return Kn.apply(null,arguments).parseZone()}function la(e){return e}sa.add=Or,sa.calendar=Br,sa.clone=qr,sa.diff=Qr,sa.endOf=mi,sa.format=ei,sa.from=ti,sa.fromNow=ni,sa.to=ri,sa.toNow=ii,sa.get=pe,sa.invalidAt=Ei,sa.isAfter=zr,sa.isBefore=Wr,sa.isBetween=Hr,sa.isSame=Yr,sa.isSameOrAfter=Gr,sa.isSameOrBefore=Kr,sa.isValid=_i,sa.lang=oi,sa.locale=ai,sa.localeData=si,sa.max=Jn,sa.min=Qn,sa.parsingFlags=Si,sa.set=ve,sa.startOf=vi,sa.subtract=Rr,sa.toArray=wi,sa.toObject=bi,sa.toDate=ki,sa.toISOString=$r,sa.inspect=Zr,"undefined"!==typeof Symbol&&null!=Symbol.for&&(sa[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),sa.toJSON=xi,sa.toString=Xr,sa.unix=gi,sa.valueOf=yi,sa.creationData=Ti,sa.eraName=Ai,sa.eraNarrow=Pi,sa.eraAbbr=Di,sa.eraYear=Oi,sa.year=mt,sa.isLeapYear=yt,sa.weekYear=zi,sa.isoWeekYear=Wi,sa.quarter=sa.quarters=Xi,sa.month=lt,sa.daysInMonth=ft,sa.week=sa.weeks=Ct,sa.isoWeek=sa.isoWeeks=Nt,sa.weeksInYear=Gi,sa.weeksInWeekYear=Ki,sa.isoWeeksInYear=Hi,sa.isoWeeksInISOWeekYear=Yi,sa.date=$i,sa.day=sa.days=Wt,sa.weekday=Ht,sa.isoWeekday=Yt,sa.dayOfYear=Zi,sa.hour=sa.hours=rn,sa.minute=sa.minutes=ea,sa.second=sa.seconds=ra,sa.millisecond=sa.milliseconds=na,sa.utcOffset=pr,sa.utc=mr,sa.local=yr,sa.parseZone=gr,sa.hasAlignedHourOffset=kr,sa.isDST=wr,sa.isLocal=xr,sa.isUtcOffset=_r,sa.isUtc=Sr,sa.isUTC=Sr,sa.zoneAbbr=aa,sa.zoneName=oa,sa.dates=E("dates accessor is deprecated. Use date instead.",$i),sa.months=E("months accessor is deprecated. Use month instead",lt),sa.years=E("years accessor is deprecated. Use year instead",mt),sa.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",vr),sa.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",br);var fa=D.prototype;function ha(e,t,n,r){var i=yn(),a=p().set(r,t);return i[n](a,e)}function da(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return ha(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=ha(e,r,n,"month");return i}function pa(e,t,n,r){"boolean"===typeof e?(l(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,l(t)&&(n=t,t=void 0),t=t||"");var i,a=yn(),o=e?a._week.dow:0,s=[];if(null!=n)return ha(t,(n+o)%7,r,"day");for(i=0;i<7;i++)s[i]=ha(t,(i+o)%7,r,"day");return s}function va(e,t){return da(e,t,"months")}function ma(e,t){return da(e,t,"monthsShort")}function ya(e,t,n){return pa(e,t,n,"weekdays")}function ga(e,t,n){return pa(e,t,n,"weekdaysShort")}function ka(e,t,n){return pa(e,t,n,"weekdaysMin")}fa.calendar=R,fa.longDateFormat=Y,fa.invalidDate=K,fa.ordinal=X,fa.preparse=la,fa.postformat=la,fa.relativeTime=Z,fa.pastFuture=ee,fa.set=A,fa.eras=Ii,fa.erasParse=Ci,fa.erasConvertYear=Ni,fa.erasAbbrRegex=ji,fa.erasNameRegex=Ri,fa.erasNarrowRegex=Li,fa.months=at,fa.monthsShort=ot,fa.monthsParse=ut,fa.monthsRegex=dt,fa.monthsShortRegex=ht,fa.week=St,fa.firstDayOfYear=It,fa.firstDayOfWeek=Tt,fa.weekdays=Ut,fa.weekdaysMin=Bt,fa.weekdaysShort=Vt,fa.weekdaysParse=zt,fa.weekdaysRegex=Gt,fa.weekdaysShortRegex=Kt,fa.weekdaysMinRegex=Qt,fa.isPM=tn,fa.meridiem=an,pn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===le(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=E("moment.lang is deprecated. Use moment.locale instead.",pn),r.langData=E("moment.langData is deprecated. Use moment.localeData instead.",yn);var wa=Math.abs;function ba(){var e=this._data;return this._milliseconds=wa(this._milliseconds),this._days=wa(this._days),this._months=wa(this._months),e.milliseconds=wa(e.milliseconds),e.seconds=wa(e.seconds),e.minutes=wa(e.minutes),e.hours=wa(e.hours),e.months=wa(e.months),e.years=wa(e.years),this}function xa(e,t,n,r){var i=Ir(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function _a(e,t){return xa(this,e,t,1)}function Sa(e,t){return xa(this,e,t,-1)}function Ea(e){return e<0?Math.floor(e):Math.ceil(e)}function Ta(){var e,t,n,r,i,a=this._milliseconds,o=this._days,s=this._months,u=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*Ea(Ca(s)+o),o=0,s=0),u.milliseconds=a%1e3,e=ce(a/1e3),u.seconds=e%60,t=ce(e/60),u.minutes=t%60,n=ce(t/60),u.hours=n%24,o+=ce(n/24),s+=i=ce(Ia(o)),o-=Ea(Ca(i)),r=ce(s/12),s%=12,u.days=o,u.months=s,u.years=r,this}function Ia(e){return 4800*e/146097}function Ca(e){return 146097*e/4800}function Na(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Ia(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Ca(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Aa(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*le(this._months/12):NaN}function Pa(e){return function(){return this.as(e)}}var Da=Pa("ms"),Oa=Pa("s"),Ra=Pa("m"),ja=Pa("h"),La=Pa("d"),Ma=Pa("w"),Fa=Pa("M"),Ua=Pa("Q"),Va=Pa("y");function Ba(){return Ir(this)}function qa(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function za(e){return function(){return this.isValid()?this._data[e]:NaN}}var Wa=za("milliseconds"),Ha=za("seconds"),Ya=za("minutes"),Ga=za("hours"),Ka=za("days"),Qa=za("months"),Ja=za("years");function Xa(){return ce(this.days()/7)}var $a=Math.round,Za={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function eo(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function to(e,t,n,r){var i=Ir(e).abs(),a=$a(i.as("s")),o=$a(i.as("m")),s=$a(i.as("h")),u=$a(i.as("d")),c=$a(i.as("M")),l=$a(i.as("w")),f=$a(i.as("y")),h=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||o<=1&&["m"]||o<n.m&&["mm",o]||s<=1&&["h"]||s<n.h&&["hh",s]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(h=h||l<=1&&["w"]||l<n.w&&["ww",l]),(h=h||c<=1&&["M"]||c<n.M&&["MM",c]||f<=1&&["y"]||["yy",f])[2]=t,h[3]=+e>0,h[4]=r,eo.apply(null,h)}function no(e){return void 0===e?$a:"function"===typeof e&&($a=e,!0)}function ro(e,t){return void 0!==Za[e]&&(void 0===t?Za[e]:(Za[e]=t,"s"===e&&(Za.ss=t-1),!0))}function io(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,a=Za;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(a=Object.assign({},Za,t),null!=t.s&&null==t.ss&&(a.ss=t.s-1)),r=to(this,!i,a,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var ao=Math.abs;function oo(e){return(e>0)-(e<0)||+e}function so(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,a,o,s,u=ao(this._milliseconds)/1e3,c=ao(this._days),l=ao(this._months),f=this.asSeconds();return f?(e=ce(u/60),t=ce(e/60),u%=60,e%=60,n=ce(l/12),l%=12,r=u?u.toFixed(3).replace(/\.?0+$/,""):"",i=f<0?"-":"",a=oo(this._months)!==oo(f)?"-":"",o=oo(this._days)!==oo(f)?"-":"",s=oo(this._milliseconds)!==oo(f)?"-":"",i+"P"+(n?a+n+"Y":"")+(l?a+l+"M":"")+(c?o+c+"D":"")+(t||e||u?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(u?s+r+"S":"")):"P0D"}var uo=ar.prototype;return uo.isValid=rr,uo.abs=ba,uo.add=_a,uo.subtract=Sa,uo.as=Na,uo.asMilliseconds=Da,uo.asSeconds=Oa,uo.asMinutes=Ra,uo.asHours=ja,uo.asDays=La,uo.asWeeks=Ma,uo.asMonths=Fa,uo.asQuarters=Ua,uo.asYears=Va,uo.valueOf=Aa,uo._bubble=Ta,uo.clone=Ba,uo.get=qa,uo.milliseconds=Wa,uo.seconds=Ha,uo.minutes=Ya,uo.hours=Ga,uo.days=Ka,uo.weeks=Xa,uo.months=Qa,uo.years=Ja,uo.humanize=io,uo.toISOString=so,uo.toString=so,uo.toJSON=so,uo.locale=ai,uo.localeData=si,uo.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",so),uo.lang=oi,V("X",0,0,"unix"),V("x",0,0,"valueOf"),Re("x",Ne),Re("X",De),Ue("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Ue("x",(function(e,t,n){n._d=new Date(le(e))})),r.version="2.29.1",i(Kn),r.fn=sa,r.min=$n,r.max=Zn,r.now=er,r.utc=p,r.unix=ua,r.months=va,r.isDate=f,r.locale=pn,r.invalid=g,r.duration=Ir,r.isMoment=_,r.weekdays=ya,r.parseZone=ca,r.localeData=yn,r.isDuration=or,r.monthsShort=ma,r.weekdaysMin=ka,r.defineLocale=vn,r.updateLocale=mn,r.locales=gn,r.weekdaysShort=ga,r.normalizeUnits=re,r.relativeTimeRounding=no,r.relativeTimeThreshold=ro,r.calendarFormat=Vr,r.prototype=sa,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var f=0;f<s.length;f++)r.call(o,s[f])&&(u[s[f]]=o[s[f]])}}return u}},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2482:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(2007)),o=u(n(2791)),s=n(4432);function u(e){return e&&e.__esModule?e:{default:e}}var c={thousandSeparator:a.default.oneOfType([a.default.string,a.default.oneOf([!0])]),thousandSpacing:a.default.oneOf(["2","2s","3","4"]),decimalSeparator:a.default.string,decimalScale:a.default.number,fixedDecimalScale:a.default.bool,displayType:a.default.oneOf(["input","text"]),prefix:a.default.string,suffix:a.default.string,format:a.default.oneOfType([a.default.string,a.default.func]),removeFormatting:a.default.func,mask:a.default.oneOfType([a.default.string,a.default.arrayOf(a.default.string)]),value:a.default.oneOfType([a.default.number,a.default.string]),isNumericString:a.default.bool,customInput:a.default.func,allowNegative:a.default.bool,onValueChange:a.default.func,onKeyDown:a.default.func,onMouseUp:a.default.func,onChange:a.default.func,onFocus:a.default.func,onBlur:a.default.func,type:a.default.oneOf(["text","tel"]),isAllowed:a.default.func,renderText:a.default.func},l={displayType:"input",decimalSeparator:".",thousandSpacing:"3",fixedDecimalScale:!1,prefix:"",suffix:"",allowNegative:!0,isNumericString:!1,type:"text",onValueChange:s.noop,onChange:s.noop,onKeyDown:s.noop,onMouseUp:s.noop,onFocus:s.noop,onBlur:s.noop,isAllowed:s.returnTrue},f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.validateProps();var r=n.formatValueProp();return n.state={value:r,numAsString:n.removeFormatting(r)},n.onChange=n.onChange.bind(n),n.onKeyDown=n.onKeyDown.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n.onFocus=n.onFocus.bind(n),n.onBlur=n.onBlur.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidUpdate",value:function(e){this.updateValueIfRequired(e)}},{key:"updateValueIfRequired",value:function(e){var t=this.props,n=this.state;if(e!==t){this.validateProps();var r=n.value,i=n.numAsString||"",a=void 0===t.value?this.formatNumString(i):this.formatValueProp();a!==r&&this.setState({value:a,numAsString:this.removeFormatting(a)})}}},{key:"getFloatString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.getSeparators(),n=t.decimalSeparator,r=this.getNumberRegex(!0),i="-"===e[0];i&&(e=e.replace("-",""));var a=(e=(e.match(r)||[]).join("").replace(n,".")).indexOf(".");return-1!==a&&(e=e.substring(0,a)+"."+e.substring(a+1,e.length).replace(new RegExp((0,s.escapeRegExp)(n),"g"),"")),i&&(e="-"+e),e}},{key:"getNumberRegex",value:function(e,t){var n=this.props,r=n.format,i=n.decimalScale,a=this.getSeparators().decimalSeparator;return new RegExp("\\d"+(!a||0===i||t||r?"":"|"+(0,s.escapeRegExp)(a)),e?"g":void 0)}},{key:"getSeparators",value:function(){var e=this.props,t=e.decimalSeparator,n=e.thousandSpacing,r=this.props.thousandSeparator;return!0===r&&(r=","),{decimalSeparator:t,thousandSeparator:r,thousandSpacing:n}}},{key:"getMaskAtIndex",value:function(e){var t=this.props.mask,n=void 0===t?" ":t;return"string"===typeof n?n:n[e]||" "}},{key:"validateProps",value:function(){var e=this.props.mask,t=this.getSeparators(),n=t.decimalSeparator,r=t.thousandSeparator;if(n===r)throw new Error("\n          Decimal separator can't be same as thousand separator.\n\n          thousandSeparator: "+r+' (thousandSeparator = {true} is same as thousandSeparator = ",")\n          decimalSeparator: '+n+" (default value for decimalSeparator is .)\n       ");if(e&&("string"===e?e:e.toString()).match(/\d/g))throw new Error("\n          Mask "+e+" should not contain numeric character;\n        ")}},{key:"splitDecimal",value:function(e){var t=this.props.allowNegative,n="-"===e[0],r=n&&t,i=(e=e.replace("-","")).split(".");return{beforeDecimal:i[0],afterDecimal:i[1]||"",hasNagation:n,addNegation:r}}},{key:"setPatchedCaretPosition",value:function(e,t,n){(0,s.setCaretPosition)(e,t),setTimeout((function(){e.value===n&&(0,s.setCaretPosition)(e,t)}),0)}},{key:"correctCaretPosition",value:function(e,t,n){var r=this.props,i=r.prefix,a=r.suffix,o=r.format;if(!o){var u="-"===e[0];return Math.min(Math.max(t,i.length+(u?1:0)),e.length-a.length)}if("function"===typeof o)return t;if("#"===o[t]&&(0,s.charIsNumber)(e[t]))return t;if("#"===o[t-1]&&(0,s.charIsNumber)(e[t-1]))return t;var c=o.indexOf("#"),l=o.lastIndexOf("#");t=Math.min(Math.max(t,c),l+1);for(var f=o.substring(t,o.length).indexOf("#"),h=t,d=t+(-1===f?0:f);h>c&&("#"!==o[h]||!(0,s.charIsNumber)(e[h]));)h-=1;return!(0,s.charIsNumber)(e[d])||"left"===n&&t!==c||t-h<d-t?h+1:d}},{key:"getCaretPosition",value:function(e,t,n){var r=this.props.format,i=this.state.value,a=this.getNumberRegex(!0),o=(e.match(a)||[]).join(""),s=(t.match(a)||[]).join(""),u=void 0,c=void 0;for(u=0,c=0;c<n;c++){var l=e[c]||"",f=t[u]||"";if((l.match(a)||l===f)&&("0"!==l||!f.match(a)||"0"===f||o.length===s.length)){for(;l!==t[u]&&u<t.length;)u++;u++}}return"string"!==typeof r||i||(u=t.length),u=this.correctCaretPosition(t,u)}},{key:"removePrefixAndSuffix",value:function(e){var t=this.props,n=t.format,r=t.prefix,i=t.suffix;if(!n&&e){var a="-"===e[0];a&&(e=e.substring(1,e.length));var o=(e=r&&0===e.indexOf(r)?e.substring(r.length,e.length):e).lastIndexOf(i);e=i&&-1!==o&&o===e.length-i.length?e.substring(0,o):e,a&&(e="-"+e)}return e}},{key:"removePatternFormatting",value:function(e){for(var t=this.props.format.split("#").filter((function(e){return""!==e})),n=0,r="",i=0,a=t.length;i<=a;i++){var o=t[i]||"",s=i===a?e.length:e.indexOf(o,n);if(-1===s){r=e;break}r+=e.substring(n,s),n=s+o.length}return(r.match(/\d/g)||[]).join("")}},{key:"removeFormatting",value:function(e){var t=this.props,n=t.format,r=t.removeFormatting;return e?(n?e="string"===typeof n?this.removePatternFormatting(e):"function"===typeof r?r(e):(e.match(/\d/g)||[]).join(""):(e=this.removePrefixAndSuffix(e),e=this.getFloatString(e)),e):e}},{key:"formatWithPattern",value:function(e){for(var t=this.props.format,n=0,r=t.split(""),i=0,a=t.length;i<a;i++)"#"===t[i]&&(r[i]=e[n]||this.getMaskAtIndex(n),n+=1);return r.join("")}},{key:"formatThousand",value:function(e,t,n){var r=void 0;switch(n){case s.thousandGroupSpacing.two:r=/(\d)(?=(\d{2})+(?!\d))/g;break;case s.thousandGroupSpacing.twoScaled:r=/(\d)(?=(((\d{2})+)(\d{1})(?!\d)))/g;break;case s.thousandGroupSpacing.four:r=/(\d)(?=(\d{4})+(?!\d))/g;break;default:r=/(\d)(?=(\d{3})+(?!\d))/g}return e.replace(r,"$1"+t)}},{key:"formatAsNumber",value:function(e){var t=this.props,n=t.decimalScale,r=t.fixedDecimalScale,i=t.prefix,a=t.suffix,o=this.getSeparators(),u=o.thousandSeparator,c=o.decimalSeparator,l=o.thousandSpacing,f=-1!==e.indexOf(".")||n&&r,h=this.splitDecimal(e),d=h.beforeDecimal,p=h.afterDecimal,v=h.addNegation;return void 0!==n&&(p=(0,s.limitToScale)(p,n,r)),u&&(d=this.formatThousand(d,u,l)),i&&(d=i+d),a&&(p+=a),v&&(d="-"+d),e=d+(f&&c||"")+p}},{key:"formatNumString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.format,n=e;return""===e?n="":"-"!==e||t?n="string"===typeof t?this.formatWithPattern(n):"function"===typeof t?t(n):this.formatAsNumber(n):(n="-",e=""),n}},{key:"formatValueProp",value:function(){var e=this.props,t=e.format,n=e.decimalScale,r=e.fixedDecimalScale,i=this.props,a=i.value,o=i.isNumericString;return void 0===a?"":("number"===typeof a&&(a=a.toString(),o=!0),o&&!t&&"number"===typeof n&&(a=(0,s.roundToPrecision)(a,n,r)),o?this.formatNumString(a):this.formatInput(a))}},{key:"formatNegation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.allowNegative,n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(e),a=r.test(e);return e=e.replace(/-/g,""),i&&!a&&t&&(e="-"+e),e}},{key:"formatInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.format;return t||(e=this.formatNegation(e)),e=this.removeFormatting(e),this.formatNumString(e)}},{key:"isCharacterAFormat",value:function(e,t){var n=this.props,r=n.format,i=n.prefix,a=n.suffix,o=n.decimalScale,s=n.fixedDecimalScale,u=this.getSeparators().decimalSeparator;return"string"===typeof r&&"#"!==r[e]||!(r||!(e<i.length||e>=t.length-a.length||o&&s&&t[e]===u))}},{key:"checkIfFormatGotDeleted",value:function(e,t,n){for(var r=e;r<t;r++)if(this.isCharacterAFormat(r,n))return!0;return!1}},{key:"correctInputValue",value:function(e,t,n){var r=this.props.format,i=this.state.numAsString||"";if(n.length>=t.length||!n.length)return n;var a=e,o=(0,s.splitString)(t,e),u=(0,s.splitString)(n,e),c=o[1].lastIndexOf(u[1]),l=a+(-1!==c?o[1].substring(0,c):"").length;if(this.checkIfFormatGotDeleted(a,l,t)&&(n=t),!r){var f=this.removeFormatting(n),h=this.splitDecimal(f),d=h.beforeDecimal,p=h.afterDecimal,v=h.addNegation;if(f.length<i.length&&""===d&&!parseFloat(p))return v?"-":""}return n}},{key:"onChange",value:function(e){e.persist();var t=e.target,n=t.value,r=this.state,i=this.props,a=i.isAllowed,o=r.value||"",s=Math.max(t.selectionStart,t.selectionEnd);n=this.correctInputValue(s,o,n);var u=this.formatInput(n)||"",c=this.removeFormatting(u),l={formattedValue:u,value:c,floatValue:parseFloat(c)};a(l)||(u=o),t.value=u;var f=this.getCaretPosition(n,u,s);this.setPatchedCaretPosition(t,f,u),u!==o?this.setState({value:u,numAsString:c},(function(){i.onValueChange(l),i.onChange(e)})):i.onChange(e)}},{key:"onBlur",value:function(e){var t=this.props,n=this.state,r=t.format,i=t.onBlur,a=n.numAsString,o=n.value;if(!r){a=(0,s.fixLeadingZero)(a);var u=this.formatNumString(a),c={formattedValue:u,value:a,floatValue:parseFloat(a)};if(u!==o)return e.persist(),void this.setState({value:u,numAsString:a},(function(){t.onValueChange(c),i(e)}))}i(e)}},{key:"onKeyDown",value:function(e){var t=e.target,n=e.key,r=t.selectionEnd,i=t.value,a=t.selectionStart,o=void 0,s=this.props,u=s.decimalScale,c=s.fixedDecimalScale,l=s.prefix,f=s.suffix,h=s.format,d=s.onKeyDown,p=void 0!==u&&c,v=this.getNumberRegex(!1,p),m=new RegExp("-"),y="string"===typeof h;if("ArrowLeft"===n||"Backspace"===n?o=a-1:"ArrowRight"===n?o=a+1:"Delete"===n&&(o=a),void 0!==o&&a===r){var g=o,k=y?h.indexOf("#"):l.length,w=y?h.lastIndexOf("#")+1:i.length-f.length;if("ArrowLeft"===n||"ArrowRight"===n){var b="ArrowLeft"===n?"left":"right";g=this.correctCaretPosition(i,o,b)}else if("Delete"!==n||v.test(i[o])||m.test(i[o])){if("Backspace"===n&&!v.test(i[o])&&!m.test(i[o])){for(;!v.test(i[g-1])&&g>k;)g--;g=this.correctCaretPosition(i,g,"left")}}else for(;!v.test(i[g])&&g<w;)g++;(g!==o||o<k||o>w)&&(e.preventDefault(),this.setPatchedCaretPosition(t,g,i)),e.isUnitTestRun&&this.setPatchedCaretPosition(t,g,i),this.props.onKeyDown(e)}else d(e)}},{key:"onMouseUp",value:function(e){var t=e.target,n=t.selectionStart,r=t.selectionEnd,i=t.value;if(n===r){var a=this.correctCaretPosition(i,n);a!==n&&this.setPatchedCaretPosition(t,a,i)}this.props.onMouseUp(e)}},{key:"onFocus",value:function(e){var t=this;e.persist(),setTimeout((function(){var n=e.target,r=n.selectionStart,i=n.value,a=t.correctCaretPosition(i,r);a!==r&&t.setPatchedCaretPosition(n,a,i),t.props.onFocus(e)}))}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.displayType,i=e.customInput,a=e.renderText,u=this.state.value,l=(0,s.omit)(this.props,c),f=r({},l,{type:t,value:u,onChange:this.onChange,onKeyDown:this.onKeyDown,onMouseUp:this.onMouseUp,onFocus:this.onFocus,onBlur:this.onBlur});if("text"===n)return a?a(u)||null:o.default.createElement("span",l,u);if(i){var h=i;return o.default.createElement(h,f)}return o.default.createElement("input",f)}}]),t}(o.default.Component);f.propTypes=c,f.defaultProps=l,e.exports=f},4432:function(e,t){"use strict";function n(e,t,n){for(var r="",i=n?"0":"",a=0;a<=t-1;a++)r+=e[a]||i;return r}Object.defineProperty(t,"__esModule",{value:!0}),t.noop=function(){},t.returnTrue=function(){return!0},t.charIsNumber=function(e){return!!(e||"").match(/\d/)},t.escapeRegExp=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},t.fixLeadingZero=function(e){if(!e)return e;var t="-"===e[0];t&&(e=e.substring(1,e.length));var n=e.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(t?"-":"")+r+(i?"."+i:"")},t.splitString=function(e,t){return[e.substring(0,t),e.substring(t)]},t.limitToScale=n,t.roundToPrecision=function(e,t,r){var i=e.split("."),a=parseFloat("0."+(i[1]||"0")).toFixed(t).split("."),o=i[0].split("").reverse().reduce((function(e,t,n){return e.length>n?(Number(e[0])+Number(t)).toString()+e.substring(1,e.length):t+e}),a[0]),s=n(a[1]||"",(i[1]||"").length,r);return o+(s?"."+s:"")},t.omit=function(e,t){var n={};return Object.keys(e).forEach((function(r){t[r]||(n[r]=e[r])})),n},t.setCaretPosition=function(e,t){if(e.value=e.value,null!==e){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||0===e.selectionStart?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}};t.thousandGroupSpacing={two:"2",twoScaled:"2s",three:"3",four:"4"}},4463:function(e,t,n){"use strict";var r=n(2791),i=n(1725),a=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,_=60106,S=60107,E=60108,T=60114,I=60109,C=60110,N=60112,A=60113,P=60120,D=60115,O=60116,R=60121,j=60128,L=60129,M=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),_=U("react.portal"),S=U("react.fragment"),E=U("react.strict_mode"),T=U("react.profiler"),I=U("react.provider"),C=U("react.context"),N=U("react.forward_ref"),A=U("react.suspense"),P=U("react.suspense_list"),D=U("react.memo"),O=U("react.lazy"),R=U("react.block"),U("react.scope"),j=U("react.opaque.id"),L=U("react.debug_trace_mode"),M=U("react.offscreen"),F=U("react.legacy_hidden")}var V,B="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function z(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var W=!1;function H(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function Y(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case T:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case D:return G(e.type);case R:return G(e._render);case O:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function K(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ce(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Ce=null,Ne=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Ie)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Ie(e.stateNode,e.type,t))}}function Pe(e){Ce?Ne?Ne.push(e):Ne=[e]:Ce=e}function De(){if(Ce){var e=Ce,t=Ne;if(Ne=Ce=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Oe(e,t){return e(t)}function Re(e,t,n,r,i){return e(t,n,r,i)}function je(){}var Le=Oe,Me=!1,Fe=!1;function Ue(){null===Ce&&null===Ne||(je(),De())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(f)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){Be=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(me){Be=!1}function ze(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,He=null,Ye=!1,Ge=null,Ke={onError:function(e){We=!0,He=e}};function Qe(e,t,n,r,i,a,o,s,u){We=!1,He=null,ze.apply(Ke,arguments)}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(Je(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return $e(i),e;if(a===r)return $e(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function wt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,wt)))}function xt(e){function t(t){return bt(t,e)}if(0<ot.length){bt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&bt(st,e),null!==ut&&bt(ut,e),null!==ct&&bt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},Et={},Tt={};function It(e){if(Et[e])return Et[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return Et[e]=n[t];return e}f&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var Ct=It("animationend"),Nt=It("animationiteration"),At=It("animationstart"),Pt=It("transitionend"),Dt=new Map,Ot=new Map,Rt=["abort","abort",Ct,"animationEnd",Nt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Pt,"transitionEnd","waiting","waiting"];function jt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Dt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Lt=8;function Mt(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Lt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=Mt(u),i=Lt):0!==(s&=a)&&(r=Mt(s),i=Lt)}else 0!==(a=n&~o)?(r=Mt(a),i=Lt):0!==s&&(r=Mt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Vt(10,t):e;case 10:return 0===(e=Bt(192&~t))?Vt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Bt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Yt|0)|0},Ht=Math.log,Yt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Kt=a.unstable_runWithPriority,Qt=!0;function Jt(e,t,n,r){Me||je();var i=$t,a=Me;Me=!0;try{Re(i,e,t,n,r)}finally{(Me=a)||Ue()}}function Xt(e,t,n,r){Kt(Gt,$t.bind(null,e,t,n,r))}function $t(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}jr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Te(r);if(null!==(i=ni(i))){var a=Je(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Xe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return jr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=un(mn),gn=un(i({},mn,{dataTransfer:0})),kn=un(i({},pn,{relatedTarget:0})),wn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=un(bn),_n=un(i({},hn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function Cn(){return In}var Nn=i({},pn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=un(Nn),Pn=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),On=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jn=un(Rn),Ln=[9,13,27,32],Mn=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var Un=f&&"TextEvent"in window&&!Fn,Vn=f&&(!Mn||Fn&&8<Fn&&11>=Fn),Bn=String.fromCharCode(32),qn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Yn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Yn[e.type]:"textarea"===t}function Kn(e,t,n,r){Pe(r),0<(t=Mr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Jn=null;function Xn(e){Nr(e,0)}function $n(e){if(X(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Qn&&(Qn.detachEvent("onpropertychange",ar),Jn=Qn=null)}function ar(e){if("value"===e.propertyName&&$n(Jn)){var t=[];if(Kn(t,Jn,e,Te(e)),e=Xn,Me)e(t);else{Me=!0;try{Oe(e,t)}finally{Me=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),Jn=n,(Qn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Jn)}function ur(e,t){if("click"===e)return $n(t)}function cr(e,t){if("input"===e||"change"===e)return $n(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,wr=null,br=null,xr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==$(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&hr(br,r)||(br=r,0<(r=Mr(wr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}jt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),jt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),jt(Rt,2);for(var Sr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<Sr.length;Er++)Ot.set(Sr[Er],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Qe.apply(this,arguments),We){if(!We)throw Error(o(198));var l=He;We=!1,He=null,Ye||(Ye=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}}}if(Ye)throw e=Ge,Ye=!1,Ge=null,e}function Ar(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Rr(t,e,2,!1),n.add(r))}var Pr="_reactListening"+Math.random().toString(36).slice(2);function Dr(e){e[Pr]||(e[Pr]=!0,s.forEach((function(t){Ir.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Rr(a,e,i,t),o.add(s))}function Rr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=Jt;break;case 1:i=Xt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function jr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Le(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=a,i=Te(n),o=[];e:{var s=Dt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=An;break;case"focusin":c="focus",u=kn;break;case"focusout":c="blur",u=kn;break;case"beforeblur":case"afterblur":u=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Dn;break;case Ct:case Nt:case At:u=wn;break;case Pt:u=On;break;case"scroll":u=vn;break;case"wheel":u=jn;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Pn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Lr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Je(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Pn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Fr(d))p++;for(d=0,v=h;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==u&&Ur(o,s,u,l,!1),null!==c&&null!==f&&Ur(o,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Zn;else if(Gn(s))if(er)m=cr;else{m=sr;var y=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(kr=y,wr=r,br=null);break;case"focusout":br=wr=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,_r(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(o,n,i)}var g;if(Mn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Hn?zn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Hn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(y=Mr(r,k)).length&&(k=new _n(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Wn(n))&&(k.data=g))),(g=Un?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(qn=!0,Bn);case"textInput":return(e=t.data)===Bn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Mn&&zn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Mr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Nr(o,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Lr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Lr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ve(n,a))&&o.unshift(Lr(n,u,s)):i||null!=(u=Ve(n,a))&&o.push(Lr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var Br=null,qr=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Yr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Jr=0;var Xr=Math.random().toString(36).slice(2),$r="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[$r]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[$r])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[$r]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=wi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var _i=null,Si=null,Ei=a.unstable_runWithPriority,Ti=a.unstable_scheduleCallback,Ii=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ni=a.unstable_requestPaint,Ai=a.unstable_now,Pi=a.unstable_getCurrentPriorityLevel,Di=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,Ri=a.unstable_NormalPriority,ji=a.unstable_LowPriority,Li=a.unstable_IdlePriority,Mi={},Fi=void 0!==Ni?Ni:function(){},Ui=null,Vi=null,Bi=!1,qi=Ai(),zi=1e4>qi?Ai:function(){return Ai()-qi};function Wi(){switch(Pi()){case Di:return 99;case Oi:return 98;case Ri:return 97;case ji:return 96;case Li:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Di;case 98:return Oi;case 97:return Ri;case 96:return ji;case 95:return Li;default:throw Error(o(332))}}function Yi(e,t){return e=Hi(e),Ei(e,t)}function Gi(e,t,n){return e=Hi(e),Ti(e,t,n)}function Ki(){if(null!==Vi){var e=Vi;Vi=null,Ii(e)}Qi()}function Qi(){if(!Bi&&null!==Ui){Bi=!0;var e=0;try{var t=Ui;Yi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ti(Di,Ki),n}finally{Bi=!1}}}var Ji=b.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var $i=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=$i.current;li($i),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Mo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Bs|=s,e.lanes=s,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),pu(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Sa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ea(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Yu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ju(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ku(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ju(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case _:return(t=Xu(t,e.mode,n)).return=e,t}if(xa(t)||q(t))return(t=Ku(t,e.mode,n,null)).return=e,t;Sa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===S?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(xa(n)||q(n))return null!==i?null:f(e,t,n,r,null);Sa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===S?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||q(r))return f(t,e=e.get(n)||null,r,i,null);Sa(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=q(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===S&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===S){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=_a(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===S?((r=Ku(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=_a(e,r,a),u.return=e,e=u)}return s(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xu(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ju(a,e.mode,u)).return=e,e=r),s(e);if(xa(a))return v(e,r,a,u);if(q(a))return m(e,r,a,u);if(l&&Sa(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ta=Ea(!0),Ia=Ea(!1),Ca={},Na=ci(Ca),Aa=ci(Ca),Pa=ci(Ca);function Da(e){if(e===Ca)throw Error(o(174));return e}function Oa(e,t){switch(fi(Pa,t),fi(Aa,e),fi(Na,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Na),fi(Na,t)}function Ra(){li(Na),li(Aa),li(Pa)}function ja(e){Da(Pa.current);var t=Da(Na.current),n=pe(t,e.type);t!==n&&(fi(Aa,e),fi(Na,n))}function La(e){Aa.current===e&&(li(Na),li(Aa))}var Ma=ci(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,Va=null,Ba=!1;function qa(e,t){var n=Wu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function za(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wa(e){if(Ba){var t=Va;if(t){var n=t;if(!za(e,t)){if(!(t=Kr(n.nextSibling))||!za(e,t))return e.flags=-1025&e.flags|2,Ba=!1,void(Ua=e);qa(Ua,n)}Ua=e,Va=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,Ba=!1,Ua=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Ya(e){if(e!==Ua)return!1;if(!Ba)return Ha(e),Ba=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=Va;t;)qa(e,t),t=Kr(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Ua?Kr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=Ua=null,Ba=!1}var Ka=[];function Qa(){for(var e=0;e<Ka.length;e++)Ka[e]._workInProgressVersionPrimary=null;Ka.length=0}var Ja=b.ReactCurrentDispatcher,Xa=b.ReactCurrentBatchConfig,$a=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if($a=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ja.current=null===e||null===e.memoizedState?Oo:Ro,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ja.current=jo,e=n(r,i)}while(ro)}if(Ja.current=Do,t=null!==eo&&null!==eo.next,$a=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if(($a&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,Za.lanes|=l,Bs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(Mo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(Mo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=($a&e)===e)&&(t._workInProgressVersionPrimary=r,Ka.push(t))),e)return n(t._source);throw Ka.push(t),Error(o(350))}function po(e,t,n,r){var i=Os;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Ja.current,c=u.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Wt(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Po.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(uo(),e,t,n)}function mo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Po.bind(null,Za,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},so().memoizedState=e}function ko(){return uo().memoizedState}function wo(e,t,n,r){var i=so();Za.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Za.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return wo(516,4,e,t)}function _o(e,t){return bo(516,4,e,t)}function So(e,t){return bo(4,2,e,t)}function Eo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Eo.bind(null,t,e),n)}function Io(){}function Co(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=Wi();Yi(98>n?98:n,(function(){e(!0)})),Yi(97<n?97:n,(function(){var n=Xa.transition;Xa.transition=1;try{e(!1),t()}finally{Xa.transition=n}}))}function Po(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Do={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Oo={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Eo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Po.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:Io,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ba){var e=!1,t=function(e){return{$$typeof:j,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Jr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,yo(5,(function(){n("r:"+(Jr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Jr++).toString(36)),t},unstable_isNewReconciler:!1},Ro={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:To,useLayoutEffect:So,useMemo:No,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:Io,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return _o((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},jo={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:To,useLayoutEffect:So,useMemo:No,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:Io,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return _o((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Lo=b.ReactCurrentOwner,Mo=!1;function Fo(e,t,n,r){t.child=null===e?Ia(t,null,n,r):Ta(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Hu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Yu(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Mo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(Mo=!0)}return Wo(e,t,n,r,a)}function qo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xu(t,e),null;t.memoizedState={baseLanes:0},xu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xu(t,r);return Fo(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wo(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Ho(e,t,n,r,i){if(yi(n)){var a=!0;bi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&wa(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),u=t.memoizedState,s!==r||h!==u||pi.current||sa?("function"===typeof l&&(ma(t,n,l,r),u=t.memoizedState),(s=sa||ga(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Xi(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=mi(t,u=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&wa(t,o,r,u),sa=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||pi.current||sa?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=sa||ga(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Yo(e,t,n,r,a,i)}function Yo(e,t,n,r,i,a){zo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),as(e,t,a);r=t.stateNode,Lo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ta(t,e.child,null,a),t.child=Ta(t,null,s,a)):Fo(e,t,s,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Oa(e,t.containerInfo)}var Ko,Qo,Jo,Xo={dehydrated:null,retryLane:0};function $o(e,t,n){var r,i=t.pendingProps,a=Ma.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Ma,1&a),null===e?(void 0!==i.fallback&&Wa(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,t.lanes=33554432,e):((n=Qu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Xo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Qu(t,i,0,null),n=Ku(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Yu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Yu(o,s),null!==e?r=Yu(e,r):(r=Ku(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=Ma.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Ma,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Yu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Yu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!Ba)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Ra(),li(pi),li(di),Qa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ya(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:La(t);var a=Da(Pa.current);if(n=t.type,null!==e&&null!=t.stateNode)Qo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Da(Na.current),Ya(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[$r]=t,r[Zr]=s,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Ar(Tr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,s),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ar("invalid",r);break;case"textarea":ue(r,s),Ar("invalid",r)}for(var c in Se(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":J(r),re(r,s,!0);break;case"textarea":J(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[$r]=t,e[Zr]=r,Ko(e,t),t.stateNode=e,c=Ee(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Tr.length;a++)Ar(Tr[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Ar("invalid",e);break;default:a=r}Se(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?xe(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Ar("scroll",e):null!=f&&w(e,s,f,c))}switch(n){case"input":J(e),re(e,r,!1);break;case"textarea":J(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Jo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Da(Pa.current),Da(Na.current),Ya(t)?(r=t.stateNode,n=t.memoizedProps,r[$r]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[$r]=t,t.stateNode=r)}return null;case 13:return li(Ma),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ya(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ma.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Os||0===(134217727&Bs)&&0===(134217727&qs)||gu(Os,js))),(r||n)&&(t.flags|=4),null);case 4:return Ra(),null===e&&Dr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Ma),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fa(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Ma,1&Ma.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Ys&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fa(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ba)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Ys&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Ma.current,fi(Ma,s?1&t|2:1&t),n):null;case 23:case 24:return _u(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ra(),li(pi),li(di),Qa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return La(e),null;case 13:return li(Ma),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Ma),null;case 4:return Ra(),null;case 10:return ra(e),null;case 23:case 24:return _u(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=Y(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ko=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Da(Na.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Se(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ar("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===j?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Jo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Js||(Js=!0,Xs=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===$s?$s=new Set([this]):$s.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function ys(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Mu(n,e),Lu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(Si&&"function"===typeof Si.onCommitFiberUnmount)try{Si.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Mu(t,n);else{r=t;try{i()}catch(a){Vu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vu(t,a)}break;case 5:vs(t);break;case 4:Es(e,t)}}function ws(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function bs(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(bs(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||bs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_s(e,n,t):Ss(e,n,t)}function _s(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function Ss(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ss(e,t,n),e=e.sibling;null!==e;)Ss(e,t,n),e=e.sibling}function Es(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ks(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ts(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ee(e,i),t=Ee(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?xe(n,u):"dangerouslySetInnerHTML"===s?ye(n,u):"children"===s?ge(n,u):w(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hs=zi(),gs(t.child,!0)),void Is(t);case 19:return void Is(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(o(163))}function Is(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=qu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ns=Math.ceil,As=b.ReactCurrentDispatcher,Ps=b.ReactCurrentOwner,Ds=0,Os=null,Rs=null,js=0,Ls=0,Ms=ci(0),Fs=0,Us=null,Vs=0,Bs=0,qs=0,zs=0,Ws=null,Hs=0,Ys=1/0;function Gs(){Ys=zi()+500}var Ks,Qs=null,Js=!1,Xs=null,$s=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Ds)?zi():-1!==su?su:su=zi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===uu&&(uu=Vs),0!==Ji.transition){0!==cu&&(cu=null!==Ws?Ws.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Ds)&&98===e?e=Vt(12,uu):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;zt(e,t,n),e===Os&&(qs|=t,4===Fs&&gu(e,js));var r=Wi();1===t?0!==(8&Ds)&&0===(48&Ds)?ku(e):(mu(e,n),0===Ds&&(Gs(),Ki())):(0===(4&Ds)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),Ws=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Wt(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Mt(c);var f=Lt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Os?js:0),t=Lt,0===r)null!==n&&(n!==Mi&&Ii(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Ii(n)}15===t?(n=ku.bind(null,e),null===Ui?(Ui=[n],Vi=Ti(Di,Qi)):Ui.push(n),n=Mi):14===t?n=Gi(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,yu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yu(e){if(su=-1,cu=uu=0,0!==(48&Ds))throw Error(o(327));var t=e.callbackNode;if(ju()&&e.callbackNode!==t)return null;var n=Ft(e,e===Os?js:0);if(0===n)return null;var r=n,i=Ds;Ds|=16;var a=Tu();for(Os===e&&js===r||(Gs(),Su(e,r));;)try{Nu();break}catch(u){Eu(e,u)}if(na(),As.current=a,Ds=i,null!==Rs?r=0:(Os=null,js=0,r=Fs),0!==(Vs&qs))Su(e,0);else if(0!==r){if(2===r&&(Ds|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=Iu(e,n))),1===r)throw t=Us,Su(e,0),gu(e,n),mu(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Du(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=Hs+500-zi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Du.bind(null,e),r);break}Du(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Wt(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ns(n/1960))-n)){e.timeoutHandle=Hr(Du.bind(null,e),n);break}Du(e);break;default:throw Error(o(329))}}return mu(e,zi()),e.callbackNode===t?yu.bind(null,e):null}function gu(e,t){for(t&=~zs,t&=~qs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&Ds))throw Error(o(327));if(ju(),e===Os&&0!==(e.expiredLanes&js)){var t=js,n=Iu(e,t);0!==(Vs&qs)&&(n=Iu(e,t=Ft(e,t)))}else n=Iu(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Ds|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=Iu(e,t))),1===n)throw n=Us,Su(e,0),gu(e,t),mu(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Du(e),mu(e,zi()),null}function wu(e,t){var n=Ds;Ds|=1;try{return e(t)}finally{0===(Ds=n)&&(Gs(),Ki())}}function bu(e,t){var n=Ds;Ds&=-2,Ds|=8;try{return e(t)}finally{0===(Ds=n)&&(Gs(),Ki())}}function xu(e,t){fi(Ms,Ls),Ls|=t,Vs|=t}function _u(){Ls=Ms.current,li(Ms)}function Su(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Yr(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Ra(),li(pi),li(di),Qa();break;case 5:La(r);break;case 4:Ra();break;case 13:case 19:li(Ma);break;case 10:ra(r);break;case 23:case 24:_u()}n=n.return}Os=e,Rs=Yu(e.current,null),js=Ls=Vs=t,Fs=0,Us=null,zs=qs=Bs=0}function Eu(e,t){for(;;){var n=Rs;try{if(na(),Ja.current=Do,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if($a=0,to=eo=Za=null,ro=!1,Ps.current=null,null===n||null===n.return){Fs=1,Us=t,Rs=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=js,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Ma.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=la(-1,1);g.tag=2,fa(s,g)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fs,u=new Set,k.set(c,u)):void 0===(u=k.get(c))&&(u=new Set,k.set(c,u)),!u.has(s)){u.add(s);var w=Bu.bind(null,a,c,s);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hs(0,a,t));break e;case 1:a=u;var b=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof b.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===$s||!$s.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Pu(n)}catch(_){t=_,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function Tu(){var e=As.current;return As.current=Do,null===e?Do:e}function Iu(e,t){var n=Ds;Ds|=16;var r=Tu();for(Os===e&&js===t||Su(e,t);;)try{Cu();break}catch(i){Eu(e,i)}if(na(),Ds=n,As.current=r,null!==Rs)throw Error(o(261));return Os=null,js=0,Fs}function Cu(){for(;null!==Rs;)Au(Rs)}function Nu(){for(;null!==Rs&&!Ci();)Au(Rs)}function Au(e){var t=Ks(e.alternate,e,Ls);e.memoizedProps=e.pendingProps,null===t?Pu(e):Rs=t,Ps.current=null}function Pu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ls)))return void(Rs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ls)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Rs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Fs&&(Fs=5)}function Du(e){var t=Wi();return Yi(99,Ou.bind(null,e,t)),null}function Ou(e,t){do{ju()}while(null!==eu);if(0!==(48&Ds))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Wt(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Os&&(Rs=Os=null,js=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ds,Ds|=32,Ps.current=null,Br=Qt,yr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(T){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=s,y=null;t:for(;;){for(var g;m!==u||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===s)break t;if(y===u&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;qr={focusedElem:s,selectionRange:u},Qt=!1,lu=null,fu=!1,Qs=r;do{try{Ru()}catch(T){if(null===Qs)throw Error(o(330));Vu(Qs,T),Qs=Qs.nextEffect}}while(null!==Qs);lu=null,Qs=r;do{try{for(s=e;null!==Qs;){var k=Qs.flags;if(16&k&&ge(Qs.stateNode,""),128&k){var w=Qs.alternate;if(null!==w){var b=w.ref;null!==b&&("function"===typeof b?b(null):b.current=null)}}switch(1038&k){case 2:xs(Qs),Qs.flags&=-3;break;case 6:xs(Qs),Qs.flags&=-3,Ts(Qs.alternate,Qs);break;case 1024:Qs.flags&=-1025;break;case 1028:Qs.flags&=-1025,Ts(Qs.alternate,Qs);break;case 4:Ts(Qs.alternate,Qs);break;case 8:Es(s,u=Qs);var x=u.alternate;ws(u),null!==x&&ws(x)}Qs=Qs.nextEffect}}catch(T){if(null===Qs)throw Error(o(330));Vu(Qs,T),Qs=Qs.nextEffect}}while(null!==Qs);if(b=qr,w=mr(),k=b.focusedElem,s=b.selectionRange,w!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==s&&yr(k)&&(w=s.start,void 0===(b=s.end)&&(b=w),"selectionStart"in k?(k.selectionStart=w,k.selectionEnd=Math.min(b,k.value.length)):(b=(w=k.ownerDocument||document)&&w.defaultView||window).getSelection&&(b=b.getSelection(),u=k.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!b.extend&&x>s&&(u=s,s=x,x=u),u=pr(k,x),a=pr(k,s),u&&a&&(1!==b.rangeCount||b.anchorNode!==u.node||b.anchorOffset!==u.offset||b.focusNode!==a.node||b.focusOffset!==a.offset)&&((w=w.createRange()).setStart(u.node,u.offset),b.removeAllRanges(),x>s?(b.addRange(w),b.extend(a.node,a.offset)):(w.setEnd(a.node,a.offset),b.addRange(w))))),w=[];for(b=k;b=b.parentNode;)1===b.nodeType&&w.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<w.length;k++)(b=w[k]).element.scrollLeft=b.left,b.element.scrollTop=b.top}Qt=!!Br,qr=Br=null,e.current=n,Qs=r;do{try{for(k=e;null!==Qs;){var _=Qs.flags;if(36&_&&ys(k,Qs.alternate,Qs),128&_){w=void 0;var S=Qs.ref;if(null!==S){var E=Qs.stateNode;Qs.tag,w=E,"function"===typeof S?S(w):S.current=w}}Qs=Qs.nextEffect}}catch(T){if(null===Qs)throw Error(o(330));Vu(Qs,T),Qs=Qs.nextEffect}}while(null!==Qs);Qs=null,Fi(),Ds=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for(Qs=r;null!==Qs;)t=Qs.nextEffect,Qs.nextEffect=null,8&Qs.flags&&((_=Qs).sibling=null,_.stateNode=null),Qs=t;if(0===(r=e.pendingLanes)&&($s=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,Si&&"function"===typeof Si.onCommitFiberRoot)try{Si.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(T){}if(mu(e,zi()),Js)throw Js=!1,e=Xs,Xs=null,e;return 0!==(8&Ds)||Ki(),null}function Ru(){for(;null!==Qs;){var e=Qs.alternate;fu||null===lu||(0!==(8&Qs.flags)?et(Qs,lu)&&(fu=!0):13===Qs.tag&&Cs(e,Qs)&&et(Qs,lu)&&(fu=!0));var t=Qs.flags;0!==(256&t)&&ms(e,Qs),0===(512&t)||Zs||(Zs=!0,Gi(97,(function(){return ju(),null}))),Qs=Qs.nextEffect}}function ju(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Yi(e,Fu)}return!1}function Lu(e,t){nu.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return ju(),null})))}function Mu(e,t){ru.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return ju(),null})))}function Fu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Ds))throw Error(o(331));var t=Ds;Ds|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ds=t,Ki(),!0}function Uu(e,t,n){fa(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(zt(e,1,t),mu(e,t))}function Vu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$s||!$s.has(r))){var i=ds(n,e=cs(t,e),1);if(fa(n,i),i=hu(),null!==(n=vu(n,1)))zt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===$s||!$s.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Os===e&&(js&n)===n&&(4===Fs||3===Fs&&(62914560&js)===js&&500>zi()-Hs?Su(e,0):zs|=n),mu(e,t)}function qu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===uu&&(uu=Vs),0===(t=Bt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(zt(e,t,n),mu(e,n))}function zu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Wu(e,t,n,r){return new zu(e,t,n,r)}function Hu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Yu(e,t){var n=e.alternate;return null===n?((n=Wu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Hu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Ku(n.children,i,a,t);case L:s=8,i|=16;break;case E:s=8,i|=1;break;case T:return(e=Wu(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=a,e;case A:return(e=Wu(13,n,t,i)).type=A,e.elementType=A,e.lanes=a,e;case P:return(e=Wu(19,n,t,i)).elementType=P,e.lanes=a,e;case M:return Qu(n,i,a,t);case F:return(e=Wu(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case C:s=9;break e;case N:s=11;break e;case D:s=14;break e;case O:s=16,r=null;break e;case R:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Wu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Ku(e,t,n,r){return(e=Wu(7,e,r,t)).lanes=n,e}function Qu(e,t,n,r){return(e=Wu(23,e,r,t)).elementType=M,e.lanes=n,e}function Ju(e,t,n){return(e=Wu(6,e,null,t)).lanes=n,e}function Xu(e,t,n){return(t=Wu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $u(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if(Je(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(yi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=wi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new $u(e,t,null!=n&&!0===n.hydrate),t=Wu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Dr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}bu((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zu(e,t,null,n)}Ks=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Mo=!0;else{if(0===(n&r)){switch(Mo=!1,t.tag){case 3:Go(t),Ga();break;case 5:ja(t);break;case 1:yi(t.type)&&bi(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi($i,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?$o(e,t,n):(fi(Ma,1&Ma.current),null!==(t=as(e,t,n))?t.sibling:null);fi(Ma,1&Ma.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Ma,Ma.current),r)break;return null;case 23:case 24:return t.lanes=0,qo(e,t,n)}return as(e,t,n)}Mo=0!==(16384&e.flags)}else Mo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ma(t,r,s,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,ba(t,r,e,n),t=Yo(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Hu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===D)return 14}return 2}(i),e=Xi(i,e),a){case 0:t=Wo(null,t,i,e,n);break e;case 1:t=Ho(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Kr(t.stateNode.containerInfo.firstChild),Ua=t,a=Ba=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ka.push(a);for(n=Ia(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Ga();t=t.child}return t;case 5:return ja(t),null===e&&Wa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Wr(r,i)?s=null:null!==a&&Wr(r,a)&&(t.flags|=16),zo(e,t),Fo(e,t,s,n),t.child;case 6:return null===e&&Wa(t),null;case 13:return $o(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ta(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(fi($i,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,fa(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=Xi(i=t.type,t.pendingProps),Vo(e,t,i,a=Xi(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,bi(t)):e=!1,aa(t,n),ka(t,r,i),ba(t,r,i,n),Yo(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return qo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ie=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Oe=wu,Re=function(e,t,n,r,i){var a=Ds;Ds|=4;try{return Yi(98,e.bind(null,t,n,r,i))}finally{0===(Ds=a)&&(Gs(),Ki())}},je=function(){0===(49&Ds)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,zi())}))}Ki()}(),ju())},Le=function(e,t){var n=Ds;Ds|=2;try{return e(t)}finally{0===(Ds=n)&&(Gs(),Ki())}};var uc={Events:[ri,ii,ai,Pe,De,ju,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{_i=fc.inject(lc),Si=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ds;if(0!==(48&n))return e(t);Ds|=1;try{if(e)return Yi(99,e.bind(null,t))}finally{Ds=n,Ki()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(bu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=wu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";n(1725);var r=n(2791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},9117:function(e,t,n){"use strict";var r=n(1725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var w={current:null},b=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)b.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:w.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+T(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),I(o,t,n,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+T(s=e[c],c);u+=I(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=I(s=s.value,t,n,l=r+T(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function P(){var e=A.current;if(null===e)throw Error(d(321));return e}var D={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)b.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return P().useCallback(e,t)},t.useContext=function(e,t){return P().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return P().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return P().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},t.useMemo=function(e,t){return P().useMemo(e,t)},t.useReducer=function(e,t,n){return P().useReducer(e,t,n)},t.useRef=function(e){return P().useRef(e)},t.useState=function(e){return P().useState(e)},t.version="17.0.2"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},9727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(P){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};u(k,a,(function(){return this}));var w=Object.getPrototypeOf,b=w&&w(w(N([])));b&&b!==n&&r.call(b,a)&&(k=b);var x=g.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=g,u(x,"constructor",g),u(g,"constructor",y),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(S.prototype),u(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),u(x,s,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},6813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,b=w.port2;w.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?b.postMessage(null):(v=!1,m=null)}catch(n){throw b.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,b.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<E(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>E(o,n))void 0!==u&&0>E(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>E(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],I=[],C=1,N=null,A=3,P=!1,D=!1,O=!1;function R(e){for(var t=_(I);null!==t;){if(null===t.callback)S(I);else{if(!(t.startTime<=e))break;S(I),t.sortIndex=t.expirationTime,x(T,t)}t=_(I)}}function j(e){if(O=!1,R(e),!D)if(null!==_(T))D=!0,n(L);else{var t=_(I);null!==t&&r(j,t.startTime-e)}}function L(e,n){D=!1,O&&(O=!1,i()),P=!0;var a=A;try{for(R(n),N=_(T);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,A=N.priorityLevel;var s=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?N.callback=s:N===_(T)&&S(T),R(n)}else S(T);N=_(T)}if(null!==N)var u=!0;else{var c=_(I);null!==c&&r(j,c.startTime-n),u=!1}return u}finally{N=null,A=a,P=!1}}var M=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||P||(D=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return _(T)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=M,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,x(I,e),null===_(T)&&e===_(I)&&(O?i():O=!0,r(j,o-s))):(e.sortIndex=u,x(T,e),D||P||(D=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},24:function(e,t,n){"use strict";e.exports=n.p+"static/media/7.4a4d7cc27ef6528f542c.png"},4274:function(e,t,n){"use strict";e.exports=n.p+"static/media/aboutvegetable.d3395c8fcf634f5d0de9.png"},4173:function(e,t,n){"use strict";e.exports=n.p+"static/media/broccoli.d577bf742ba919305636.png"},376:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAADnAAAA5wBbpuhTgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAA9GSURBVHic7Z17kFTVncc/53b3MAMMCg4GRowkgcQ8KVY3UUzGoKEhxtW4pkaxiRGdhg2p2tqYivtIVoqiNHErm90kGIMNMXFtMCau6AYMLRSur0rtahZ8Ioi0oiBCeCjM9Ex337N/NKMz3edOn9v3Ocz9VE0Vc7rPg7nf+/v9zu+ee46QUhIxcjGCHkBEsMT7/5FMpc8AznTY3ru5bOYFh21E+IiYc03XB4GfApcCMRfa3AksyWUzm1xoK8JjDODbwOW4c/EBpgOrkqn0aJfai/AQA+j0oN2zgLketBvhMgbwsEdtn+NRuxEuYgA/BrZ50HYkgGGA6M8DJFPpzwEfarCdfwY+UVV2IJfNnO5gbBE+INxIBCVT6RXAtxQfnZXLZl533EGEZ7iVCHrGojxyAyEnEsAIxy0BvAj0KMojAYQcVwSQy2ZKwLOKjyIBhBw3HwY9rSibmEylnT5fiPAQNwVgFQec62IfES7jhwAiNxBi3BRAFAgOQ1wTQBQIDk/i9b9ii6eBz1WVTXzlP9tvn9Z26F2X+4ponF3APXQUetwWgDIOePvYmCXT2g653FWEQ27lsebr3V4TqBTAjgOnudxNhAu0AT90WwDKQHBnJICwMsVVAVgFgjsOTHCzmwj3OODFsvCajODRQjMHjo3xoKsIh+S9EIAyDth5MLICIcQ/AUSBYCjxRAAWgWBkAUKI+wKwCgR3HowsQAjxxAKAIhA80hMFgiHEMwG4GgjKMTPAaG58NIk25PikozZk80eQ42Y1PgYq/w85+pON109MQp46G9k83dE4TtAH7PVVAHYDQTn6E5Q+tYnSZ56g+Jd7KE/5J9sDMdv/luLM5yidfT/Fc3djTrjMZguC8tlrKc38P0qf3EhpxlPIpim2WpBNkymd8zKlzzxBacZTlKevApGw1YY54a8onbuT0scfojTjScxJXbbqK9hDR8H0SgCuBILmlO8iW088WzKaMafchBwzU78Bo5nymd+D2NjK77GxmFNvsfXHl+O/hDn+UkBUfh/9acxJaf0xAOYHlyGb2vsHhdl2FXLcefoNJCZS/vCK9383WihPvQ2Eo0c5+cpoPMCtQNBs7RhcIGKYE6/Wri/HzQJj8DuqctTU90WlM4bTrqxtt+1r2vURCcyJV9W2O262/hjGz4NE1c0jmpy6gjx4u0GE40BQUK4pky0ftzEE9UsvMvEB/SYUcYMU+rGEbJqM8s8si/ptjOtQf1A+qt2Ggjx4KwDngWD3i7VlY2wIoO9tdXmTDQE4ZdQZymLRt1e7CXnK52vrF3bbakNBHgIQgJ1AUPS8VFMmE5MgPl6vfnG/slwmJmqPwSkyYSWAN/Xqj5qqDDrFO487Ghc+CMBxICi6tyvLZcvH9BooHgJZ60aw4wKcMspixtCrKYBTvqAsF0cfa3RE/eTBQwG4EQiqLACAHK3rBkwoHqyt76cFeC/6H4wo6plvK//v0AL0AXvB+13ClIHgweN6u8eInpeV5XYCQVFSxAG+xgAKC1B+F0p6AZxH/n8PHQUTvBeAszigdBTRt6+mWN8CAH2KOMBHF6CyALoXz2v/D2EXAChnArYsQPFAbf1Em37/DlFmDXvf0Kvrsf8H7wXgPBDsUQSCTR+AuGYbqpmAaNKeSThCJKCpNt7QtgDe+H/wSwCuBILdVoHg2Xr1i+pcgEx4v3uNZRKod49efW/8P/hoAcBxIGghAF03YJkM8mH7IgdJIA/9P/gsAEdxgOVMQDMQVM4CABn3wQI4SAJ56P8hDALQjgOsZgItei4gWAvQeBLIQ/9f5EQOAPwRgDIQ9GsmYJ0O9iMGaDwJ5KH/f70/BwA+CMCdjKBqJnB67SNSFUGmgxtMAvnl/8G/8wKcBYJWMwEtKxBcOrjRJJBf/h/8E4DDQNDZMwFlIOiLC2gsCeSh/4cwCUA3EHT8TECVDm6apFe3URwkgTz0/xCQANQZQd04wHImoBsI+p8ObjQJ5LH/hyAEYBkI2poJKBaH6D4UCiId3GASyGP/DwFZAFAEgoedZgQTbZWfenUt08HeBYKNJoHkOAsBuGMBBuUAwF8BOAsELZ8JaFiBINYGNpgEks21O/aLwqtu+f9BOQAIgQD0A0Gr5WH1M4JBpIMbTQIZhzfU1jn4W1fGRJX5B38F4CgQtBaAEwvg4VSwwSSQ8fbdg9yd6H6B2Js/cmtU+Zr+3Gq5Ho4DQQergyzTwXEPk0Fmd+04ejXOzij+mfjWzxJ/YR7xFy8hvm0WmAW3RpWvLvD75FBHgaByJqBjAazSwR7mAsShWlNu7F+tX/+dJxFHHwfMut+1Qb66wG8BuJ8RTJwGdaN5/9PBxuENGG/+G5i9YPZiHPwtxv5fe9afJvnqglAIwHEgqOMGGk0HF/K1bfW+Vr+eWSD2+s3E//QpEs9MJ7bzepB99et5S766wG8BOAsEnTwUUqaD608Djf2/ovodQ1umvPgWlA5rf99DanIA4LMAnAaCTlYHKdPBGgtLRW+e2Pb5iKP/jeh5mVj+Jgz3pmV+UpMDAPc3i9ahZkPp/kCwbUxt5DyI0hFE8a3K+4ED0LEA4tgzMHF+VdmftAZsHF6PcXi91ndDTF5V6LcLAKdLxI4rVgdprBA23r67xg0YB+/V6/PkIK8qDI8AtBNCijgg1lp/twyzh/jzszH2/ADj0EPEn7/ohH8fMeRVhUG4gP5AsGVgoe5U0Di6GXPy4ENKxbGtIEt164rePcTeuFV7oCcZW1SFvlsAx4Hg4UcQRza9X1A+hrHv524N72Tl93QUnlR9EIQFACeBIBB/6UrkqRdits7C2P8r7c0WRggSeAt49cTPOuABqy8HJQDLQFBHAGAijmwhdkRp1UYCPcBuKke/vFr1s5uOgurwLiXhEsDB0zh/qt6bsyc5EthH7cWt/HQUap+KNUhQAlAGgiPsZJFuKnex6iLbuoudIKRUb6XmNclU+o9UxQHjWwr85tphmWVTMdRdvIuOwlsBju09grIA4DAQDAmqu7jfL++mo+Dag3yvCFIAyjjg6T3tzDv7Fb/HYsXAu7g24ArJXeyEIAXwhKrw4e3T/RZAN1bB1jC5i50QWAwAkEyldwA1G95mOh/irPGOtkEdiKTyGNQqoh72d7ETgrQAAL8Hvl1d+PD26fzN+TWrx4ZiRN/FTghaAL9DIYDNOz7Mgr94lrGj3ltBo7qL3/fJHQX1qs+IugTqAgCSqfSjwIXV5aePPf7Kz69c/51xzb07gHx0F3tDGATwRSyeVAFrgAW5bCbYQZ7EBLEeYBC5bOZR4A8WH18DLPdvNCOPwC0AQDKVngxsA6zWaWeBf8xlM3ob7EVoEwoBACRT6UuB/xriKz3Aj4DbctnMcX9GdfITGgEAJFPp71C5yEOxD/g1lUUlzwIvn1hkEtEAoRIAQDKVXgKsoP+Yrvr0AtuBI54NanjwPHBHLpt5wU6l0AkAIJlKXwP8AmgNeizDkI5cNqO9m0TgswAVuWxmDfBp4NGAhzIcWWLny6EUAEAum3kNuAhYSMXER+gxys6XQ+kCqkmm0gL4KvBN4AuAg4OET3rm5LKZTfW/VmFYCGAgyVS6hYoIOoB2KrmDiUSi6A8Clcu/rRh2Aohwl9DGABH+EAlghBMJYIQTCWCEE/SKIFtctnjx6N7j8kJTyqkg2wW0CsF+YK8Qcusf/mP1tqDH6IRLFqSnlKX4vJS0C8FkU0gJ7DXgDYz4YxvvvsNiw8PGGRazgDnzu74iBIsQYg5VbxNV8ZqQPBAz+NcN92SGxTtmly1ePLrnWHmJQFwNnDPEV00EfxSmyP65VWSeXrmy6Eb/oRbAnPldM4UQP0bwRZtVC1Lws9GjzOUPrl79rhdjc4O5C7qul1Isp5LP0EbALlOKv39kzZ33Ox1DaAWQTC26DuQvsJnaHIx4sVwWl22+d+Uut8blBrM6b2wZm3jnl1TueifcXtw75e+2bFna8OPwUApgTqpruUB836XmDplCzNt0z53/61J7jpjTufgUkTA3M7S5t8Pm+OGWr2zY8NPeRiqHbhaQTC26zsWLDzDBkHJdcv4NtsysF3R2dsZEwvwN7l18gItLE3pWNVo5VAKYM79r5gmz7zbtGMb9y5YtC/T/eyR+6q3AXNcbliyYm+qqeb9Ch1AJACF+giOfPyTnPbVzz9c9arsu877eNQ0hG7pIOpiIZZd0Xm978+PQCCC5YNEVQqA+L8UlpBTLZy9cGMhTQ7MsfgAkvGpfQGspEb/Zbr3QCEAgF/nQzZmJYuLLPvQziNnXLG5DcIXX/UjkNzo7O5vs1AmFAOZee+0YKZntS2emvNyXfgaQEPJSIOZ1PwJaD8XHXWSnTigEgNncgXe+fzAC3y0AQvrWpyGErb5CIYBKbt83Tp/VeeNQ6WT3kUz1ry97f8tQCACkr3P0FuO43zkB//oTwlZfoRCA8Hn9fywm/X7fwLf+pM2+wiGAyiNd3zAM4feGEr71J2z2FQoBoDjKxEPK509r91cA0s//n7TVVygEIKXh50KO55YuXerqWWz1ELDVv94MW32FQgC57J1bkfiy5beAB/3oZyBmzL8+hRS2+gqFAACE4CFf+jFMy63TvWJ879HHgdqDC91G8NLGNSttvUYXGgEYZvxfqLzq7R1CrA9i3eB9991XlsjbPO/IxPZxKKERwMNr78gjWeFhF6YwzH/wsP0hKTWVVwAahwc3iBTbHlm7Kmu3WmgEANDSYi4DUXssmDvcsvHuVc971HZdttx1V0FIugAvdjPpFkLeIBtY3hW6JWEXX734I7GY+T+A5jly9ZGIdZvWZP66kT+Q2yQXpL/lsqWTIK/KZVc1tM9+qCwAwOZ7V+4yhZiHS7kBiVhnxAoLwnDxAXL3ZG4Xkptw51jwPim5odGLDyG0AP0k59/QjmHcD5zXYBMmcMsja1YtDcvFH0gylb6EyvZ3pzbYxD5hiq9tXHvnU07GEToL0E9u7eq9F3x0ygVCyOsAe/sDCrFexOSMXDZzcxgvPkAum9lgxvumCcm/A3aOFe8Glrc0mx9zevEhxBZgILMXLmxOFBNfxpSXn3ieX33uexl4TsCDwjAfGG6viF38jW+eYZSKVwjEV4ELqN3s4jhCPCrhwURfad2G+35ZexJ2gwwLAVQzq/PGlhbjeHssJlsNQ+w/f1r7fr/Tu14yr7NrAnFjcskoyXJC7t1y112ebYE3LAUQ4R6hjQEi/OH/ARjW/aFNbk7BAAAAAElFTkSuQmCC"},970:function(e,t,n){"use strict";e.exports=n.p+"static/media/checked.6f298cca57a5a8b36055.png"},5253:function(e,t,n){"use strict";e.exports=n.p+"static/media/dairy.13d18b58fb34da1a4f67.png"},6038:function(e,t,n){"use strict";e.exports=n.p+"static/media/discount.2f907620c5d0b76875ee.png"},2656:function(e,t,n){"use strict";e.exports=n.p+"static/media/farmer.565332106242fd790d8a.png"},2542:function(e,t,n){"use strict";e.exports=n.p+"static/media/strawberry.8ec7fc68ff9f77599d41.png"},7315:function(e,t,n){"use strict";e.exports=n.p+"static/media/tomato.e1ad346652c56714925e.png"},9895:function(e,t,n){"use strict";e.exports=n.p+"static/media/vegebag.0b8582f9c54308253c0c.png"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".9c48c142.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="vege:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[o[c]]=0},r=self.webpackChunkvege=self.webpackChunkvege||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();n(6920)}();
//# sourceMappingURL=main.e9c76cbc.js.map